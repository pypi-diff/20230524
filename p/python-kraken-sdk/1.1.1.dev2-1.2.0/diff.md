# Comparing `tmp/python_kraken_sdk-1.1.1.dev2-py3-none-any.whl.zip` & `tmp/python_kraken_sdk-1.2.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,26 +1,26 @@
-Zip file size: 89703 bytes, number of entries: 24
--rw-r--r--  2.0 unx      140 b- defN 23-Apr-02 12:18 kraken/__init__.py
--rw-r--r--  2.0 unx      173 b- defN 23-Apr-08 17:56 kraken/_version.py
--rw-r--r--  2.0 unx    18197 b- defN 23-Apr-08 16:52 kraken/base_api/__init__.py
--rw-r--r--  2.0 unx    10651 b- defN 23-Apr-08 16:52 kraken/exceptions/__init__.py
--rw-r--r--  2.0 unx      446 b- defN 23-Apr-08 16:52 kraken/futures/__init__.py
--rw-r--r--  2.0 unx     8526 b- defN 23-Apr-08 16:52 kraken/futures/funding/__init__.py
--rw-r--r--  2.0 unx    37636 b- defN 23-Apr-08 16:52 kraken/futures/market/__init__.py
--rw-r--r--  2.0 unx    25617 b- defN 23-Apr-08 16:52 kraken/futures/trade/__init__.py
--rw-r--r--  2.0 unx    31689 b- defN 23-Apr-08 16:52 kraken/futures/user/__init__.py
--rw-r--r--  2.0 unx     9868 b- defN 23-Apr-08 16:52 kraken/futures/websocket/__init__.py
--rw-r--r--  2.0 unx    12946 b- defN 23-Apr-08 16:52 kraken/futures/ws_client/__init__.py
--rw-r--r--  2.0 unx      464 b- defN 23-Apr-08 16:52 kraken/spot/__init__.py
--rw-r--r--  2.0 unx    13996 b- defN 23-Apr-08 16:52 kraken/spot/funding/__init__.py
--rw-r--r--  2.0 unx    13846 b- defN 23-Apr-08 16:52 kraken/spot/market/__init__.py
--rw-r--r--  2.0 unx     8719 b- defN 23-Apr-08 16:52 kraken/spot/staking/__init__.py
--rw-r--r--  2.0 unx    23580 b- defN 23-Apr-08 16:52 kraken/spot/trade/__init__.py
--rw-r--r--  2.0 unx    36811 b- defN 23-Apr-08 16:52 kraken/spot/user/__init__.py
--rw-r--r--  2.0 unx    20767 b- defN 23-Apr-08 16:52 kraken/spot/websocket/__init__.py
--rw-r--r--  2.0 unx    14652 b- defN 23-Apr-08 16:52 kraken/spot/ws_client/__init__.py
--rw-r--r--  2.0 unx    33066 b- defN 23-Apr-08 17:56 python_kraken_sdk-1.1.1.dev2.dist-info/LICENSE
--rw-r--r--  2.0 unx    53163 b- defN 23-Apr-08 17:56 python_kraken_sdk-1.1.1.dev2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Apr-08 17:56 python_kraken_sdk-1.1.1.dev2.dist-info/WHEEL
--rw-r--r--  2.0 unx        7 b- defN 23-Apr-08 17:56 python_kraken_sdk-1.1.1.dev2.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2111 b- defN 23-Apr-08 17:56 python_kraken_sdk-1.1.1.dev2.dist-info/RECORD
-24 files, 377163 bytes uncompressed, 86273 bytes compressed:  77.1%
+Zip file size: 91068 bytes, number of entries: 24
+-rw-r--r--  2.0 unx      140 b- defN 23-May-09 18:43 kraken/__init__.py
+-rw-r--r--  2.0 unx      160 b- defN 23-May-09 18:43 kraken/_version.py
+-rw-r--r--  2.0 unx    19106 b- defN 23-May-09 18:43 kraken/base_api/__init__.py
+-rw-r--r--  2.0 unx    10983 b- defN 23-May-09 18:43 kraken/exceptions/__init__.py
+-rw-r--r--  2.0 unx      446 b- defN 23-May-09 18:43 kraken/futures/__init__.py
+-rw-r--r--  2.0 unx     8853 b- defN 23-May-09 18:43 kraken/futures/funding/__init__.py
+-rw-r--r--  2.0 unx    37890 b- defN 23-May-09 18:43 kraken/futures/market/__init__.py
+-rw-r--r--  2.0 unx    25895 b- defN 23-May-09 18:43 kraken/futures/trade/__init__.py
+-rw-r--r--  2.0 unx    34545 b- defN 23-May-09 18:43 kraken/futures/user/__init__.py
+-rw-r--r--  2.0 unx     9868 b- defN 23-May-09 18:43 kraken/futures/websocket/__init__.py
+-rw-r--r--  2.0 unx    13934 b- defN 23-May-09 18:43 kraken/futures/ws_client/__init__.py
+-rw-r--r--  2.0 unx      464 b- defN 23-May-09 18:43 kraken/spot/__init__.py
+-rw-r--r--  2.0 unx    14301 b- defN 23-May-09 18:43 kraken/spot/funding/__init__.py
+-rw-r--r--  2.0 unx    14091 b- defN 23-May-09 18:43 kraken/spot/market/__init__.py
+-rw-r--r--  2.0 unx     9051 b- defN 23-May-09 18:43 kraken/spot/staking/__init__.py
+-rw-r--r--  2.0 unx    23859 b- defN 23-May-09 18:43 kraken/spot/trade/__init__.py
+-rw-r--r--  2.0 unx    37140 b- defN 23-May-09 18:43 kraken/spot/user/__init__.py
+-rw-r--r--  2.0 unx    21825 b- defN 23-May-09 18:43 kraken/spot/websocket/__init__.py
+-rw-r--r--  2.0 unx    14652 b- defN 23-May-09 18:43 kraken/spot/ws_client/__init__.py
+-rw-r--r--  2.0 unx    33066 b- defN 23-May-09 18:43 python_kraken_sdk-1.2.0.dist-info/LICENSE
+-rw-r--r--  2.0 unx    53649 b- defN 23-May-09 18:43 python_kraken_sdk-1.2.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-May-09 18:43 python_kraken_sdk-1.2.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        7 b- defN 23-May-09 18:43 python_kraken_sdk-1.2.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2086 b- defN 23-May-09 18:43 python_kraken_sdk-1.2.0.dist-info/RECORD
+24 files, 386103 bytes uncompressed, 87688 bytes compressed:  77.3%
```

## zipnote {}

```diff
@@ -51,23 +51,23 @@
 
 Filename: kraken/spot/websocket/__init__.py
 Comment: 
 
 Filename: kraken/spot/ws_client/__init__.py
 Comment: 
 
-Filename: python_kraken_sdk-1.1.1.dev2.dist-info/LICENSE
+Filename: python_kraken_sdk-1.2.0.dist-info/LICENSE
 Comment: 
 
-Filename: python_kraken_sdk-1.1.1.dev2.dist-info/METADATA
+Filename: python_kraken_sdk-1.2.0.dist-info/METADATA
 Comment: 
 
-Filename: python_kraken_sdk-1.1.1.dev2.dist-info/WHEEL
+Filename: python_kraken_sdk-1.2.0.dist-info/WHEEL
 Comment: 
 
-Filename: python_kraken_sdk-1.1.1.dev2.dist-info/top_level.txt
+Filename: python_kraken_sdk-1.2.0.dist-info/top_level.txt
 Comment: 
 
-Filename: python_kraken_sdk-1.1.1.dev2.dist-info/RECORD
+Filename: python_kraken_sdk-1.2.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## kraken/_version.py

```diff
@@ -1,4 +1,4 @@
 # file generated by setuptools_scm
 # don't change, don't track in version control
-__version__ = version = '1.1.1.dev2'
-__version_tuple__ = version_tuple = (1, 1, 1, 'dev2')
+__version__ = version = '1.2.0'
+__version_tuple__ = version_tuple = (1, 2, 0)
```

## kraken/base_api/__init__.py

```diff
@@ -9,15 +9,15 @@
 import hashlib
 import hmac
 import time
 import urllib.parse
 from typing import List, Union
 from uuid import uuid1
 
-from requests import Response, Session
+import requests
 
 from kraken.exceptions import KrakenException
 
 
 class KrakenErrorHandler:
     """
     Class that checks if the response of a request contains error messages and
@@ -70,20 +70,20 @@
         if "sendStatus" in data and "status" in data["sendStatus"]:
             exception = self.__get_exception(data["sendStatus"]["status"])
             if exception:
                 raise exception(data)
             return data
         return data
 
-    def check_batch_status(self, data: List[dict]) -> dict:
+    def check_batch_status(self, data: dict) -> dict:
         """
         Used to check the Futures batch order responses for errors
 
         :param data: The response as dict to check for an error
-        :type data: List[dict]
+        :type data: dict
         :raise kraken.exceptions.KrakenException.*: raises a KrakenError if the response contains an error
         :return: The response as List[dict]
         :rtype: List[dict]
         """
         if "batchStatus" in data:
             batch_status = data["batchStatus"]
             for status in batch_status:
@@ -109,28 +109,35 @@
     :type sandbox: bool, optional
     """
 
     URL = "https://api.kraken.com"
     API_V = "/0"
 
     def __init__(
-        self, key: str = "", secret: str = "", url: str = "", sandbox: bool = False
+        self,
+        key: str = "",
+        secret: str = "",
+        url: str = "",
+        sandbox: bool = False,
+        use_custom_exceptions: bool = True,
     ):
         if sandbox:
             raise ValueError("Sandbox not available for Kraken Spot trading.")
         if url != "":
             self.url = url
         else:
             self.url = self.URL
 
-        self.__nonce = 0
-        self.__key = key
-        self.__secret = secret
-        self.__err_handler = KrakenErrorHandler()
-        self.__session = Session()
+        self.__nonce: int = 0
+        self.__key: str = key
+        self.__secret: str = secret
+        self.__use_custom_exceptions: bool = use_custom_exceptions
+
+        self.__err_handler: KrakenErrorHandler = KrakenErrorHandler()
+        self.__session: requests.Session = requests.Session()
         self.__session.headers.update({"User-Agent": "python-kraken-sdk"})
 
     def _request(
         self,
         method: str,
         uri: str,
         timeout: int = 10,
@@ -159,24 +166,25 @@
          for example when requesting an export of the trade history as .zip archive.
         :type return_raw: bool
         :raise kraken.exceptions.KrakenException.*: If the response contains errors
         :return: The response
         :rtype: dict
         """
         if params is None:
-            params = {}
-        method = method.upper()
-        data_json = ""
+            params: dict = {}
+
+        method: str = method.upper()
+        data_json: str = ""
         if method in ("GET", "DELETE"):
             if params:
-                strl = [f"{key}={params[key]}" for key in sorted(params)]
-                data_json = "&".join(strl)
+                strl: List[str] = [f"{key}={params[key]}" for key in sorted(params)]
+                data_json: str = "&".join(strl)
                 uri += f"?{data_json}".replace(" ", "%20")
 
-        headers = {}
+        headers: dict = {}
         if auth:
             if (
                 not self.__key
                 or self.__key == ""
                 or not self.__secret
                 or self.__secret == ""
             ):
@@ -189,15 +197,15 @@
                     "API-Key": self.__key,
                     "API-Sign": self._get_kraken_signature(
                         f"{self.API_V}{uri}", params
                     ),
                 }
             )
 
-        url = f"{self.url}{self.API_V}{uri}"
+        url: str = f"{self.url}{self.API_V}{uri}"
         if method in ("GET", "DELETE"):
             return self.__check_response_data(
                 self.__session.request(
                     method=method, url=url, headers=headers, timeout=timeout
                 ),
                 return_raw,
             )
@@ -241,26 +249,29 @@
                     (str(data["nonce"]) + urllib.parse.urlencode(data)).encode()
                 ).digest(),
                 hashlib.sha512,
             ).digest()
         ).decode()
 
     def __check_response_data(
-        self, response: Response, return_raw: bool = False
-    ) -> Union[dict, Response]:
+        self, response: requests.Response, return_raw: bool = False
+    ) -> Union[dict, requests.Response]:
         """
         Checkes the response, handles the error (if exists) and returns the response data.
 
         :param response: The response of a request, requested by the requests module
         :type response: requests.Response
         :param return_raw: Defines if the return should be the raw response if there is no error
         :type data: bool
         :return: The reponse in raw or parsed to dict
         :rtype: Union[dict, requests.Response]
         """
+        if not self.__use_custom_exceptions:
+            return response
+
         if response.status_code in ("200", 200):
             if return_raw:
                 return response
             try:
                 data = response.json()
             except ValueError as exc:
                 raise ValueError(response.content) from exc
@@ -293,14 +304,20 @@
         """
         if isinstance(value, str):
             return value
         if isinstance(value, list):
             return ",".join(value)
         raise ValueError("a must be type of str or list of strings")
 
+    def __enter__(self):
+        return self
+
+    def __exit__(self, *exc) -> None:
+        pass
+
 
 class KrakenBaseFuturesAPI:
     """
     The base class for all Futures clients handles un-/signed requests
     and returns exception handled results.
 
     If the sandbox environment is chosen, the keys must be generated from here:
@@ -317,30 +334,36 @@
 
     """
 
     URL = "https://futures.kraken.com"
     SANDBOX_URL = "https://demo-futures.kraken.com"
 
     def __init__(
-        self, key: str = "", secret: str = "", url: str = "", sandbox: bool = False
+        self,
+        key: str = "",
+        secret: str = "",
+        url: str = "",
+        sandbox: bool = False,
+        use_custom_exceptions: bool = True,
     ):
-        self.sandbox = sandbox
+        self.sandbox: bool = sandbox
         if url:
-            self.url = url
+            self.url: str = url
         elif self.sandbox:
-            self.url = self.SANDBOX_URL
+            self.url: str = self.SANDBOX_URL
         else:
-            self.url = self.URL
+            self.url: str = self.URL
 
-        self.__key = key
-        self.__secret = secret
-        self.__nonce = 0
+        self.__key: str = key
+        self.__secret: str = secret
+        self.__nonce: int = 0
+        self.__use_custom_exceptions: bool = use_custom_exceptions
 
-        self.__err_handler = KrakenErrorHandler()
-        self.__session = Session()
+        self.__err_handler: KrakenErrorHandler = KrakenErrorHandler()
+        self.__session: requests.Session = requests.Session()
         self.__session.headers.update({"User-Agent": "python-kraken-sdk"})
 
     def _request(
         self,
         method: str,
         uri: str,
         timeout: int = 10,
@@ -364,51 +387,51 @@
         :param post_params: The query prameter of the request (default: ``None``)
         :type post_params: Union[dict, None]
         :param query_params: The query prameter of the request (default: ``None``)
         :type query_params: Union[dict, None]
         :param do_json: If the ``post_params`` must be "jsonified" - in case of nested dict style
         :type do_json: bool
         :param return_raw: If the response should be returned without parsing.
-         This is used for example when requesting an export of the trade history as .zip archive.
+            This is used for example when requesting an export of the trade history as .zip archive.
         :type return_raw: bool
         :raise kraken.exceptions.KrakenException.*: If the response contains errors
         :return: The response
         :rtype: dict
         """
-        method = method.upper()
+        method: str = method.upper()
 
         post_string: str = ""
         if post_params is not None:
             strl: List[str] = [
                 f"{key}={post_params[key]}" for key in sorted(post_params)
             ]
-            post_string = "&".join(strl)
+            post_string: str = "&".join(strl)
         else:
-            post_params = {}
+            post_params: dict = {}
 
         query_string: str = ""
         if query_params is not None:
             strl: List[str] = [
                 f"{key}={query_params[key]}" for key in sorted(query_params)
             ]
-            query_string = "&".join(strl).replace(" ", "%20")
+            query_string: str = "&".join(strl).replace(" ", "%20")
         else:
-            query_params = {}
+            query_params: dict = {}
 
-        headers = {}
+        headers: dict = {}
         if auth:
             if (
                 not self.__key
                 or self.__key == ""
                 or not self.__secret
                 or self.__secret == ""
             ):
                 raise ValueError("Missing credentials")
-            self.__nonce = (self.__nonce + 1) % 1
-            nonce = str(int(time.time() * 1000)) + str(self.__nonce).zfill(4)
+            self.__nonce: int = (self.__nonce + 1) % 1
+            nonce: str = str(int(time.time() * 1000)) + str(self.__nonce).zfill(4)
             headers.update(
                 {
                     "Content-Type": "application/x-www-form-urlencoded; charset=utf-8",
                     "Nonce": nonce,
                     "APIKey": self.__key,
                     "Authent": self._get_kraken_futures_signature(
                         uri, query_string + post_string, nonce
@@ -430,15 +453,15 @@
             )
 
         if method == "PUT":
             return self.__check_response_data(
                 self.__session.request(
                     method=method,
                     url=f"{self.url}{uri}",
-                    params=str.encode(query_string),
+                    params=str.encode(post_string),
                     headers=headers,
                     timeout=timeout,
                 ),
                 return_raw,
             )
 
         return self.__check_response_data(
@@ -476,39 +499,48 @@
         return base64.b64encode(
             hmac.new(
                 base64.b64decode(self.__secret), sha256_hash.digest(), hashlib.sha512
             ).digest()
         )
 
     def __check_response_data(
-        self, response: Response, return_raw: bool = False
-    ) -> dict:
+        self, response: requests.Response, return_raw: bool = False
+    ) -> Union[dict, requests.Response]:
         """
         Checkes the response, handles the error (if exists) and returns the response data.
 
         :param response: The response of a request, requested by the requests module
         :type response: requests.Response
         :param return_raw: Defines if the return should be the raw response if there is no error
         :type return_raw: dict
         :raise kraken.exceptions.KrakenException.*: If the response contains the error key
         :return: The signed string
-        :rtype: str
+        :rtype: Union[dict, Response]
         """
+        if not self.__use_custom_exceptions:
+            return response
+
         if response.status_code in ("200", 200):
             if return_raw:
                 return response
             try:
-                data = response.json()
+                data: dict = response.json()
             except ValueError as exc:
                 raise ValueError(response.content) from exc
 
             if "error" in data:
                 return self.__err_handler.check(data)
             if "sendStatus" in data:
                 return self.__err_handler.check_send_status(data)
             if "batchStatus" in data:
                 return self.__err_handler.check_batch_status(data)
             return data
 
         raise Exception(
             f"{response.status_code} - {response.text}"
         )  # pylint: disable=W0719
+
+    def __enter__(self):
+        return self
+
+    def __exit__(self, *exc) -> None:
+        pass
```

## kraken/exceptions/__init__.py

```diff
@@ -27,14 +27,15 @@
             "EService:Unavailable": self.KrakenServiceUnavailableError,
             "EService:Market in cancel_only mode": self.KrakenMarketInOnlyCancelModeError,
             "EService:Market in post_only mode": self.KrakenMarketInOnlyPostModeError,
             "EService:Deadline elapsed": self.KrakenDeadlineElapsedError,
             "EAPI:Invalid key": self.KrakenInvalidAPIKeyError,
             "EAPI:Invalid signature": self.KrakenInvalidSignatureError,
             "EAPI:Invalid nonce": self.KrakenInvalidNonceError,
+            "EAPI:Rate limit exceeded": self.KrakenApiLimitExceededError,
             "EOrder:Invalid order": self.KrakenInvalidOrderError,
             "EOrder:Invalid price": self.KrakenInvalidPriceError,
             "EOrder:Cannot open position": self.KrakenCannotOpenPositionError,
             "EOrder:Margin allowance exceeded": self.KrakenMarginAllowedExceededError,
             "EOrder:Margin level too low": self.KrakenMarginLevelToLowError,
             "EOrder:Margin position size exceeded": self.KrakenMarginPositionSizeExceededError,
             "EOrder:Insufficient margin": self.KrakenInsufficientMarginError,
@@ -52,18 +53,20 @@
             "EFunding:Unknown withdraw key": self.KrakenUnknownWithdrawKeyError,
             "EFunding:Invalid amount": self.KrakenInvalidAmountError,
             "EFunding:Invalid staking method": self.KrakenInvalidStakingMethodError,
             "EFunding:Too many addresses": self.KrakenToManyAdressesError,
             "EFunding:Unknown asset": self.KrakenUnknownAssetError,
             "EQuery:Unknown asset": self.KrakenUnknownAssetError,
             "EQuery:Unknown asset pair": self.KrakenUnknownAssetPairError,
+            # "WDatabase:No change": ,
             ##      Futures Trading Errors
             ##
             "authenticationError": self.KrakenAuthenticationError,
             "insufficientAvailableFunds": self.KrakenInsufficientAvailableFundsError,
+            "requiredArgumentMissing": self.KrakenRequiredArgumentMissingError,
             "apiLimitExceeded": self.KrakenApiLimitExceededError,
             "invalidUnit": self.KrakenInvalidUnitError,
             "Unavailable": self.KrakenUnavailableError,
             "invalidAccount": self.KrakenInvalidAccountError,
             "notFound": self.KrakenNotFoundError,
             "orderForEditNotFound": self.KrakenOrderForEditNotFoundError,
         }
@@ -99,14 +102,18 @@
         return cls
 
     @docstring_message
     class KrakenInvalidArgumentsError(Exception):
         """The request payload is malformed, incorrect or ambiguous."""
 
     @docstring_message
+    class KrakenRequiredArgumentMissingError(Exception):
+        """The request is missing a required argument."""
+
+    @docstring_message
     class KrakenInvalidArgumentsIndexUnavailableError(Exception):
         """Index pricing is unavailable for stop/profit orders on this pair."""
 
     @docstring_message
     class KrakenPermissionDeniedError(Exception):
         """API key doesn't have permission to make this request."""
```

## kraken/futures/funding/__init__.py

```diff
@@ -29,14 +29,22 @@
     .. code-block:: python
         :linenos:
         :caption: Futures Funding: Create the funding client
 
         >>> from kraken.futures import Funding
         >>> funding = Funding() # unauthenticated
         >>> funding = Funding(key="api-key", secret="secret-key") # authenticated
+
+    .. code-block:: python
+        :linenos:
+        :caption: Futures Funding: Create the funding client as context manager
+
+        >>> from kraken.futures import Funding
+        >>> with Funding(key="api-key", secret="secret-key") as funding:
+        ...     print(funding.get_historical_funding_rates(symbol="PI_XBTUSD"))
     """
 
     def __init__(
         self, key: str = "", secret: str = "", url: str = "", sandbox: bool = False
     ) -> None:
         super().__init__(key=key, secret=secret, url=url, sandbox=sandbox)
```

## kraken/futures/market/__init__.py

```diff
@@ -27,16 +27,24 @@
     :type sandbox: bool, optional
 
     .. code-block:: python
         :linenos:
         :caption: Futures Market: Create the market client
 
         >>> from kraken.futures import Market
-        >>> marker = Market() # unauthenticated
-        >>> marker = Market(key="api-key", secret="secret-key") # authenticated
+        >>> market = Market() # unauthenticated
+        >>> market = Market(key="api-key", secret="secret-key") # authenticated
+
+    .. code-block:: python
+        :linenos:
+        :caption: Futures Market: Create the market client as context manager
+
+        >>> from kraken.futures import Market
+        >>> with Market() as market:
+        ...     print(market.get_tick_types())
     """
 
     def __init__(
         self, key: str = "", secret: str = "", url: str = "", sandbox: bool = False
     ) -> None:
         super().__init__(key=key, secret=secret, url=url, sandbox=sandbox)
 
@@ -604,18 +612,19 @@
             >>> market = Market(key="api-key", secret="secret-key")
             >>> market.set_leverage_preference(symbol="PF_XBTUSD", maxLeverage=2)
             {'result': 'success', 'serverTime': '2023-04-04T05:59:49.576Z'}
         """
         params = {"symbol": symbol}
         if maxLeverage is not None:
             params["maxLeverage"] = maxLeverage
+
         return self._request(
             method="PUT",
             uri="/derivatives/api/v3/leveragepreferences",
-            query_params=params,
+            post_params=params,
             auth=True,
         )
 
     def get_pnl_preference(self) -> dict:
         """
         Get the current PNL (profit & loss) preferences. This can be used to define the currency
         in which the profits and losses are realized.
@@ -665,15 +674,15 @@
             >>> market = Market(key="api-key", secret="secret-key")
             >>> market.set_pnl_preference(symbol="PF_XBTUSD", pnlPreference="USD")
             {'result': 'success', 'serverTime': '2023-04-04T15:24:18.406Z'}
         """
         return self._request(
             method="PUT",
             uri="/derivatives/api/v3/pnlpreferences",
-            query_params={"symbol": symbol, "pnlPreference": pnlPreference},
+            post_params={"symbol": symbol, "pnlPreference": pnlPreference},
             auth=True,
         )
 
     def _get_historical_events(
         self,
         endpoint: str,
         before: Union[int, None] = None,
```

## kraken/futures/trade/__init__.py

```diff
@@ -29,14 +29,22 @@
     .. code-block:: python
         :linenos:
         :caption: Futures Trade: Create the trade client
 
         >>> from kraken.futures import Trade
         >>> trade = Trade() # unauthenticated
         >>> trade = Trade(key="api-key", secret="secret-key") # authenticated
+
+    .. code-block:: python
+        :linenos:
+        :caption: Futures Trade: Create the trade client as context manager
+
+        >>> from kraken.futures import Trade
+        >>> with Trade(key="api-key", secret="secret-key") as trade:
+        ...     print(trade.get_fills())
     """
 
     def __init__(
         self, key: str = "", secret: str = "", url: str = "", sandbox: bool = False
     ) -> None:
         super().__init__(key=key, secret=secret, url=url, sandbox=sandbox)
 
@@ -51,15 +59,15 @@
         :param lastFillTime: Filter by last filled timestamp
         :type lastFillTime: str | None, optional
         :return: Fills
         :rtype: dict
 
         .. code-block:: python
             :linenos:
-            :caption: Futures Trade: Get the recend fills
+            :caption: Futures Trade: Get the recent fills
 
             >>> from kraken.futures import Trade
             >>> trade = Trade(key="api-key", secret="secret-key")
             >>> trade.get_fills()
             {
                 'result': 'success',
                 'fills': [{
```

## kraken/futures/user/__init__.py

```diff
@@ -29,14 +29,22 @@
     .. code-block:: python
         :linenos:
         :caption: Futures User: Create the user client
 
         >>> from kraken.futures import User
         >>> user = User() # unauthenticated
         >>> user = User(key="api-key", secret="secret-key") # authenticated
+
+    .. code-block:: python
+        :linenos:
+        :caption: Futures User: Create the user client as context manager
+
+        >>> from kraken.futures import User
+        >>> with User(key="api-key", secret="secret-key") as user:
+        ...     print(user.get_wallets())
     """
 
     def __init__(
         self, key: str = "", secret: str = "", url: str = "", sandbox: bool = False
     ) -> None:
         super().__init__(key=key, secret=secret, url=url, sandbox=sandbox)
 
@@ -362,15 +370,15 @@
         :type continuation_token: str | None, optional
         :param since: Filter by a specifying a start point
         :type since: int | None, optional
         :param sort: Sort the results
         :type sort: str | None, optional
         :param tradeable: The asset to filter for
         :type tradeable: str | None, optional
-        :param auth: If the request is accessing a private endpoint (default_ ``True``)
+        :param auth: If the request is accessing a private endpoint (default: ``True``)
         :type auth: bool
         """
         params = {}
         if before is not None:
             params["before"] = before
         if continuation_token is not None:
             params["continuation_token"] = continuation_token
@@ -780,7 +788,77 @@
                 }, ...],
                 'serverTime': '2023-04-07T15:30:29.911Z'
             }
         """
         return self._request(
             method="GET", uri="/derivatives/api/v3/openorders", auth=True
         )
+
+    def check_trading_enabled_on_subaccount(self, subaccountUid: str) -> dict:
+        """
+        Checks if trading is enabled or disabled on the specified subaccount.
+
+        Requires the ``General API - Full Access`` permission in the API key settings.
+
+        This endpoint is only available for institutional clients and is not tested so far and
+        results in ``KrakenAuthenticationError``.
+
+        - https://docs.futures.kraken.com/#http-api-trading-v3-api-other-check-if-a-subaccount-has-trading-enabled-or-disabled
+
+        :return: The open futures positions/orders
+        :rtype: dict
+
+        .. code-block:: python
+            :linenos:
+            :caption: Futures Trade: Check if trading is enabled on a subaccount
+
+            >>> from kraken.futures import Trade
+            >>> trade = Trade(key="api-key", secret="secret-key")
+            >>> trade.set_trading_on_subaccount(
+            ...    subaccountUid="778387bh61b-f990-4128-16a7-gasdsdghasd",
+            ... )
+            {
+               "tradingEnabled": False
+            }
+        """
+        return self._request(
+            method="GET",
+            uri=f"/derivatives/api/v3/subaccount/{subaccountUid}/trading-enabled",
+            auth=True,
+        )
+
+    def set_trading_on_subaccount(
+        self, subaccountUid: str, trading_enabled: bool
+    ) -> dict:
+        """
+        Enable or disable trading on a subaccount.
+
+        Requires the ``General API - Full Access`` permission in the API key settings.
+
+        This endpoint is only available for institutional clients and is not tested so far and
+        always results in ``INTERNAL_SERVER_ERROR``.
+
+        - https://docs.futures.kraken.com/#http-api-trading-v3-api-other-enable-or-disable-trading-on-a-subaccount
+
+        :return: The open futures positions/orders
+        :rtype: dict
+
+        .. code-block:: python
+            :linenos:
+            :caption: Futures Trade: Dis-/Enable trading on a subaccount
+
+            >>> from kraken.futures import Trade
+            >>> trade = Trade(key="api-key", secret="secret-key")
+            >>> trade.set_trading_on_subaccount(
+            ...    subaccountUid="778387bh61b-f990-4128-16a7-gasdsdghasd",
+            ...    trading_enabled=True
+            ... )
+            {
+                "tradingEnabled": True
+            }
+        """
+        return self._request(
+            method="PUT",
+            uri=f"/derivatives/api/v3/subaccount/{subaccountUid}/trading-enabled",
+            post_params={"tradingEnabled": trading_enabled},
+            auth=True,
+        )
```

## kraken/futures/ws_client/__init__.py

```diff
@@ -71,14 +71,44 @@
         if __name__ == "__main__":
             loop = asyncio.new_event_loop()
             asyncio.set_event_loop(loop)
             try:
                 asyncio.run(main())
             except KeyboardInterrupt:
                 loop.close()
+
+
+                from kraken.futures import KrakenFuturesWSClient
+
+    .. code-block:: python
+        :linenos:
+        :caption: Futures Websocket: Create the websocket client as context manager
+
+        import asyncio
+        from kraken.futures import KrakenFuturesWSClient
+
+        async def on_message(msg):
+            print(msg)
+
+        async def main() -> None:
+            async with KrakenFuturesWSClient(callback=on_message) as session:
+                await session.subscribe(feed="ticker", products=["PF_XBTUSD"])
+
+            while True:
+                await asyncio.sleep(6)
+
+        if __name__ == "__main__":
+            loop = asyncio.new_event_loop()
+            asyncio.set_event_loop(loop)
+            try:
+                asyncio.run(main())
+            except KeyboardInterrupt:
+                pass
+            finally:
+                loop.close()
     """
 
     PROD_ENV_URL = "futures.kraken.com/ws/v1"
     DEMO_ENV_URL = "demo-futures.kraken.com/ws/v1"
 
     def __init__(
         self,
@@ -352,7 +382,13 @@
                 }, {
                     "event": "subscribe",
                     "feed": "open_orders,
                 }, ...
             ]
         """
         return self._conn._get_active_subscriptions()
+
+    async def __aenter__(self):
+        return self
+
+    async def __aexit__(self, *exc) -> None:
+        pass
```

## kraken/spot/funding/__init__.py

```diff
@@ -27,14 +27,22 @@
     .. code-block:: python
         :linenos:
         :caption: Spot Funding: Create the funding client
 
         >>> from kraken.spot import Funding
         >>> funding = Funding() # unauthenticated
         >>> auth_funding = Funding(key="api-key", secret="secret-key") # authenticated
+
+    .. code-block:: python
+        :linenos:
+        :caption: Spot Funding: Create the funding client as context manager
+
+        >>> from kraken.spot import Funding
+        >>> with Funding(key="api-key", secret="secret-key") as funding:
+        ...     print(funding.get_deposit_methods(asset="XLM"))
     """
 
     def get_deposit_methods(self, asset: str) -> dict:
         """
         Get the available deposit methods for a specific asset.
 
         - https://docs.kraken.com/rest/#operation/getDepositMethods
@@ -109,19 +117,19 @@
         """
         return self._request(
             method="POST",
             uri="/private/DepositAddresses",
             params={"asset": asset, "method": method, "new": new},
         )
 
-    def get_recend_deposits_status(
+    def get_recent_deposits_status(
         self, asset: Union[str, None] = None, method: Union[str, None] = None
     ) -> List[dict]:
         """
-        Get information about the recend deposit status. The lookback period is 90 days and
+        Get information about the recent deposit status. The lookback period is 90 days and
         only the last 25 deposits will be returned.
 
         Requires the ``Query funds`` and ``Deposit funds`` API key permissions.
 
         - https://docs.kraken.com/rest/#operation/getStatusRecentDeposits
 
         :param asset: Filter by asset
@@ -129,19 +137,19 @@
         :param method: Filter by deposit method
         :type method: str, optional
         :return: The user specific deposit history
         :rtype: List[dict]
 
         .. code-block:: python
             :linenos:
-            :caption: Spot Funding: Get the recend deposit status
+            :caption: Spot Funding: Get the recent deposit status
 
             >>> from kraken.spot import Funding
             >>> funding = Funding(key="api-key", secret="secret-key")
-            >>> funding.get_recend_deposits_status()
+            >>> funding.get_recent_deposits_status()
             [
                 {
                     'method': 'Bank Frick (SEPA)',
                     'aclass': 'currency',
                     'asset': 'ZEUR',
                     'refid': 'QDFN2EK-XMFWQ4-GPB7SG',
                     'txid': '7702226',
@@ -263,37 +271,37 @@
         """
         return self._request(
             method="POST",
             uri="/private/Withdraw",
             params={"asset": asset, "key": str(key), "amount": str(amount)},
         )
 
-    def get_recend_withdraw_status(
+    def get_recent_withdraw_status(
         self, asset: Union[str, None] = None, method: Union[str, None] = None
     ) -> List[dict]:
         """
-        Get information about the recend withdraw status, including withdraws of the
+        Get information about the recent withdraw status, including withdraws of the
         past 90 days but at max 500 results.
 
         - https://docs.kraken.com/rest/#operation/getStatusRecentWithdrawals
 
         :param asset: Filter withdraws by asset (default: ``None``)
         :type asset: str | None, optional
         :param method: Filter by withdraw method (default: ``None``)
         :type method: str | None, optional
         :return: Withdrawal information
         :rtype: List[dict]
 
         .. code-block:: python
             :linenos:
-            :caption: Get the recend withdraw status
+            :caption: Get the recent withdraw status
 
             >>> from kraken.spot import Funding
             >>> funding = Funding(key="api-key", secret="secret-key")
-            >>> funding.get_recend_withdraw_status()
+            >>> funding.get_recent_withdraw_status()
             [
                 {
                     'method': 'Polkadot',
                     'aclass': 'currency',
                     'asset': 'DOT',
                     'refid': 'XXXXXX-XXXXXX-HLDRM5',
                     'txid': '0x51d9d13ade1c31a138dae81b845f091d1a6cf2e3c1c36d9cf4f7baf905c483e4',
```

## kraken/spot/market/__init__.py

```diff
@@ -27,14 +27,22 @@
     .. code-block:: python
         :linenos:
         :caption: Spot Market: Create the market client
 
         >>> from kraken.spot import Market
         >>> market = Market() # unauthenticated
         >>> auth_market = Market(key="api-key", secret="secret-key") # authenticated
+
+    .. code-block:: python
+        :linenos:
+        :caption: Spot Market: Create the market client as context manager
+
+        >>> from kraken.spot import Market
+        >>> with Market() as market:
+        ...     print(market.get_assets())
     """
 
     def get_assets(
         self,
         assets: Union[str, List[str], None] = None,
         aclass: Union[str, None] = None,
     ) -> dict:
@@ -295,24 +303,24 @@
 
     def get_recent_trades(self, pair: str, since: Union[str, int, None] = None) -> dict:
         """
         Get the latest trades for a specific trading pair (up to 1000).
 
         - https://docs.kraken.com/rest/#operation/getRecentTrades
 
-        :param pair: Pair to get the recend trades
+        :param pair: Pair to get the recent trades
         :type pair: str
         :param since: Filter trades since given timestamp (default: ``None``)
         :type since: str | int | None, optional
         :return: The last public trades (up to 1000 results)
         :rtype: dict
 
         .. code-block:: python
             :linenos:
-            :caption: Spot Market: Get the recend trades
+            :caption: Spot Market: Get the recent trades
 
             >>> from kraken.spot import Market
             >>> Market().get_recent_trades(pair="XBTUSD")
             {
                 "XXBTZUSD": [
                     ["27980.90000", "0.00071054", 1680712703.2524643, "b", "l", "", 57811127],
                     ["27981.00000", "0.03180000", 1680712715.1806278, "b", "l", "", 57811128],
@@ -325,35 +333,35 @@
         params = {"pair": pair}
         if since is not None:
             params["since"] = None
         return self._request(
             method="GET", uri="/public/Trades", params=params, auth=False
         )
 
-    def get_recend_spreads(
+    def get_recent_spreads(
         self, pair: str, since: Union[str, int, None] = None
     ) -> dict:
         """
         Get the latest spreads for a specific trading pair.
 
         - https://docs.kraken.com/rest/#operation/getRecentSpreads
 
-        :param pair: Pair to get the recend spreads
+        :param pair: Pair to get the recent spreads
         :type pair: str
         :param since: Filter trades since given timestamp (default: ``None``)
         :type since: str | int | None, optional
         :return: The last *n* spreads of the asset pair
         :rtype: dict
 
         .. code-block:: python
             :linenos:
-            :caption: Spot Market: Get the recend spreads
+            :caption: Spot Market: Get the recent spreads
 
             >>> from kraken.spot import Market
-            >>> Market().get_recend_spreads(pair="XBTUSD")
+            >>> Market().get_recent_spreads(pair="XBTUSD")
             {
                 "XXBTZUSD": [
                     [1680714601, "28015.00000", "28019.40000"],
                     [1680714601, "28015.00000", "28017.00000"],
                     [1680714601, "28015.00000", "28016.90000"],
                     ...
                 ]
```

## kraken/spot/staking/__init__.py

```diff
@@ -27,14 +27,22 @@
     .. code-block:: python
         :linenos:
         :caption: Spot Staking: Create the staking client
 
         >>> from kraken.spot import Staking
         >>> staking = Staking() # unauthenticated
         >>> auth_staking = Staking(key="api-key", secret="secret-key") # authenticated
+
+    .. code-block:: python
+        :linenos:
+        :caption: Spot Staking: Create the staking client as context manager
+
+        >>> from kraken.spot import Staking
+        >>> with Staking(key="api-key", secret="secret-key") as staking:
+        ...     print(staking.stake_asset(asset="XLM", amount=200, method="Lumen Staked"))
     """
 
     def stake_asset(
         self, asset: str, amount: Union[str, int, float], method: str
     ) -> dict:
         """
         Stake the specified asset from the Spot wallet.
```

## kraken/spot/trade/__init__.py

```diff
@@ -26,14 +26,23 @@
     .. code-block:: python
         :linenos:
         :caption: Spot Trade: Create the trade client
 
         >>> from kraken.spot import Trade
         >>> trade = Trade() # unauthenticated
         >>> auth_trade = Trade(key="api-key", secret="secret-key") # authenticated
+
+    .. code-block:: python
+        :linenos:
+        :caption: Spot Trade: Create the trade client as context manager
+
+        >>> from kraken.spot import Trade
+        >>> with Trade(key="api-key", secret="secret-key") as trade:
+        ...     print(trade.create_order(...))
+
     """
 
     def create_order(
         self,
         ordertype: str,
         side: str,
         volume: Union[str, int, float],
```

## kraken/spot/user/__init__.py

```diff
@@ -1,14 +1,15 @@
 #!/usr/bin/env python
 # -*- coding: utf-8 -*-
 # Copyright (C) 2023 Benjamin Thomas Schwertfeger
 # Github: https://github.com/btschwertfeger
 #
 
 """ Module that implements the Kraken Spot User client"""
+from decimal import Decimal
 from typing import List, Union
 
 from kraken.base_api import KrakenBaseSpotAPI
 
 
 class User(KrakenBaseSpotAPI):
     """
@@ -28,14 +29,22 @@
     .. code-block:: python
         :linenos:
         :caption: Spot User: Create the user client
 
         >>> from kraken.spot import User
         >>> user = User() # unauthenticated
         >>> auth_user = User(key="api-key", secret="secret-key") # authenticated
+
+    .. code-block:: python
+        :linenos:
+        :caption: Spot User: Create the user client as context manager
+
+        >>> from kraken.spot import User
+        >>> with User(key="api-key", secret="secret-key") as user:
+        ...     print(user.get_account_balances())
     """
 
     def get_account_balance(self) -> dict:
         """
         Get the current balances of the user.
 
         Requires the ``Query funds`` permission in the API key settings.
@@ -85,36 +94,36 @@
             {
                 'currency': 'DOT',
                 'balance': 32011.21197000,
                 'available_balance': 14999.06197000
             }
         """
 
-        balance = float(0)
+        balance = Decimal(0)
         curr_opts = (currency, f"Z{currency}", f"X{currency}")
         for symbol, value in self.get_account_balance().items():
             if symbol in curr_opts:
-                balance = float(value)
+                balance = Decimal(value)
                 break
 
         available_balance = balance
         for order in self.get_open_orders()["open"].values():
             if currency in order["descr"]["pair"][0 : len(currency)]:
                 if order["descr"]["type"] == "sell":
-                    available_balance -= float(order["vol"])
+                    available_balance -= Decimal(order["vol"])
             elif currency in order["descr"]["pair"][-len(currency) :]:
                 if order["descr"]["type"] == "buy":
-                    available_balance -= float(order["vol"]) * float(
+                    available_balance -= Decimal(order["vol"]) * Decimal(
                         order["descr"]["price"]
                     )
 
         return {
             "currency": currency,
-            "balance": balance,
-            "available_balance": available_balance,
+            "balance": float(balance),
+            "available_balance": float(available_balance),
         }
 
     def get_trade_balance(self, asset: str = "ZUSD") -> dict:
         """
         Get the summary of all collateral balances.
```

## kraken/spot/websocket/__init__.py

```diff
@@ -340,14 +340,49 @@
         if __name__ == '__main__':
             loop = asyncio.new_event_loop()
             asyncio.set_event_loop(loop)
             try:
                 asyncio.run(main())
             except KeyboardInterrupt:
                 loop.close()
+
+    .. code-block:: python
+        :linenos:
+        :caption: HowTo: Use the websocket client as context manager
+
+        import asyncio
+        from kraken.spot import KrakenSpotWSClient
+
+        async def on_message(msg):
+            print(msg)
+
+        async def main() -> None:
+            async with KrakenSpotWSClient(
+                key="api-key",
+                secret="secret-key",
+                callback=on_message
+            ) as session:
+                await session.subscribe(
+                    subscription={"name": "ticker"},
+                    pair=["XBT/USD"]
+                )
+
+            while True:
+                await asyncio.sleep(6)
+
+
+        if __name__ == "__main__":
+            loop = asyncio.new_event_loop()
+            asyncio.set_event_loop(loop)
+            try:
+                asyncio.run(main())
+            except KeyboardInterrupt:
+                pass
+            finally:
+                loop.close()
     """
 
     PROD_ENV_URL = "ws.kraken.com"
     AUTH_PROD_ENV_URL = "ws-auth.kraken.com"
     BETA_ENV_URL = "beta-ws.kraken.com"
     AUTH_BETA_ENV_URL = "beta-ws-auth.kraken.com"
 
@@ -566,7 +601,13 @@
         :return: List of active private subscriptions
         :rtype: List[dict]
         :raises ConnectionError: If there is no private connection
         """
         if self._priv_conn is not None:
             return self._priv_conn.subscriptions
         raise ConnectionError("Private connection does not exist!")
+
+    async def __aenter__(self):
+        return self
+
+    async def __aexit__(self, *exc):
+        pass
```

## Comparing `python_kraken_sdk-1.1.1.dev2.dist-info/LICENSE` & `python_kraken_sdk-1.2.0.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `python_kraken_sdk-1.1.1.dev2.dist-info/METADATA` & `python_kraken_sdk-1.2.0.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,12 +1,12 @@
 Metadata-Version: 2.1
 Name: python-kraken-sdk
-Version: 1.1.1.dev2
+Version: 1.2.0
 Summary: Collection of REST and websocket clients to interact with the Kraken cryptocurrency exchange.
-Author-email: Benjamin Thomas Schwertfeger <development@b-schwertfeger.de>
+Author-email: Benjamin Thomas Schwertfeger <contact@b-schwertfeger.de>
 License: GNU GENERAL PUBLIC LICENSE
         Version 3, 29 June 2007
         
         Copyright (C) 2007 Free Software Foundation, Inc. <https://fsf.org/>
         Everyone is permitted to copy and distribute verbatim copies
         of this license document, but changing it is not allowed.
         
@@ -639,16 +639,17 @@
             but WITHOUT ANY WARRANTY; without even the implied warranty of
             MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
             GNU General Public License for more details.
         
             You should have received a copy of the GNU General Public License
             along with this program.  If not, see <https://www.gnu.org/licenses/>.
         
-Project-URL: Homepage, https://github.com/btschwertfeger/Python-Kraken-SDK
-Project-URL: Bug Tracker, https://github.com/btschwertfeger/Python-Kraken-SDK/issues
+Project-URL: Homepage, https://github.com/btschwertfeger/python-kraken-sdk
+Project-URL: Bug Tracker, https://github.com/btschwertfeger/python-kraken-sdk/issues
+Project-URL: Documentation, https://python-kraken-sdk.readthedocs.io/en/stable/
 Keywords: crypto,trading,kraken,exchange,api
 Classifier: License :: OSI Approved :: GNU General Public License v3 (GPLv3)
 Classifier: Programming Language :: Python
 Classifier: Programming Language :: Python :: 3.7
 Classifier: Programming Language :: Python :: 3.8
 Classifier: Programming Language :: Python :: 3.9
 Classifier: Programming Language :: Python :: 3.10
@@ -661,41 +662,42 @@
 Description-Content-Type: text/markdown
 License-File: LICENSE
 Requires-Dist: asyncio (>=3.4)
 Requires-Dist: requests
 Requires-Dist: websockets
 Provides-Extra: dev
 Requires-Dist: pytest ; extra == 'dev'
+Requires-Dist: pytest-cov ; extra == 'dev'
 Requires-Dist: sphinx ; extra == 'dev'
 Requires-Dist: sphinx-rtd-theme ; extra == 'dev'
+Requires-Dist: black ; extra == 'dev'
 Provides-Extra: examples
 Requires-Dist: matplotlib ; extra == 'examples'
 
 <h1 align="center">Futures and Spot Websocket and REST API Python SDK for the Kraken Cryptocurrency Exchange üêô</h1>
 
 <div align="center">
 
 [![GitHub](https://badgen.net/badge/icon/github?icon=github&label)](https://github.com/btschwertfeger/python-kraken-sdk)
 [![License: GPL v3](https://img.shields.io/badge/License-GPLv3-orange.svg)](https://www.gnu.org/licenses/gpl-3.0)
 [![Generic badge](https://img.shields.io/badge/python-3.7_|_3.8_|_3.9_|_3.10_|_3.11-blue.svg)](https://shields.io/)
 [![Downloads](https://static.pepy.tech/personalized-badge/python-kraken-sdk?period=total&units=abbreviation&left_color=grey&right_color=orange&left_text=downloads)](https://pepy.tech/project/python-kraken-sdk)
 
-[![CodeQL](https://github.com/btschwertfeger/Python-Kraken-SDK/actions/workflows/codeql.yml/badge.svg?branch=master)](https://github.com/btschwertfeger/Python-Kraken-SDK/actions/workflows/codeql.yml)
-[![CI/CD](https://github.com/btschwertfeger/Python-Kraken-SDK/actions/workflows/cicd.yml/badge.svg?branch=master)](https://github.com/btschwertfeger/Python-Kraken-SDK/actions/workflows/cicd.yml)
-![codecov](https://codecov.io/gh/btschwertfeger/Python-Kraken-SDK/branch/master/badge.svg)
+[![CodeQL](https://github.com/btschwertfeger/python-kraken-sdk/actions/workflows/codeql.yml/badge.svg?branch=master)](https://github.com/btschwertfeger/python-kraken-sdk/actions/workflows/codeql.yml)
+[![CI/CD](https://github.com/btschwertfeger/python-kraken-sdk/actions/workflows/cicd.yml/badge.svg?branch=master)](https://github.com/btschwertfeger/python-kraken-sdk/actions/workflows/cicd.yml)
+[![codecov](https://codecov.io/gh/btschwertfeger/python-kraken-sdk/branch/master/badge.svg)](https://app.codecov.io/gh/btschwertfeger/python-kraken-sdk)
 
 ![release](https://shields.io/github/release-date/btschwertfeger/python-kraken-sdk)
 ![release](https://shields.io/github/v/release/btschwertfeger/python-kraken-sdk?display_name=tag)
 [![DOI](https://zenodo.org/badge/510751854.svg)](https://zenodo.org/badge/latestdoi/510751854)
 [![Documentation Status stable](https://readthedocs.org/projects/python-kraken-sdk/badge/?version=stable)](https://python-kraken-sdk.readthedocs.io/en/stable)
 
 </div>
 
-<h3>
-This is an unofficial collection of REST and websocket clients for Spot and Futures trading on the Kraken cryptocurrency exchange using Python.
+> ‚ö†Ô∏è This is an unofficial collection of REST and websocket clients for Spot and Futures trading on the Kraken cryptocurrency exchange using Python. Payward Ltd. and Kraken are in no way associated with the authors of this module and documentation.
 
 ---
 
 ## üìå Disclaimer
 
 There is no guarantee that this software will work flawlessly at this or later times. Of course, no responsibility is taken for possible profits or losses. This software probably has some errors in it, so use it at your own risk. Also no one should be motivated or tempted to invest assets in speculative forms of investment. By using this software you release the author(s) from any liability regarding the use of this software.
 
@@ -711,19 +713,22 @@
 - Futures Websocket Client
 
 General:
 
 - access both public and private endpoints
 - responsive error handling, custom exceptions and logging
 - extensive example scripts (see `/examples`)
+- clients can be used as context manager
+- coding standards like snake case are not always followed to maintain the parameter naming convention of the Kraken API
+- ...
 
 Documentation:
 
 - Stable: [https://python-kraken-sdk.readthedocs.io/en/stable](https://python-kraken-sdk.readthedocs.io/en/stable)
-- Latest: [https://python-kraken-sdk.readthedocs.io/en/katest](https://python-kraken-sdk.readthedocs.io/en/latest)
+- Latest: [https://python-kraken-sdk.readthedocs.io/en/latest](https://python-kraken-sdk.readthedocs.io/en/latest)
 
 ---
 
 ## ‚ùóÔ∏è Attention
 
 **ONLY** tagged releases are availabe at PyPI. So the content of the master may not match with the content of the latest release. So please have a look at the release specifc READMEs and changelogs.
```

## Comparing `python_kraken_sdk-1.1.1.dev2.dist-info/RECORD` & `python_kraken_sdk-1.2.0.dist-info/RECORD`

 * *Files 14% similar despite different names*

```diff
@@ -1,24 +1,24 @@
 kraken/__init__.py,sha256=VeN5kiTdKtH1vRcBlN-px8IAzxtNtpTLvz5Ftdl9wwk,140
-kraken/_version.py,sha256=QiV5pBA9237mUXFDih_m5OGgZqsTAXRG187lmaj2Kic,173
-kraken/base_api/__init__.py,sha256=4IacQ3TojRaZfg0whSvEfuQpE89jHnyZLd2faV0edVA,18197
-kraken/exceptions/__init__.py,sha256=_wMxdFSm6Bitly_hGywn2bThcIcDiPeiFPazHJz_d0Q,10651
+kraken/_version.py,sha256=CilGHycSRzmSEnCMQvTRJ5J_LWxMs---UqkVbOmQ2rA,160
+kraken/base_api/__init__.py,sha256=Jz_Wvvx62oCesGMjYwg_EnL93Fe5fPZ0G5ETY9fJMNU,19106
+kraken/exceptions/__init__.py,sha256=4Q-t3VzlQ5vEJNIlSncJ6I_1guC2fv9yAmTffTvJF-M,10983
 kraken/futures/__init__.py,sha256=lnEYldhveY41qdK42LS8aq3cm-09kAc8Z6Jt3upG64Y,446
-kraken/futures/funding/__init__.py,sha256=tJZic9KdqjvZHBhb0DZehumKpstoyYngFE7q5tpez9Y,8526
-kraken/futures/market/__init__.py,sha256=k4iIUyz8CByB7GSqCklW9jd56QMrg6oSc_j8FUknKCo,37636
-kraken/futures/trade/__init__.py,sha256=RGOb9T-5g_2aQQsOfoYYozAe07-g3SoXcFbexL_MN3o,25617
-kraken/futures/user/__init__.py,sha256=c9ETaV7B2P2hi3VhYPCW_fnrPg2XCMqKdhEf8UvQEvU,31689
+kraken/futures/funding/__init__.py,sha256=XJvDXBgb_1bofRVxjLBZtdIztc3RmtsLFkpYeymDWzk,8853
+kraken/futures/market/__init__.py,sha256=xxwXbZ7gaQ7mMUoMFRslU9guF0fgFgLlPxt8VObs06k,37890
+kraken/futures/trade/__init__.py,sha256=8zMjRl6zWIGhBGpoMWCcMekOL1mtnpDoPRqpo7WfNEU,25895
+kraken/futures/user/__init__.py,sha256=jXQ6QKT9wkA0n2OidXi74_hcroOUIPONEB2lRcxoopw,34545
 kraken/futures/websocket/__init__.py,sha256=iYxIdPyUYoBuYIHFWpS9dPfbev857bMJbetnecZ0uCE,9868
-kraken/futures/ws_client/__init__.py,sha256=v40nXtq-Pf7MFPG2uFeOj0v2oxwgFmXGDzFRualFz-c,12946
+kraken/futures/ws_client/__init__.py,sha256=5AqJo-H3r36BWvJbCttBitjQMKrgSnMgz5p1qgzhwHU,13934
 kraken/spot/__init__.py,sha256=BLbi87M08L2pfiYMho_wEgWJMruxsc6BcQQNFefDSi8,464
-kraken/spot/funding/__init__.py,sha256=tLrGE_zsGs2Ay2x4ypHgAqXnPMz9TSX3ChgSO6Ph6Tc,13996
-kraken/spot/market/__init__.py,sha256=bwawGV8VO1HlShFYYa8uWXNGvGW21Qpxyl4lE7jaOCM,13846
-kraken/spot/staking/__init__.py,sha256=XGGsBByNFdaew8IASCgwL1dFADDiDlkZN8E3HjrDZ4E,8719
-kraken/spot/trade/__init__.py,sha256=wKJ5WuEikeE7laMFYY1SNvoEgRqNCwsDAm3FrEHnJEc,23580
-kraken/spot/user/__init__.py,sha256=gQUYY4TMM-XCfIMtiqxpUpp2GAUIoPednQkc7w1a1II,36811
-kraken/spot/websocket/__init__.py,sha256=u6Xb7PpF_OZMG1gjkSXNcdLLXO7bE5n-lrcvEH-Bmss,20767
+kraken/spot/funding/__init__.py,sha256=1Fi8LyZl5D84uAkGj_my__YwMGQD4SnpnLCuzCGpkUY,14301
+kraken/spot/market/__init__.py,sha256=YChGHOENNsPu81Lhx8b76E8QYvyJx49XTDwpAuhp78w,14091
+kraken/spot/staking/__init__.py,sha256=hZI5WhxjRoRpFyGm_y1b3A6rFChFyK-dC68W_sf_0Sw,9051
+kraken/spot/trade/__init__.py,sha256=uQF6T-pmMH3ZBVhM8e2lVTvbDjYAXoorrsLSplg7vfc,23859
+kraken/spot/user/__init__.py,sha256=_dXcYoeqW2r0PbyT6G-yUq4dSG3ocxfAlOAVffW3co0,37140
+kraken/spot/websocket/__init__.py,sha256=-goRQVkgu1Kw_ORQsn-QDWsrP-U-KLXbv3BFi2FjNEk,21825
 kraken/spot/ws_client/__init__.py,sha256=jJ69J7jVY0OUdEz-hcfcMLPbwOUZCn8PaKrmxwfLV1c,14652
-python_kraken_sdk-1.1.1.dev2.dist-info/LICENSE,sha256=leV3fHQZl05YFA1vvUr8Qof050rX09smz_foWULC-hE,33066
-python_kraken_sdk-1.1.1.dev2.dist-info/METADATA,sha256=88WuAoO3eUF3aBQW7jfzitGBdrEBjmGbMhE6EqzmrWk,53163
-python_kraken_sdk-1.1.1.dev2.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-python_kraken_sdk-1.1.1.dev2.dist-info/top_level.txt,sha256=jDc2suQYoCDbGYc2CPprDEa_hazdcJkT8tOTSntTtbs,7
-python_kraken_sdk-1.1.1.dev2.dist-info/RECORD,,
+python_kraken_sdk-1.2.0.dist-info/LICENSE,sha256=leV3fHQZl05YFA1vvUr8Qof050rX09smz_foWULC-hE,33066
+python_kraken_sdk-1.2.0.dist-info/METADATA,sha256=G8sEKCappRk9TlgGxyBWnrJ52O6TecE0ruzeMjACJfs,53649
+python_kraken_sdk-1.2.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+python_kraken_sdk-1.2.0.dist-info/top_level.txt,sha256=jDc2suQYoCDbGYc2CPprDEa_hazdcJkT8tOTSntTtbs,7
+python_kraken_sdk-1.2.0.dist-info/RECORD,,
```

