# Comparing `tmp/runningz-0.11.3.6-py39-none-any.whl.zip` & `tmp/runningz-0.11.3.7-py39-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,102 +1,102 @@
-Zip file size: 163585 bytes, number of entries: 100
--rw-r--r--  2.0 unx     1219 b- defN 23-May-23 14:51 runningz/__init__.pyc
--rw-r--r--  2.0 unx      186 b- defN 23-May-23 14:51 runningz/api.pyc
--rw-r--r--  2.0 unx    11303 b- defN 23-May-23 14:51 runningz/core/DataMaster.pyc
--rw-r--r--  2.0 unx      151 b- defN 23-May-23 14:51 runningz/core/__init__.pyc
--rw-r--r--  2.0 unx     3831 b- defN 23-May-23 14:51 runningz/core/api.pyc
--rw-r--r--  2.0 unx      154 b- defN 23-May-23 14:51 runningz/core/er/__init__.pyc
--rw-r--r--  2.0 unx      651 b- defN 23-May-23 14:51 runningz/core/er/idxer.pyc
--rw-r--r--  2.0 unx      573 b- defN 23-May-23 14:51 runningz/core/er/masker.pyc
--rw-r--r--  2.0 unx     4354 b- defN 23-May-23 14:51 runningz/core/er/namer.pyc
--rw-r--r--  2.0 unx      550 b- defN 23-May-23 14:51 runningz/core/er/scaler.pyc
--rw-r--r--  2.0 unx     6986 b- defN 23-May-23 14:51 runningz/core/op/OPMaster.pyc
--rw-r--r--  2.0 unx     5207 b- defN 23-May-23 14:51 runningz/core/op/__init__.pyc
--rw-r--r--  2.0 unx     5817 b- defN 23-May-23 14:51 runningz/core/op/_numba.pyc
--rw-r--r--  2.0 unx    10530 b- defN 23-May-23 14:51 runningz/core/op/_numba_1.pyc
--rw-r--r--  2.0 unx    13681 b- defN 23-May-23 14:51 runningz/core/op/_numba_2.pyc
--rw-r--r--  2.0 unx     5930 b- defN 23-May-23 14:51 runningz/core/op/_numba_merge_roll.pyc
--rw-r--r--  2.0 unx     6788 b- defN 23-May-23 14:51 runningz/core/op/op_1.pyc
--rw-r--r--  2.0 unx     1856 b- defN 23-May-23 14:51 runningz/core/op/op_1_numba.pyc
--rw-r--r--  2.0 unx     4302 b- defN 23-May-23 14:51 runningz/core/op/op_2.pyc
--rw-r--r--  2.0 unx     3176 b- defN 23-May-23 14:51 runningz/core/op/op_groupby.pyc
--rw-r--r--  2.0 unx     2799 b- defN 23-May-23 14:51 runningz/core/op/op_m.pyc
--rw-r--r--  2.0 unx     5223 b- defN 23-May-23 14:51 runningz/core/op/op_m_numba.pyc
--rw-r--r--  2.0 unx     8125 b- defN 23-May-23 14:51 runningz/core/op/op_other.pyc
--rw-r--r--  2.0 unx     7109 b- defN 23-May-23 14:51 runningz/fe/FEMaster.pyc
--rw-r--r--  2.0 unx      178 b- defN 23-May-23 14:51 runningz/fe/__init__.pyc
--rw-r--r--  2.0 unx     4286 b- defN 23-May-23 14:51 runningz/fe/fe_main.pyc
--rw-r--r--  2.0 unx      156 b- defN 23-May-23 14:51 runningz/fe/config/__init__.pyc
--rw-r--r--  2.0 unx     2063 b- defN 23-May-23 14:51 runningz/fe/config/fm_config.pyc
--rw-r--r--  2.0 unx      298 b- defN 23-May-23 14:51 runningz/fe/er/__init__.pyc
--rw-r--r--  2.0 unx     2968 b- defN 23-May-23 14:51 runningz/fe/er/pather.pyc
--rw-r--r--  2.0 unx     4557 b- defN 23-May-23 14:51 runningz/fe/er/pooler.pyc
--rw-r--r--  2.0 unx    17200 b- defN 23-May-23 14:51 runningz/fe/er/pooler_old.pyc
--rw-r--r--  2.0 unx     5121 b- defN 23-May-23 14:51 runningz/fe/er/ranker.pyc
--rw-r--r--  2.0 unx     4739 b- defN 23-May-23 14:51 runningz/fe/er/typer.pyc
--rw-r--r--  2.0 unx      162 b- defN 23-May-23 14:51 runningz/fe/prepare_data/__init__.pyc
--rw-r--r--  2.0 unx     2978 b- defN 23-May-23 14:51 runningz/fe/prepare_data/base_data.pyc
--rw-r--r--  2.0 unx     1319 b- defN 23-May-23 14:51 runningz/fe/prepare_data/basic_data.pyc
--rw-r--r--  2.0 unx      193 b- defN 23-May-23 14:51 runningz/fe/status/__init__.pyc
--rw-r--r--  2.0 unx     5981 b- defN 23-May-23 14:51 runningz/fe/status/status.pyc
--rw-r--r--  2.0 unx      154 b- defN 23-May-23 14:51 runningz/fe/util/__init__.pyc
--rw-r--r--  2.0 unx     1612 b- defN 23-May-23 14:51 runningz/fe/util/util.pyc
--rw-r--r--  2.0 unx      269 b- defN 23-May-23 14:51 runningz/metric/__init__.pyc
--rw-r--r--  2.0 unx     2080 b- defN 23-May-23 14:51 runningz/metric/get_score_metric.pyc
--rw-r--r--  2.0 unx      883 b- defN 23-May-23 14:51 runningz/metric/ic.pyc
--rw-r--r--  2.0 unx     3441 b- defN 23-May-23 14:51 runningz/metric/metrics.pyc
--rw-r--r--  2.0 unx      277 b- defN 23-May-23 14:51 runningz/model/__init__.pyc
--rw-r--r--  2.0 unx      147 b- defN 23-May-23 14:51 runningz/model/api.pyc
--rw-r--r--  2.0 unx     3261 b- defN 23-May-23 14:51 runningz/model/base.pyc
--rw-r--r--  2.0 unx     1896 b- defN 23-May-23 14:51 runningz/model/lgb.pyc
--rw-r--r--  2.0 unx     1629 b- defN 23-May-23 14:51 runningz/model/test_lgb.pyc
--rw-r--r--  2.0 unx     5948 b- defN 23-May-23 14:51 runningz/model/test_model_all.pyc
--rw-r--r--  2.0 unx      290 b- defN 23-May-23 14:51 runningz/model/imp/__init__.pyc
--rw-r--r--  2.0 unx     2330 b- defN 23-May-23 14:51 runningz/model/imp/adv.pyc
--rw-r--r--  2.0 unx     1270 b- defN 23-May-23 14:51 runningz/model/imp/pfi.pyc
--rw-r--r--  2.0 unx      151 b- defN 23-May-23 14:51 runningz/model/imp/tfi.pyc
--rw-r--r--  2.0 unx     1073 b- defN 23-May-23 14:51 runningz/model/imp/util.pyc
--rw-r--r--  2.0 unx      281 b- defN 23-May-23 14:51 runningz/model/linear/__init__.pyc
--rw-r--r--  2.0 unx     2749 b- defN 23-May-23 14:51 runningz/model/linear/model_l2.pyc
--rw-r--r--  2.0 unx     2699 b- defN 23-May-23 14:51 runningz/model/linear/model_lr.pyc
--rw-r--r--  2.0 unx     2919 b- defN 23-May-23 14:51 runningz/model/linear/model_sgd.pyc
--rw-r--r--  2.0 unx      197 b- defN 23-May-23 14:51 runningz/model/nn/__init__.pyc
--rw-r--r--  2.0 unx      156 b- defN 23-May-23 14:51 runningz/model/nn/model_cnn.pyc
--rw-r--r--  2.0 unx      162 b- defN 23-May-23 14:51 runningz/model/nn/model_deep_wide.pyc
--rw-r--r--  2.0 unx      157 b- defN 23-May-23 14:51 runningz/model/nn/model_lstm.pyc
--rw-r--r--  2.0 unx     3570 b- defN 23-May-23 14:51 runningz/model/nn/model_mlp.pyc
--rw-r--r--  2.0 unx      156 b- defN 23-May-23 14:51 runningz/model/nn/model_moe.pyc
--rw-r--r--  2.0 unx      158 b- defN 23-May-23 14:51 runningz/model/nn/model_rxnet.pyc
--rw-r--r--  2.0 unx      159 b- defN 23-May-23 14:51 runningz/model/nn/model_tabnet.pyc
--rw-r--r--  2.0 unx     7503 b- defN 23-May-23 14:51 runningz/model/nn/nn_util.pyc
--rw-r--r--  2.0 unx      365 b- defN 23-May-23 14:51 runningz/model/tree/__init__.pyc
--rw-r--r--  2.0 unx     3608 b- defN 23-May-23 14:51 runningz/model/tree/model_cat.pyc
--rw-r--r--  2.0 unx     2868 b- defN 23-May-23 14:51 runningz/model/tree/model_erf.pyc
--rw-r--r--  2.0 unx     6358 b- defN 23-May-23 14:51 runningz/model/tree/model_lgb.pyc
--rw-r--r--  2.0 unx     2882 b- defN 23-May-23 14:51 runningz/model/tree/model_rf.pyc
--rw-r--r--  2.0 unx     3692 b- defN 23-May-23 14:51 runningz/model/tree/model_xgb.pyc
--rw-r--r--  2.0 unx      349 b- defN 23-May-23 14:51 runningz/opt/__init__.pyc
--rw-r--r--  2.0 unx      152 b- defN 23-May-23 14:51 runningz/opt/opt_convex.pyc
--rw-r--r--  2.0 unx    12130 b- defN 23-May-23 14:51 runningz/opt/opt_elo.pyc
--rw-r--r--  2.0 unx      152 b- defN 23-May-23 14:51 runningz/opt/opt_optuna.pyc
--rw-r--r--  2.0 unx     5600 b- defN 23-May-23 14:51 runningz/opt/opt_random.pyc
--rw-r--r--  2.0 unx      149 b- defN 23-May-23 14:51 runningz/opt/opt_sgd.pyc
--rw-r--r--  2.0 unx      172 b- defN 23-May-23 14:51 runningz/util/__init__.pyc
--rw-r--r--  2.0 unx     1141 b- defN 23-May-23 14:51 runningz/util/api.pyc
--rw-r--r--  2.0 unx     2062 b- defN 23-May-23 14:51 runningz/util/clss.pyc
--rw-r--r--  2.0 unx    24102 b- defN 23-May-23 14:51 runningz/util/code.pyc
--rw-r--r--  2.0 unx      325 b- defN 23-May-23 14:51 runningz/util/const.pyc
--rw-r--r--  2.0 unx     1263 b- defN 23-May-23 14:51 runningz/util/csv.pyc
--rw-r--r--  2.0 unx     5416 b- defN 23-May-23 14:51 runningz/util/dist.pyc
--rw-r--r--  2.0 unx     4867 b- defN 23-May-23 14:51 runningz/util/mem.pyc
--rw-r--r--  2.0 unx     9774 b- defN 23-May-23 14:51 runningz/util/npy.pyc
--rw-r--r--  2.0 unx     8898 b- defN 23-May-23 14:51 runningz/util/run.pyc
--rw-r--r--  2.0 unx     2491 b- defN 23-May-23 14:51 runningz/util/test.pyc
--rw-r--r--  2.0 unx    12607 b- defN 23-May-23 14:51 runningz/util/util.pyc
--rw-r--r--  2.0 unx      156 b- defN 23-May-23 14:51 runningz/util/temp/__init__.pyc
--rw-r--r--  2.0 unx     1211 b- defN 23-May-23 14:51 runningz/util/temp/main.pyc
--rw-r--r--  2.0 unx      446 b- defN 23-May-23 14:51 runningz-0.11.3.6.dist-info/METADATA
--rw-r--r--  2.0 unx       82 b- defN 23-May-23 14:51 runningz-0.11.3.6.dist-info/WHEEL
--rw-r--r--  2.0 unx       52 b- defN 23-May-23 14:51 runningz-0.11.3.6.dist-info/entry_points.txt
--rw-r--r--  2.0 unx        9 b- defN 23-May-23 14:51 runningz-0.11.3.6.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     8441 b- defN 23-May-23 14:51 runningz-0.11.3.6.dist-info/RECORD
-100 files, 332097 bytes uncompressed, 150303 bytes compressed:  54.7%
+Zip file size: 166944 bytes, number of entries: 100
+-rw-r--r--  2.0 unx     1207 b- defN 23-May-24 15:12 runningz/__init__.pyc
+-rw-r--r--  2.0 unx      186 b- defN 23-May-24 15:12 runningz/api.pyc
+-rw-r--r--  2.0 unx    11303 b- defN 23-May-24 15:12 runningz/core/DataMaster.pyc
+-rw-r--r--  2.0 unx      151 b- defN 23-May-24 15:12 runningz/core/__init__.pyc
+-rw-r--r--  2.0 unx     3831 b- defN 23-May-24 15:12 runningz/core/api.pyc
+-rw-r--r--  2.0 unx      154 b- defN 23-May-24 15:12 runningz/core/er/__init__.pyc
+-rw-r--r--  2.0 unx      651 b- defN 23-May-24 15:12 runningz/core/er/idxer.pyc
+-rw-r--r--  2.0 unx      573 b- defN 23-May-24 15:12 runningz/core/er/masker.pyc
+-rw-r--r--  2.0 unx     4354 b- defN 23-May-24 15:12 runningz/core/er/namer.pyc
+-rw-r--r--  2.0 unx      550 b- defN 23-May-24 15:12 runningz/core/er/scaler.pyc
+-rw-r--r--  2.0 unx     6986 b- defN 23-May-24 15:12 runningz/core/op/OPMaster.pyc
+-rw-r--r--  2.0 unx     5207 b- defN 23-May-24 15:12 runningz/core/op/__init__.pyc
+-rw-r--r--  2.0 unx     5817 b- defN 23-May-24 15:12 runningz/core/op/_numba.pyc
+-rw-r--r--  2.0 unx    10530 b- defN 23-May-24 15:12 runningz/core/op/_numba_1.pyc
+-rw-r--r--  2.0 unx    13681 b- defN 23-May-24 15:12 runningz/core/op/_numba_2.pyc
+-rw-r--r--  2.0 unx     5930 b- defN 23-May-24 15:12 runningz/core/op/_numba_merge_roll.pyc
+-rw-r--r--  2.0 unx     6788 b- defN 23-May-24 15:12 runningz/core/op/op_1.pyc
+-rw-r--r--  2.0 unx     1856 b- defN 23-May-24 15:12 runningz/core/op/op_1_numba.pyc
+-rw-r--r--  2.0 unx     4302 b- defN 23-May-24 15:12 runningz/core/op/op_2.pyc
+-rw-r--r--  2.0 unx     3176 b- defN 23-May-24 15:12 runningz/core/op/op_groupby.pyc
+-rw-r--r--  2.0 unx     2799 b- defN 23-May-24 15:12 runningz/core/op/op_m.pyc
+-rw-r--r--  2.0 unx     5223 b- defN 23-May-24 15:12 runningz/core/op/op_m_numba.pyc
+-rw-r--r--  2.0 unx     8125 b- defN 23-May-24 15:12 runningz/core/op/op_other.pyc
+-rw-r--r--  2.0 unx     7109 b- defN 23-May-24 15:12 runningz/fe/FEMaster.pyc
+-rw-r--r--  2.0 unx      178 b- defN 23-May-24 15:12 runningz/fe/__init__.pyc
+-rw-r--r--  2.0 unx     4286 b- defN 23-May-24 15:12 runningz/fe/fe_main.pyc
+-rw-r--r--  2.0 unx      156 b- defN 23-May-24 15:12 runningz/fe/config/__init__.pyc
+-rw-r--r--  2.0 unx     2063 b- defN 23-May-24 15:12 runningz/fe/config/fm_config.pyc
+-rw-r--r--  2.0 unx      298 b- defN 23-May-24 15:12 runningz/fe/er/__init__.pyc
+-rw-r--r--  2.0 unx     2968 b- defN 23-May-24 15:12 runningz/fe/er/pather.pyc
+-rw-r--r--  2.0 unx     4557 b- defN 23-May-24 15:12 runningz/fe/er/pooler.pyc
+-rw-r--r--  2.0 unx    17200 b- defN 23-May-24 15:12 runningz/fe/er/pooler_old.pyc
+-rw-r--r--  2.0 unx     5121 b- defN 23-May-24 15:12 runningz/fe/er/ranker.pyc
+-rw-r--r--  2.0 unx     4739 b- defN 23-May-24 15:12 runningz/fe/er/typer.pyc
+-rw-r--r--  2.0 unx      162 b- defN 23-May-24 15:12 runningz/fe/prepare_data/__init__.pyc
+-rw-r--r--  2.0 unx     2978 b- defN 23-May-24 15:12 runningz/fe/prepare_data/base_data.pyc
+-rw-r--r--  2.0 unx     1319 b- defN 23-May-24 15:12 runningz/fe/prepare_data/basic_data.pyc
+-rw-r--r--  2.0 unx      193 b- defN 23-May-24 15:12 runningz/fe/status/__init__.pyc
+-rw-r--r--  2.0 unx     5981 b- defN 23-May-24 15:12 runningz/fe/status/status.pyc
+-rw-r--r--  2.0 unx      154 b- defN 23-May-24 15:12 runningz/fe/util/__init__.pyc
+-rw-r--r--  2.0 unx     1612 b- defN 23-May-24 15:12 runningz/fe/util/util.pyc
+-rw-r--r--  2.0 unx      269 b- defN 23-May-24 15:12 runningz/metric/__init__.pyc
+-rw-r--r--  2.0 unx     2080 b- defN 23-May-24 15:12 runningz/metric/get_score_metric.pyc
+-rw-r--r--  2.0 unx      883 b- defN 23-May-24 15:12 runningz/metric/ic.pyc
+-rw-r--r--  2.0 unx     3441 b- defN 23-May-24 15:12 runningz/metric/metrics.pyc
+-rw-r--r--  2.0 unx      277 b- defN 23-May-24 15:12 runningz/model/__init__.pyc
+-rw-r--r--  2.0 unx      147 b- defN 23-May-24 15:12 runningz/model/api.pyc
+-rw-r--r--  2.0 unx     3261 b- defN 23-May-24 15:12 runningz/model/base.pyc
+-rw-r--r--  2.0 unx     1896 b- defN 23-May-24 15:12 runningz/model/lgb.pyc
+-rw-r--r--  2.0 unx     1629 b- defN 23-May-24 15:12 runningz/model/test_lgb.pyc
+-rw-r--r--  2.0 unx     5948 b- defN 23-May-24 15:12 runningz/model/test_model_all.pyc
+-rw-r--r--  2.0 unx      290 b- defN 23-May-24 15:12 runningz/model/imp/__init__.pyc
+-rw-r--r--  2.0 unx     2330 b- defN 23-May-24 15:12 runningz/model/imp/adv.pyc
+-rw-r--r--  2.0 unx     1270 b- defN 23-May-24 15:12 runningz/model/imp/pfi.pyc
+-rw-r--r--  2.0 unx      151 b- defN 23-May-24 15:12 runningz/model/imp/tfi.pyc
+-rw-r--r--  2.0 unx     1073 b- defN 23-May-24 15:12 runningz/model/imp/util.pyc
+-rw-r--r--  2.0 unx      281 b- defN 23-May-24 15:12 runningz/model/linear/__init__.pyc
+-rw-r--r--  2.0 unx     2749 b- defN 23-May-24 15:12 runningz/model/linear/model_l2.pyc
+-rw-r--r--  2.0 unx     2699 b- defN 23-May-24 15:12 runningz/model/linear/model_lr.pyc
+-rw-r--r--  2.0 unx     2919 b- defN 23-May-24 15:12 runningz/model/linear/model_sgd.pyc
+-rw-r--r--  2.0 unx      197 b- defN 23-May-24 15:12 runningz/model/nn/__init__.pyc
+-rw-r--r--  2.0 unx      156 b- defN 23-May-24 15:12 runningz/model/nn/model_cnn.pyc
+-rw-r--r--  2.0 unx      162 b- defN 23-May-24 15:12 runningz/model/nn/model_deep_wide.pyc
+-rw-r--r--  2.0 unx      157 b- defN 23-May-24 15:12 runningz/model/nn/model_lstm.pyc
+-rw-r--r--  2.0 unx     3570 b- defN 23-May-24 15:12 runningz/model/nn/model_mlp.pyc
+-rw-r--r--  2.0 unx      156 b- defN 23-May-24 15:12 runningz/model/nn/model_moe.pyc
+-rw-r--r--  2.0 unx      158 b- defN 23-May-24 15:12 runningz/model/nn/model_rxnet.pyc
+-rw-r--r--  2.0 unx      159 b- defN 23-May-24 15:12 runningz/model/nn/model_tabnet.pyc
+-rw-r--r--  2.0 unx     7503 b- defN 23-May-24 15:12 runningz/model/nn/nn_util.pyc
+-rw-r--r--  2.0 unx      365 b- defN 23-May-24 15:12 runningz/model/tree/__init__.pyc
+-rw-r--r--  2.0 unx     3608 b- defN 23-May-24 15:12 runningz/model/tree/model_cat.pyc
+-rw-r--r--  2.0 unx     2868 b- defN 23-May-24 15:12 runningz/model/tree/model_erf.pyc
+-rw-r--r--  2.0 unx     7715 b- defN 23-May-24 15:12 runningz/model/tree/model_lgb.pyc
+-rw-r--r--  2.0 unx     2882 b- defN 23-May-24 15:12 runningz/model/tree/model_rf.pyc
+-rw-r--r--  2.0 unx     3692 b- defN 23-May-24 15:12 runningz/model/tree/model_xgb.pyc
+-rw-r--r--  2.0 unx      349 b- defN 23-May-24 15:12 runningz/opt/__init__.pyc
+-rw-r--r--  2.0 unx      152 b- defN 23-May-24 15:12 runningz/opt/opt_convex.pyc
+-rw-r--r--  2.0 unx    12130 b- defN 23-May-24 15:12 runningz/opt/opt_elo.pyc
+-rw-r--r--  2.0 unx      152 b- defN 23-May-24 15:12 runningz/opt/opt_optuna.pyc
+-rw-r--r--  2.0 unx     5600 b- defN 23-May-24 15:12 runningz/opt/opt_random.pyc
+-rw-r--r--  2.0 unx      149 b- defN 23-May-24 15:12 runningz/opt/opt_sgd.pyc
+-rw-r--r--  2.0 unx      172 b- defN 23-May-24 15:12 runningz/util/__init__.pyc
+-rw-r--r--  2.0 unx     1141 b- defN 23-May-24 15:12 runningz/util/api.pyc
+-rw-r--r--  2.0 unx     2062 b- defN 23-May-24 15:12 runningz/util/clss.pyc
+-rw-r--r--  2.0 unx    33511 b- defN 23-May-24 15:12 runningz/util/code.pyc
+-rw-r--r--  2.0 unx      325 b- defN 23-May-24 15:12 runningz/util/const.pyc
+-rw-r--r--  2.0 unx     1263 b- defN 23-May-24 15:12 runningz/util/csv.pyc
+-rw-r--r--  2.0 unx     5416 b- defN 23-May-24 15:12 runningz/util/dist.pyc
+-rw-r--r--  2.0 unx     4867 b- defN 23-May-24 15:12 runningz/util/mem.pyc
+-rw-r--r--  2.0 unx     9774 b- defN 23-May-24 15:12 runningz/util/npy.pyc
+-rw-r--r--  2.0 unx     8898 b- defN 23-May-24 15:12 runningz/util/run.pyc
+-rw-r--r--  2.0 unx     2491 b- defN 23-May-24 15:12 runningz/util/test.pyc
+-rw-r--r--  2.0 unx    12607 b- defN 23-May-24 15:12 runningz/util/util.pyc
+-rw-r--r--  2.0 unx      156 b- defN 23-May-24 15:12 runningz/util/temp/__init__.pyc
+-rw-r--r--  2.0 unx     1211 b- defN 23-May-24 15:12 runningz/util/temp/main.pyc
+-rw-r--r--  2.0 unx      446 b- defN 23-May-24 15:12 runningz-0.11.3.7.dist-info/METADATA
+-rw-r--r--  2.0 unx       82 b- defN 23-May-24 15:12 runningz-0.11.3.7.dist-info/WHEEL
+-rw-r--r--  2.0 unx       52 b- defN 23-May-24 15:12 runningz-0.11.3.7.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx        9 b- defN 23-May-24 15:12 runningz-0.11.3.7.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     8441 b- defN 23-May-24 15:12 runningz-0.11.3.7.dist-info/RECORD
+100 files, 342851 bytes uncompressed, 153662 bytes compressed:  55.2%
```

## zipnote {}

```diff
@@ -279,23 +279,23 @@
 
 Filename: runningz/util/temp/__init__.pyc
 Comment: 
 
 Filename: runningz/util/temp/main.pyc
 Comment: 
 
-Filename: runningz-0.11.3.6.dist-info/METADATA
+Filename: runningz-0.11.3.7.dist-info/METADATA
 Comment: 
 
-Filename: runningz-0.11.3.6.dist-info/WHEEL
+Filename: runningz-0.11.3.7.dist-info/WHEEL
 Comment: 
 
-Filename: runningz-0.11.3.6.dist-info/entry_points.txt
+Filename: runningz-0.11.3.7.dist-info/entry_points.txt
 Comment: 
 
-Filename: runningz-0.11.3.6.dist-info/top_level.txt
+Filename: runningz-0.11.3.7.dist-info/top_level.txt
 Comment: 
 
-Filename: runningz-0.11.3.6.dist-info/RECORD
+Filename: runningz-0.11.3.7.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## runningz/__init__.pyc

 * *Format-specific differences are supported for Python .pyc files but no file-specific differences were detected; falling back to a binary diff. file(1) reports: Byte-compiled Python module for CPython 3.9, timestamp-based, .py timestamp: Tue May 23 14:50:55 2023 UTC, .py size: 1207 bytes*

 * *Could not decompile bytecode: bad marshal data (unknown type code)*

```diff
@@ -1,77 +1,76 @@
-00000000: 610d 0d0a 0000 0000 cfd2 6c64 b704 0000  a.........ld....
+00000000: 610d 0d0a 0000 0000 2228 6e64 ab04 0000  a......."(nd....
 00000010: e300 0000 0000 0000 0000 0000 0000 0000  ................
 00000020: 0004 0000 0040 0000 0073 8200 0000 6400  .....@...s....d.
 00000030: 5a00 6401 5a01 6402 5a02 6403 6404 6c03  Z.d.Z.d.Z.d.d.l.
 00000040: 5a03 6405 6503 6a04 6406 3c00 6407 6408  Z.d.e.j.d.<.d.d.
 00000050: 6c05 6d06 5a06 6d07 5a07 6d08 5a08 0100  l.m.Z.m.Z.m.Z...
 00000060: 6407 6409 6c09 5400 6407 640a 6c0a 6d0b  d.d.l.T.d.d.l.m.
 00000070: 5a0b 0100 6407 640b 6c0a 6d0c 5a0c 0100  Z...d.d.l.m.Z...
 00000080: 6407 640c 6c0a 6d0d 5a0d 0100 650e 6503  d.d.l.m.Z...e.e.
 00000090: 6a04 a00f 640d a101 8301 0100 6403 6404  j...d.......d.d.
 000000a0: 6c10 5a10 640e 640f 8400 5a11 6404 5300  l.Z.d.d...Z.d.S.
-000000b0: 2910 7a08 302e 3131 2e33 2e36 da08 7275  ).z.0.11.3.6..ru
-000000c0: 6e6e 696e 677a 7a10 7367 2c6d 672c 6c67  nningzz.sg,mg,lg
-000000d0: 622d 7061 7261 6d73 e900 0000 004e da03  b-params.....N..
-000000e0: 6f66 665a 0c4b 4d50 5f57 4152 4e49 4e47  offZ.KMP_WARNING
-000000f0: 53e9 0100 0000 2903 da0a 4461 7461 4d61  S.....)...DataMa
-00000100: 7374 6572 da08 4f50 4d61 7374 6572 da04  ster..OPMaster..
-00000110: 494e 464f 2901 da01 2a29 01da 066d 6574  INFO)...*)...met
-00000120: 7269 6329 01da 056d 6f64 656c 2901 da03  ric)...model)...
-00000130: 6f70 745a 0872 7a5f 746f 6b65 6e63 0000  optZ.rz_tokenc..
-00000140: 0000 0000 0000 0000 0000 0300 0000 0400  ................
-00000150: 0000 4300 0000 7326 0100 0074 0064 0174  ..C...s&...t.d.t
-00000160: 019b 009d 0264 0264 038d 0201 0074 0274  .....d.d.....t.t
-00000170: 036a 0483 0164 046b 0272 3074 0064 0564  .j...d.k.r0t.d.d
-00000180: 0264 038d 0201 0064 0053 0074 0064 0674  .d.....d.S.t.d.t
-00000190: 036a 049b 009d 0283 0101 0074 036a 0464  .j.........t.j.d
-000001a0: 0419 0064 076b 0372 5e74 0064 0864 0264  ...d.k.r^t.d.d.d
-000001b0: 038d 0201 0064 0053 0064 097d 0064 007d  .....d.S.d.}.d.}
-000001c0: 0174 0274 036a 0483 0164 0a6b 0272 7e74  .t.t.j...d.k.r~t
-000001d0: 0564 0b83 017d 026e 9874 0274 036a 0483  .d...}.n.t.t.j..
-000001e0: 0164 0c6b 0272 a474 036a 0464 0a19 007d  .d.k.r.t.j.d...}
-000001f0: 0274 0574 067c 0283 0183 017d 026e 7274  .t.t.|.....}.nrt
-00000200: 0274 036a 0483 0164 0d6b 0272 d874 036a  .t.j...d.k.r.t.j
-00000210: 0464 0a19 007d 0274 0574 067c 0283 0183  .d...}.t.t.|....
-00000220: 017d 0274 0574 036a 0464 0c19 0083 017d  .}.t.t.j.d.....}
-00000230: 006e 3e74 0274 036a 0483 0164 0e6b 0290  .n>t.t.j...d.k..
-00000240: 0172 1674 036a 0464 0a19 007d 0274 0574  .r.t.j.d...}.t.t
-00000250: 067c 0283 0183 017d 0274 0574 036a 0464  .|.....}.t.t.j.d
-00000260: 0c19 0083 017d 0074 036a 0464 0d19 007d  .....}.t.j.d...}
-00000270: 0174 077c 027c 007c 0183 0301 0064 0053  .t.|.|.|.....d.S
-00000280: 0029 0f4e 7a12 5b2b 5d20 5f5f 7665 7273  .).Nz.[+] __vers
-00000290: 696f 6e5f 5f20 3d20 5429 01da 0566 6c75  ion__ = T)...flu
-000002a0: 7368 7204 0000 007a 125b 2b5d 2068 656c  shr....z.[+] hel
-000002b0: 6c6f 2072 756e 6e69 6e67 7a7a 0f5b 2b5d  lo runningzz.[+]
-000002c0: 2073 7973 2e61 7267 7620 3d20 7a06 2d2d   sys.argv = z.--
-000002d0: 7465 7374 7a26 5b2b 5d20 6865 6c6c 6f20  testz&[+] hello 
-000002e0: 7275 6e6e 696e 677a 2e20 6f6e 6c79 2073  runningz. only s
-000002f0: 7570 6f72 7420 2d2d 7465 7374 e9ff ffff  uport --test....
-00000300: ffe9 0200 0000 6700 0000 0080 4f22 41e9  ......g.....O"A.
-00000310: 0300 0000 e904 0000 00e9 0500 0000 2908  ..............).
-00000320: da05 7072 696e 74da 0b5f 5f76 6572 7369  ..print..__versi
-00000330: 6f6e 5f5f da03 6c65 6eda 0373 7973 da04  on__..len..sys..
-00000340: 6172 6776 da03 696e 74da 0566 6c6f 6174  argv..int..float
-00000350: 5a10 7465 7374 5f70 6572 666f 726d 6572  Z.test_performer
-00000360: 6365 2903 5a06 6e5f 6a6f 6273 da04 7061  ce).Z.n_jobs..pa
-00000370: 7468 da01 6ea9 0072 1b00 0000 fa37 6275  th..n..r.....7bu
-00000380: 696c 642f 6264 6973 742e 6d61 636f 7378  ild/bdist.macosx
-00000390: 2d31 302e 392d 7838 365f 3634 2f65 6767  -10.9-x86_64/egg
-000003a0: 2f72 756e 6e69 6e67 7a2f 5f5f 696e 6974  /runningz/__init
-000003b0: 5f5f 2e70 79da 0d74 6573 745f 7275 6e6e  __.py..test_runn
-000003c0: 696e 677a 1200 0000 7332 0000 0000 0112  ingz....s2......
-000003d0: 020e 010c 0104 0210 010e 010c 0104 0204  ................
-000003e0: 0104 010e 010a 010e 010a 010e 010e 010a  ................
-000003f0: 010c 0110 0110 010a 010c 010e 010a 0172  ...............r
-00000400: 1d00 0000 2912 7213 0000 00da 0a5f 5f61  ....).r......__a
-00000410: 7574 686f 725f 5f5a 0b5f 5f64 6573 6369  uthor__Z.__desci
-00000420: 6265 5f5f da02 6f73 da07 656e 7669 726f  be__..os..enviro
-00000430: 6e5a 0863 6f72 652e 6170 6972 0500 0000  nZ.core.apir....
-00000440: 7206 0000 0072 0700 0000 5a08 7574 696c  r....r....Z.util
-00000450: 2e61 7069 da00 7209 0000 0072 0a00 0000  .api..r....r....
-00000460: 720b 0000 005a 0e69 735f 7661 6c69 645f  r....Z.is_valid_
-00000470: 746f 6b65 6eda 0367 6574 7215 0000 0072  token..getr....r
-00000480: 1d00 0000 721b 0000 0072 1b00 0000 721b  ....r....r....r.
-00000490: 0000 0072 1c00 0000 da08 3c6d 6f64 756c  ...r......<modul
-000004a0: 653e 0100 0000 7318 0000 0004 0104 0104  e>....s.........
-000004b0: 0208 010a 0114 0108 010c 010c 010c 0310  ................
-000004c0: 0308 01                                  ...
+000000b0: 2910 7a08 302e 3131 2e33 2e37 da08 7275  ).z.0.11.3.7..ru
+000000c0: 6e6e 696e 677a da04 7574 696c e900 0000  nningz..util....
+000000d0: 004e da03 6f66 665a 0c4b 4d50 5f57 4152  .N..offZ.KMP_WAR
+000000e0: 4e49 4e47 53e9 0100 0000 2903 da0a 4461  NINGS.....)...Da
+000000f0: 7461 4d61 7374 6572 da08 4f50 4d61 7374  taMaster..OPMast
+00000100: 6572 da04 494e 464f 2901 da01 2a29 01da  er..INFO)...*)..
+00000110: 066d 6574 7269 6329 01da 056d 6f64 656c  .metric)...model
+00000120: 2901 da03 6f70 745a 0872 7a5f 746f 6b65  )...optZ.rz_toke
+00000130: 6e63 0000 0000 0000 0000 0000 0000 0300  nc..............
+00000140: 0000 0400 0000 4300 0000 7326 0100 0074  ......C...s&...t
+00000150: 0064 0174 019b 009d 0264 0264 038d 0201  .d.t.....d.d....
+00000160: 0074 0274 036a 0483 0164 046b 0272 3074  .t.t.j...d.k.r0t
+00000170: 0064 0564 0264 038d 0201 0064 0053 0074  .d.d.d.....d.S.t
+00000180: 0064 0674 036a 049b 009d 0283 0101 0074  .d.t.j.........t
+00000190: 036a 0464 0419 0064 076b 0372 5e74 0064  .j.d...d.k.r^t.d
+000001a0: 0864 0264 038d 0201 0064 0053 0064 097d  .d.d.....d.S.d.}
+000001b0: 0064 007d 0174 0274 036a 0483 0164 0a6b  .d.}.t.t.j...d.k
+000001c0: 0272 7e74 0564 0b83 017d 026e 9874 0274  .r~t.d...}.n.t.t
+000001d0: 036a 0483 0164 0c6b 0272 a474 036a 0464  .j...d.k.r.t.j.d
+000001e0: 0a19 007d 0274 0574 067c 0283 0183 017d  ...}.t.t.|.....}
+000001f0: 026e 7274 0274 036a 0483 0164 0d6b 0272  .nrt.t.j...d.k.r
+00000200: d874 036a 0464 0a19 007d 0274 0574 067c  .t.j.d...}.t.t.|
+00000210: 0283 0183 017d 0274 0574 036a 0464 0c19  .....}.t.t.j.d..
+00000220: 0083 017d 006e 3e74 0274 036a 0483 0164  ...}.n>t.t.j...d
+00000230: 0e6b 0290 0172 1674 036a 0464 0a19 007d  .k...r.t.j.d...}
+00000240: 0274 0574 067c 0283 0183 017d 0274 0574  .t.t.|.....}.t.t
+00000250: 036a 0464 0c19 0083 017d 0074 036a 0464  .j.d.....}.t.j.d
+00000260: 0d19 007d 0174 077c 027c 007c 0183 0301  ...}.t.|.|.|....
+00000270: 0064 0053 0029 0f4e 7a12 5b2b 5d20 5f5f  .d.S.).Nz.[+] __
+00000280: 7665 7273 696f 6e5f 5f20 3d20 5429 01da  version__ = T)..
+00000290: 0566 6c75 7368 7205 0000 007a 125b 2b5d  .flushr....z.[+]
+000002a0: 2068 656c 6c6f 2072 756e 6e69 6e67 7a7a   hello runningzz
+000002b0: 0f5b 2b5d 2073 7973 2e61 7267 7620 3d20  .[+] sys.argv = 
+000002c0: 7a06 2d2d 7465 7374 7a26 5b2b 5d20 6865  z.--testz&[+] he
+000002d0: 6c6c 6f20 7275 6e6e 696e 677a 2e20 6f6e  llo runningz. on
+000002e0: 6c79 2073 7570 6f72 7420 2d2d 7465 7374  ly suport --test
+000002f0: e9ff ffff ffe9 0200 0000 6700 0000 0080  ..........g.....
+00000300: 4f22 41e9 0300 0000 e904 0000 00e9 0500  O"A.............
+00000310: 0000 2908 da05 7072 696e 74da 0b5f 5f76  ..)...print..__v
+00000320: 6572 7369 6f6e 5f5f da03 6c65 6eda 0373  ersion__..len..s
+00000330: 7973 da04 6172 6776 da03 696e 74da 0566  ys..argv..int..f
+00000340: 6c6f 6174 5a10 7465 7374 5f70 6572 666f  loatZ.test_perfo
+00000350: 726d 6572 6365 2903 5a06 6e5f 6a6f 6273  rmerce).Z.n_jobs
+00000360: da04 7061 7468 da01 6ea9 0072 1c00 0000  ..path..n..r....
+00000370: fa37 6275 696c 642f 6264 6973 742e 6d61  .7build/bdist.ma
+00000380: 636f 7378 2d31 302e 392d 7838 365f 3634  cosx-10.9-x86_64
+00000390: 2f65 6767 2f72 756e 6e69 6e67 7a2f 5f5f  /egg/runningz/__
+000003a0: 696e 6974 5f5f 2e70 79da 0d74 6573 745f  init__.py..test_
+000003b0: 7275 6e6e 696e 677a 1200 0000 7332 0000  runningz....s2..
+000003c0: 0000 0112 020e 010c 0104 0210 010e 010c  ................
+000003d0: 0104 0204 0104 010e 010a 010e 010a 010e  ................
+000003e0: 010e 010a 010c 0110 0110 010a 010c 010e  ................
+000003f0: 010a 0172 1e00 0000 2912 7214 0000 00da  ...r....).r.....
+00000400: 0a5f 5f61 7574 686f 725f 5f5a 0b5f 5f64  .__author__Z.__d
+00000410: 6573 6369 6265 5f5f da02 6f73 da07 656e  escibe__..os..en
+00000420: 7669 726f 6e5a 0863 6f72 652e 6170 6972  vironZ.core.apir
+00000430: 0600 0000 7207 0000 0072 0800 0000 5a08  ....r....r....Z.
+00000440: 7574 696c 2e61 7069 da00 720a 0000 0072  util.api..r....r
+00000450: 0b00 0000 720c 0000 005a 0e69 735f 7661  ....r....Z.is_va
+00000460: 6c69 645f 746f 6b65 6eda 0367 6574 7216  lid_token..getr.
+00000470: 0000 0072 1e00 0000 721c 0000 0072 1c00  ...r....r....r..
+00000480: 0000 721c 0000 0072 1d00 0000 da08 3c6d  ..r....r......<m
+00000490: 6f64 756c 653e 0100 0000 7318 0000 0004  odule>....s.....
+000004a0: 0104 0104 0208 010a 0114 0108 010c 010c  ................
+000004b0: 010c 0310 0308 01                        .......
```

## runningz/core/op/_numba.pyc

 * *Format-specific differences are supported for Python .pyc files but no file-specific differences were detected; falling back to a binary diff. file(1) reports: Byte-compiled Python module for CPython 3.9, timestamp-based, .py timestamp: Tue May 23 13:52:00 2023 UTC, .py size: 7361 bytes*

 * *Could not decompile bytecode: bad marshal data (unknown type code)*

```diff
@@ -1,8 +1,8 @@
-00000000: 610d 0d0a 0000 0000 00c5 6c64 c11c 0000  a.........ld....
+00000000: 610d 0d0a 0000 0000 c4d7 6c64 c11c 0000  a.........ld....
 00000010: e300 0000 0000 0000 0000 0000 0000 0000  ................
 00000020: 0004 0000 0040 0000 0073 0602 0000 6400  .....@...s....d.
 00000030: 6401 6c00 5a01 6400 6401 6c02 5a03 6400  d.l.Z.d.d.l.Z.d.
 00000040: 6401 6c04 5a05 6400 6401 6c06 5a06 6400  d.l.Z.d.d.l.Z.d.
 00000050: 6401 6c07 5a07 6506 a008 6402 a101 0100  d.l.Z.e...d.....
 00000060: 6400 6401 6c09 5a09 6400 6403 6c09 6d0a  d.d.l.Z.d.d.l.m.
 00000070: 5a0a 0100 6404 6405 6c0b 6d0c 5a0c 6d0d  Z...d.d.l.m.Z.m.
```

## runningz/fe/prepare_data/base_data.pyc

 * *Format-specific differences are supported for Python .pyc files but no file-specific differences were detected; falling back to a binary diff. file(1) reports: Byte-compiled Python module for CPython 3.9, timestamp-based, .py timestamp: Sun Apr 23 02:43:59 2023 UTC, .py size: 3004 bytes*

 * *Could not decompile bytecode: bad marshal data (unknown type code)*

```diff
@@ -1,8 +1,8 @@
-00000000: 610d 0d0a 0000 0000 6f9b 4464 bc0b 0000  a.......o.Dd....
+00000000: 610d 0d0a 0000 0000 321c 6e64 c30b 0000  a.......2.nd....
 00000010: e300 0000 0000 0000 0000 0000 0000 0000  ................
 00000020: 0003 0000 0040 0000 0073 5a00 0000 6400  .....@...sZ...d.
 00000030: 6401 6c00 5a00 6400 6401 6c01 5a02 6400  d.l.Z.d.d.l.Z.d.
 00000040: 6401 6c03 5a04 6402 6403 6c05 6d06 5a06  d.l.Z.d.d.l.m.Z.
 00000050: 0100 6402 6404 6c07 6d08 5a08 0100 6402  ..d.d.l.m.Z...d.
 00000060: 6404 6c07 6d08 5a08 0100 6509 5a0a 6405  d.l.m.Z...e.Z.d.
 00000070: 6406 8400 5a09 4700 6407 6408 8400 6408  d...Z.G.d.d...d.
```

## runningz/model/tree/model_lgb.pyc

 * *Format-specific differences are supported for Python .pyc files but no file-specific differences were detected; falling back to a binary diff. file(1) reports: Byte-compiled Python module for CPython 3.9, timestamp-based, .py timestamp: Tue May 23 14:46:39 2023 UTC, .py size: 9495 bytes*

 * *Could not decompile bytecode: bad marshal data (unknown type code)*

```diff
@@ -1,8 +1,8 @@
-00000000: 610d 0d0a 0000 0000 cfd1 6c64 1725 0000  a.........ld.%..
+00000000: 610d 0d0a 0000 0000 2618 6e64 0b29 0000  a.......&.nd.)..
 00000010: e300 0000 0000 0000 0000 0000 0000 0000  ................
 00000020: 0004 0000 0040 0000 0073 d800 0000 6400  .....@...s....d.
 00000030: 6401 6c00 5a00 6500 6a01 a002 6402 a101  d.l.Z.e.j...d...
 00000040: 0100 6500 6a01 a002 6403 a101 0100 6400  ..e.j...d.....d.
 00000050: 6401 6c03 5a03 6400 6401 6c04 5a04 6400  d.l.Z.d.d.l.Z.d.
 00000060: 6401 6c05 5a05 6400 6401 6c06 5a07 6400  d.l.Z.d.d.l.Z.d.
 00000070: 6401 6c08 5a09 6400 6401 6c0a 5a0b 6404  d.l.Z.d.d.l.Z.d.
@@ -24,375 +24,460 @@
 00000170: 000b 00a1 0117 001b 0053 00a9 024e e901  .........S...N..
 00000180: 0000 00a9 02da 026e 70da 0365 7870 a901  .......np..exp..
 00000190: da01 78a9 0072 0d00 0000 fa43 6275 696c  ..x..r.....Cbuil
 000001a0: 642f 6264 6973 742e 6d61 636f 7378 2d31  d/bdist.macosx-1
 000001b0: 302e 392d 7838 365f 3634 2f65 6767 2f72  0.9-x86_64/egg/r
 000001c0: 756e 6e69 6e67 7a2f 6d6f 6465 6c2f 7472  unningz/model/tr
 000001d0: 6565 2f6d 6f64 656c 5f6c 6762 2e70 79da  ee/model_lgb.py.
-000001e0: 0c5f 706f 735f 7369 676d 6f69 6412 0000  ._pos_sigmoid...
+000001e0: 0c5f 706f 735f 7369 676d 6f69 6411 0000  ._pos_sigmoid...
 000001f0: 0073 0200 0000 0001 720f 0000 0063 0100  .s......r....c..
 00000200: 0000 0000 0000 0000 0000 0200 0000 0300  ................
 00000210: 0000 4300 0000 7316 0000 0074 00a0 017c  ..C...s....t...|
 00000220: 00a1 017d 017c 017c 0164 0117 001b 0053  ...}.|.|.d.....S
 00000230: 0072 0600 0000 7208 0000 0029 0272 0c00  .r....r....).r..
 00000240: 0000 720a 0000 0072 0d00 0000 720d 0000  ..r....r....r...
 00000250: 0072 0e00 0000 da0c 5f6e 6567 5f73 6967  .r......_neg_sig
-00000260: 6d6f 6964 1500 0000 7304 0000 0000 010a  moid....s.......
+00000260: 6d6f 6964 1400 0000 7304 0000 0000 010a  moid....s.......
 00000270: 0172 1000 0000 6301 0000 0000 0000 0000  .r....c.........
 00000280: 0000 0004 0000 0003 0000 0043 0000 0073  ...........C...s
 00000290: 3c00 0000 7c00 6401 6b05 7d01 7c01 0f00  <...|.d.k.}.|...
 000002a0: 7d02 7400 a001 7c00 a101 7d03 7402 7c00  }.t...|...}.t.|.
 000002b0: 7c01 1900 8301 7c03 7c01 3c00 7403 7c00  |.....|.|.<.t.|.
 000002c0: 7c02 1900 8301 7c03 7c02 3c00 7c03 5300  |.....|.|.<.|.S.
 000002d0: a902 4e72 0100 0000 2904 7209 0000 00da  ..Nr....).r.....
 000002e0: 0a65 6d70 7479 5f6c 696b 6572 0f00 0000  .empty_liker....
 000002f0: 7210 0000 00a9 0472 0c00 0000 da03 706f  r......r......po
 00000300: 73da 036e 6567 da03 7265 7372 0d00 0000  s..neg..resr....
 00000310: 720d 0000 0072 0e00 0000 da07 7369 676d  r....r......sigm
-00000320: 6f69 6419 0000 0073 0c00 0000 0001 0801  oid....s........
+00000320: 6f69 6418 0000 0073 0c00 0000 0001 0801  oid....s........
 00000330: 0601 0a01 1001 1001 7217 0000 0063 0100  ........r....c..
 00000340: 0000 0000 0000 0000 0000 0100 0000 0600  ................
 00000350: 0000 4300 0000 7316 0000 007c 0074 00a0  ..C...s....|.t..
 00000360: 0174 00a0 027c 000b 00a1 01a1 0117 0053  .t...|.........S
 00000370: 00a9 014e a903 7209 0000 00da 056c 6f67  ...N..r......log
 00000380: 3170 720a 0000 0072 0b00 0000 720d 0000  1pr....r....r...
 00000390: 0072 0d00 0000 720e 0000 00da 0e5f 706f  .r....r......_po
-000003a0: 735f 736f 6674 706c 7574 7321 0000 0073  s_softpluts!...s
+000003a0: 735f 736f 6674 706c 7574 7320 0000 0073  s_softpluts ...s
 000003b0: 0200 0000 0001 721b 0000 0063 0100 0000  ......r....c....
 000003c0: 0000 0000 0000 0000 0100 0000 0500 0000  ................
 000003d0: 4300 0000 7310 0000 0074 00a0 0174 00a0  C...s....t...t..
 000003e0: 027c 00a1 01a1 0153 0072 1800 0000 7219  .|.....S.r....r.
 000003f0: 0000 0072 0b00 0000 720d 0000 0072 0d00  ...r....r....r..
 00000400: 0000 720e 0000 00da 0d5f 6e65 675f 736f  ..r......_neg_so
-00000410: 6674 706c 7573 2400 0000 7302 0000 0000  ftplus$...s.....
+00000410: 6674 706c 7573 2300 0000 7302 0000 0000  ftplus#...s.....
 00000420: 0172 1c00 0000 6301 0000 0000 0000 0000  .r....c.........
 00000430: 0000 0004 0000 0003 0000 0043 0000 0073  ...........C...s
 00000440: 3c00 0000 7c00 6401 6b05 7d01 7c01 0f00  <...|.d.k.}.|...
 00000450: 7d02 7400 a001 7c00 a101 7d03 7402 7c00  }.t...|...}.t.|.
 00000460: 7c01 1900 8301 7c03 7c01 3c00 7403 7c00  |.....|.|.<.t.|.
 00000470: 7c02 1900 8301 7c03 7c02 3c00 7c03 5300  |.....|.|.<.|.S.
 00000480: 7211 0000 0029 0472 0900 0000 7212 0000  r....).r....r...
 00000490: 0072 1b00 0000 721c 0000 0072 1300 0000  .r....r....r....
 000004a0: 720d 0000 0072 0d00 0000 720e 0000 00da  r....r....r.....
-000004b0: 0773 6f66 7470 6c75 2700 0000 730c 0000  .softplu'...s...
+000004b0: 0773 6f66 7470 6c75 2600 0000 730c 0000  .softplu&...s...
 000004c0: 0000 0108 0106 010a 0110 0110 0172 1d00  .............r..
 000004d0: 0000 6302 0000 0000 0000 0000 0000 0006  ..c.............
 000004e0: 0000 0005 0000 0043 0000 0073 3e00 0000  .......C...s>...
 000004f0: 7c01 a000 a100 7d02 7401 a002 7c02 6401  |.....}.t...|.d.
 00000500: 6b04 6402 6401 a103 7d02 7403 7c00 8301  k.d.d...}.t.|...
 00000510: 7d03 7c03 7c02 1800 7d04 7c03 6402 7c03  }.|.|...}.|.d.|.
 00000520: 1800 1400 7d05 7c04 7c05 6602 5300 2903  ....}.|.|.f.S.).
 00000530: 4e72 0100 0000 7207 0000 0029 04da 0967  Nr....r....)...g
 00000540: 6574 5f6c 6162 656c 7209 0000 00da 0577  et_labelr......w
 00000550: 6865 7265 7217 0000 0029 06da 017a da04  herer....)...z..
 00000560: 6461 7461 da01 74da 0179 da04 6772 6164  data..t..y..grad
 00000570: da04 6865 7373 720d 0000 0072 0d00 0000  ..hessr....r....
-00000580: 720e 0000 00da 0862 6365 5f6c 6f73 732f  r......bce_loss/
+00000580: 720e 0000 00da 0862 6365 5f6c 6f73 732e  r......bce_loss.
 00000590: 0000 0073 0c00 0000 0001 0801 1202 0801  ...s............
 000005a0: 0801 0c01 7226 0000 0063 0200 0000 0000  ....r&...c......
 000005b0: 0000 0000 0000 0500 0000 0300 0000 4300  ..............C.
 000005c0: 0000 7322 0000 007c 01a0 00a1 007d 027c  ..s"...|.....}.|
 000005d0: 007c 0218 007d 0374 01a0 027c 00a1 017d  .|...}.t...|...}
 000005e0: 047c 037c 0466 0253 0072 1800 0000 2903  .|.|.f.S.r....).
 000005f0: 721e 0000 0072 0900 0000 5a09 6f6e 6573  r....r....Z.ones
 00000600: 5f6c 696b 6529 0572 2300 0000 7221 0000  _like).r#...r!..
 00000610: 0072 2200 0000 7224 0000 0072 2500 0000  .r"...r$...r%...
 00000620: 720d 0000 0072 0d00 0000 720e 0000 00da  r....r....r.....
-00000630: 076c 325f 6c6f 7373 3800 0000 7308 0000  .l2_loss8...s...
+00000630: 076c 325f 6c6f 7373 3700 0000 7308 0000  .l2_loss7...s...
 00000640: 0000 0108 0108 010a 0172 2700 0000 6302  .........r'...c.
 00000650: 0000 0000 0000 0000 0000 0008 0000 0003  ................
 00000660: 0000 0043 0000 0073 3c00 0000 7400 7c00  ...C...s<...t.|.
 00000670: 7c01 8302 5c02 7d02 7d03 7401 7c00 7c01  |...\.}.}.t.|.|.
 00000680: 8302 5c02 7d04 7d05 7c02 6401 7c04 1400  ..\.}.}.|.d.|...
 00000690: 1700 7d06 7c03 6401 7c05 1400 1700 7d07  ..}.|.d.|.....}.
 000006a0: 7c06 7c07 6602 5300 2902 4ee7 0000 0000  |.|.f.S.).N.....
 000006b0: 0000 e03f 2902 7227 0000 0072 2600 0000  ...?).r'...r&...
 000006c0: 2908 7223 0000 0072 2100 0000 5a07 6772  ).r#...r!...Z.gr
 000006d0: 6164 5f6c 325a 0768 6573 735f 6c32 5a08  ad_l2Z.hess_l2Z.
 000006e0: 6772 6164 5f62 6365 5a08 6865 7373 5f62  grad_bceZ.hess_b
 000006f0: 6365 7224 0000 0072 2500 0000 720d 0000  cer$...r%...r...
 00000700: 0072 0d00 0000 720e 0000 00da 0466 6f62  .r....r......fob
-00000710: 6a3e 0000 0073 0a00 0000 0001 0e01 0e01  j>...s..........
+00000710: 6a3d 0000 0073 0a00 0000 0001 0e01 0e01  j=...s..........
 00000720: 0c01 0c01 7229 0000 0063 0000 0000 0000  ....r)...c......
 00000730: 0000 0000 0000 0000 0000 0400 0000 0000  ................
-00000740: 0000 7368 0000 0065 005a 0164 005a 0264  ..sh...e.Z.d.Z.d
-00000750: 0164 0284 005a 0364 1487 0066 0164 0464  .d...Z.d...f.d.d
-00000760: 0584 095a 0464 1564 0664 0784 015a 0564  ...Z.d.d.d...Z.d
-00000770: 1664 0864 0984 015a 0664 0a64 0b84 005a  .d.d...Z.d.d...Z
-00000780: 0764 1787 0066 0164 0e64 0f84 095a 0887  .d...f.d.d...Z..
-00000790: 0066 0164 1064 1184 085a 0987 0066 0164  .f.d.d...Z...f.d
-000007a0: 1264 1384 085a 0a87 0004 005a 0b53 0029  .d...Z.....Z.S.)
-000007b0: 18da 084c 4742 4d6f 6465 6c63 0100 0000  ...LGBModelc....
-000007c0: 0000 0000 0000 0000 0200 0000 0f00 0000  ................
-000007d0: 4300 0000 73bc 0000 007c 0064 0176 0072  C...s....|.d.v.r
-000007e0: 2c64 0264 0364 0464 0564 0664 0764 0864  ,d.d.d.d.d.d.d.d
-000007f0: 0664 0964 0964 0a9c 0a7d 0164 0b7c 0164  .d.d.d...}.d.|.d
-00000800: 0c3c 006e 8c7c 0064 0d76 0072 5a64 0264  .<.n.|.d.v.rZd.d
-00000810: 0364 0464 0564 0664 0764 0864 0664 0964  .d.d.d.d.d.d.d.d
-00000820: 0964 0e64 0f9c 0b7d 0164 0b7c 0164 0c3c  .d.d...}.d.|.d.<
-00000830: 006e 5e7c 0064 1076 0072 8e64 0264 0364  .n^|.d.v.r.d.d.d
-00000840: 0464 0564 0664 0764 1164 0664 1264 1364  .d.d.d.d.d.d.d.d
-00000850: 1464 1564 1664 1764 189c 0e7d 0164 0b7c  .d.d.d.d...}.d.|
-00000860: 0164 0c3c 006e 2a7c 0064 1976 0072 b864  .d.<.n*|.d.v.r.d
-00000870: 0264 1a64 1b64 0564 0664 0764 0864 0664  .d.d.d.d.d.d.d.d
-00000880: 0964 0964 0a9c 0a7d 0164 1c7c 0164 0c3c  .d.d...}.d.|.d.<
-00000890: 007c 0153 0029 1d4e 2901 5a08 7061 7261  .|.S.).N).Z.para
-000008a0: 6d73 5f31 6909 0300 005a 0a72 6567 7265  ms_1i....Z.regre
-000008b0: 7373 696f 6e5a 0472 6d73 65e9 3f00 0000  ssionZ.rmse.?...
-000008c0: e9ff ffff ff67 7b14 ae47 e17a 843f e9ff  .....g{..G.z.?..
-000008d0: 0000 0072 2800 0000 290a da04 7365 6564  ...r(...)...seed
-000008e0: da09 6f62 6a65 6374 6976 65da 066d 6574  ..objective..met
-000008f0: 7269 63da 066e 5f6a 6f62 73da 0976 6572  ric..n_jobs..ver
-00000900: 626f 7369 7479 da0d 6c65 6172 6e69 6e67  bosity..learning
-00000910: 5f72 6174 65da 0a6e 756d 5f6c 6561 7665  _rate..num_leave
-00000920: 73da 096d 6178 5f64 6570 7468 da10 6665  s..max_depth..fe
-00000930: 6174 7572 655f 6672 6163 7469 6f6e da10  ature_fraction..
-00000940: 6261 6767 696e 675f 6672 6163 7469 6f6e  bagging_fraction
-00000950: 69f4 0100 00da 0c6e 5f65 7374 696d 6174  i......n_estimat
-00000960: 6f72 7329 015a 0c70 6172 616d 735f 6578  ors).Z.params_ex
-00000970: 7472 6154 290b 722e 0000 0072 2f00 0000  traT).r....r/...
-00000980: 7230 0000 0072 3100 0000 7232 0000 0072  r0...r1...r2...r
-00000990: 3300 0000 7234 0000 0072 3500 0000 7236  3...r4...r5...r6
-000009a0: 0000 0072 3700 0000 5a0b 6578 7472 615f  ...r7...Z.extra_
-000009b0: 7472 6565 7329 015a 0870 6172 616d 735f  trees).Z.params_
-000009c0: 3269 0008 0000 67cd cccc cccc cce4 3f67  2i....g.......?g
-000009d0: cdcc cccc cccc ec3f 67fa 7e6a bc74 9368  .......?g.~j.t.h
-000009e0: 3fe9 8c00 0000 679a 9999 9999 99e9 3f67  ?.....g.......?g
-000009f0: 3333 3333 3333 d33f 290e 722e 0000 0072  333333.?).r....r
-00000a00: 2f00 0000 7230 0000 0072 3100 0000 7232  /...r0...r1...r2
-00000a10: 0000 0072 3300 0000 7234 0000 0072 3500  ...r3...r4...r5.
-00000a20: 0000 7236 0000 0072 3700 0000 5a10 6d69  ..r6...r7...Z.mi
-00000a30: 6e5f 6368 696c 645f 7765 6967 6874 5a10  n_child_weightZ.
-00000a40: 6d69 6e5f 6461 7461 5f69 6e5f 6c65 6166  min_data_in_leaf
-00000a50: 5a09 7265 675f 616c 7068 615a 0a72 6567  Z.reg_alphaZ.reg
-00000a60: 5f6c 616d 6264 6129 015a 0a70 6172 616d  _lambda).Z.param
-00000a70: 735f 6164 76da 0662 696e 6172 795a 0361  s_adv..binaryZ.a
-00000a80: 7563 e964 0000 0072 0d00 0000 2902 da09  uc.d...r....)...
-00000a90: 7061 7261 6d73 5f69 64da 0670 6172 616d  params_id..param
-00000aa0: 7372 0d00 0000 720d 0000 0072 0e00 0000  sr....r....r....
-00000ab0: da0a 6765 745f 7061 7261 6d73 4800 0000  ..get_paramsH...
-00000ac0: 7374 0000 0000 0108 0202 0102 0102 0102  st..............
-00000ad0: 0102 0102 0102 0102 0102 0102 f606 0c0a  ................
-00000ae0: 0208 0202 0102 0102 0102 0102 0102 0102  ................
-00000af0: 0102 0102 0102 0102 f506 0d0a 0208 0202  ................
-00000b00: 0102 0102 0102 0102 0102 0102 0102 0102  ................
-00000b10: 0102 0102 0102 0102 0102 f206 100a 0108  ................
-00000b20: 0202 0102 0102 0102 0102 0102 0102 0102  ................
-00000b30: 0102 0102 f606 0c08 017a 134c 4742 4d6f  .........z.LGBMo
-00000b40: 6465 6c2e 6765 745f 7061 7261 6d73 4e63  del.get_paramsNc
-00000b50: 0200 0000 0000 0000 0000 0000 0200 0000  ................
-00000b60: 0300 0000 0300 0000 7310 0000 0074 0083  ........s....t..
-00000b70: 00a0 017c 01a1 0101 0064 0053 0072 1800  ...|.....d.S.r..
-00000b80: 0000 2902 da05 7375 7065 72da 085f 5f69  ..)...super..__i
-00000b90: 6e69 745f 5f29 02da 0473 656c 66da 0a6d  nit__)...self..m
-00000ba0: 6f64 656c 5f6e 616d 65a9 01da 095f 5f63  odel_name....__c
-00000bb0: 6c61 7373 5f5f 720d 0000 0072 0e00 0000  lass__r....r....
-00000bc0: 7240 0000 008a 0000 0073 0200 0000 0001  r@.......s......
-00000bd0: 7a11 4c47 424d 6f64 656c 2e5f 5f69 6e69  z.LGBModel.__ini
-00000be0: 745f 5f63 0400 0000 0000 0000 0000 0000  t__c............
-00000bf0: 1000 0000 0c00 0000 4300 0000 73ec 0200  ........C...s...
-00000c00: 007c 03a0 0064 0164 02a1 027d 047c 0264  .|...d.d...}.|.d
-00000c10: 0275 0173 207c 0464 0275 0173 204a 0082  .u.s |.d.u.s J..
-00000c20: 017c 0464 0275 0172 3274 01a0 027c 04a1  .|.d.u.r2t...|..
-00000c30: 017d 027c 03a0 0064 037c 0264 0419 00a1  .}.|...d.|.d....
-00000c40: 027d 057c 057c 0364 033c 007c 057c 0264  .}.|.|.d.<.|.|.d
-00000c50: 043c 007c 006a 037c 0364 053c 007c 027c  .<.|.j.|.d.<.|.|
-00000c60: 0302 007c 005f 047c 005f 057c 03a0 0064  ...|._.|._.|...d
-00000c70: 0664 07a1 027d 067c 03a0 0064 0864 09a1  .d...}.|...d.d..
-00000c80: 027d 077c 0772 be74 0664 0a7c 039b 009d  .}.|.r.t.d.|....
-00000c90: 0264 0b64 0c8d 0201 0074 076a 08a0 09a1  .d.d.....t.j....
-00000ca0: 0001 0074 0664 0d7c 029b 009d 0264 0b64  ...t.d.|.....d.d
-00000cb0: 0c8d 0201 0074 076a 08a0 09a1 0001 007c  .....t.j.......|
-00000cc0: 0164 0e19 007c 0164 0f19 0002 007d 087d  .d...|.d.....}.}
-00000cd0: 0964 107c 01a0 0aa1 0076 0090 0172 0064  .d.|.....v...r.d
-00000ce0: 107c 01a0 0aa1 0076 0090 0172 007c 0164  .|.....v...r.|.d
-00000cf0: 1019 007c 0164 1119 0002 007d 0a7d 0b6e  ...|.d.....}.}.n
-00000d00: 2a7c 0164 0e19 0064 1264 0285 0219 00a0  *|.d...d.d......
-00000d10: 0ba1 007c 0164 0f19 0064 1264 0285 0219  ...|.d...d.d....
-00000d20: 00a0 0ba1 0002 007d 0a7d 0b7c 03a0 0064  .......}.}.|...d
-00000d30: 1364 0ba1 0290 0172 867c 0164 0e3d 007c  .d.....r.|.d.=.|
-00000d40: 0164 0f3d 0074 0ca0 0da1 0001 0064 107c  .d.=.t.......d.|
-00000d50: 01a0 0aa1 0076 0090 0172 7c64 117c 01a0  .....v...r|d.|..
-00000d60: 0aa1 0076 0090 0172 7c7c 0164 103d 007c  ...v...r||.d.=.|
-00000d70: 0164 113d 0074 0ca0 0da1 0001 007e 0174  .d.=.t.......~.t
-00000d80: 0ca0 0da1 0001 007c 0790 0172 dc74 0664  .......|...r.t.d
-00000d90: 147c 086a 0e9b 009d 0264 0b64 0c8d 0201  .|.j.....d.d....
-00000da0: 0074 076a 08a0 09a1 0001 0074 0664 157c  .t.j.......t.d.|
-00000db0: 0a6a 0e9b 009d 0264 0b64 0c8d 0201 0074  .j.....d.d.....t
-00000dc0: 076a 08a0 09a1 0001 0074 0664 1683 0101  .j.......t.d....
-00000dd0: 0074 0f83 0074 1083 0066 0201 0074 11a0  .t...t...f...t..
-00000de0: 127c 087c 09a1 027d 0c74 11a0 127c 0a7c  .|.|...}.t...|.|
-00000df0: 0ba1 027d 0d7c 0790 0272 0e74 0664 1783  ...}.|...r.t.d..
-00000e00: 0101 0074 0f83 0074 1083 0066 0201 007e  ...t...t...f...~
-00000e10: 087e 097e 0a7e 0b74 0ca0 0da1 0001 007c  .~.~.~.t.......|
-00000e20: 03a0 0064 1864 02a1 027d 0e7c 0e64 0275  ...d.d...}.|.d.u
-00000e30: 0090 0272 6274 116a 137c 027c 0c7c 0d67  ...rbt.j.|.|.|.g
-00000e40: 0174 11a0 147c 067c 0664 196b 0490 0272  .t...|.|.d.k...r
-00000e50: 5464 0b6e 0264 09a1 0267 0164 1a8d 047d  Td.n.d...g.d...}
-00000e60: 0f6e 807a 3674 116a 137c 027c 0c7c 0d67  .n.z6t.j.|.|.|.g
-00000e70: 0174 11a0 147c 067c 0664 196b 0490 0272  .t...|.|.d.k...r
-00000e80: 8464 0b6e 0264 09a1 0267 0174 157c 0e83  .d.n.d...g.t.|..
-00000e90: 0164 1b8d 057d 0f57 006e 4801 0001 0001  .d...}.W.nH.....
-00000ea0: 0074 116a 1369 007c 02a5 0164 1c74 157c  .t.j.i.|...d.t.|
-00000eb0: 0e83 0169 01a5 017c 0c7c 0d67 0174 11a0  ...i...|.|.g.t..
-00000ec0: 147c 067c 0664 196b 0490 0272 d064 0b6e  .|.|.d.k...r.d.n
-00000ed0: 0264 09a1 0267 0164 1a8d 047d 0f59 006e  .d...g.d...}.Y.n
-00000ee0: 0230 007c 0f7c 005f 1664 0253 0029 1d61  .0.|.|._.d.S.).a
-00000ef0: b601 0000 0a20 2020 2020 2020 2066 726f  .....        fro
-00000f00: 6d20 7275 6e6e 696e 677a 2e6d 6f64 656c  m runningz.model
-00000f10: 2069 6d70 6f72 7420 4c47 424d 6f64 656c   import LGBModel
-00000f20: 0a20 2020 2020 2020 206d 6f64 656c 203d  .        model =
-00000f30: 204c 4742 4d6f 6465 6c28 290a 2020 2020   LGBModel().    
-00000f40: 2020 2020 7061 7261 6d73 203d 2072 7a2e      params = rz.
-00000f50: 6f70 742e 6f70 745f 7261 6e64 6f6d 2e67  opt.opt_random.g
-00000f60: 6574 5f70 6172 616d 735f 6c67 6228 290a  et_params_lgb().
-00000f70: 2020 2020 2020 2020 2320 7061 7261 6d73          # params
-00000f80: 203d 204c 4742 4d6f 6465 6c2e 6765 745f   = LGBModel.get_
-00000f90: 7061 7261 6d73 2827 7061 7261 6d73 5f31  params('params_1
-00000fa0: 2729 0a20 2020 2020 2020 2070 6172 616d  ').        param
-00000fb0: 735b 2776 6572 626f 7365 275d 203d 2030  s['verbose'] = 0
-00000fc0: 0a0a 2020 2020 2020 2020 5879 5f64 6963  ..        Xy_dic
-00000fd0: 7420 3d20 7b27 585f 7472 6169 6e27 3a20  t = {'X_train': 
-00000fe0: 585f 7472 6169 6e2c 2027 795f 7472 6169  X_train, 'y_trai
-00000ff0: 6e27 3a20 795f 7472 6169 6e7d 0a20 2020  n': y_train}.   
-00001000: 2020 2020 2023 2064 656c 2058 5f74 7261       # del X_tra
-00001010: 696e 2c20 795f 7472 6169 6e3b 2067 632e  in, y_train; gc.
-00001020: 636f 6c6c 6563 7428 290a 2020 2020 2020  collect().      
-00001030: 2020 6d6f 6465 6c2e 7472 6169 6e28 7b27    model.train({'
-00001040: 585f 7472 6169 6e27 3a20 585f 7472 6169  X_train': X_trai
-00001050: 6e2c 2027 795f 7472 6169 6e27 3a20 795f  n, 'y_train': y_
-00001060: 7472 6169 6e7d 2c20 7061 7261 6d73 203d  train}, params =
-00001070: 2070 6172 616d 732c 206b 7761 7267 733d   params, kwargs=
-00001080: 7b27 6672 6565 5879 273a 2046 616c 7365  {'freeXy': False
-00001090: 2c20 2776 6572 626f 7365 273a 2035 307d  , 'verbose': 50}
-000010a0: 290a 2020 2020 2020 2020 723c 0000 004e  ).        r<...N
-000010b0: da07 6e5f 626f 6f73 7472 3800 0000 7242  ..n_boostr8...rB
-000010c0: 0000 00da 0776 6572 626f 7365 723b 0000  .....verboser;..
-000010d0: 00da 0973 686f 775f 696e 666f 467a 0d5b  ...show_infoFz.[
-000010e0: 2b5d 206b 7761 7267 7320 3d20 5429 01da  +] kwargs = T)..
-000010f0: 0566 6c75 7368 7a0d 5b2b 5d20 7061 7261  .flushz.[+] para
-00001100: 6d73 203d 20da 0758 5f74 7261 696e da07  ms = ..X_train..
-00001110: 795f 7472 6169 6eda 0758 5f76 616c 6964  y_train..X_valid
-00001120: da07 795f 7661 6c69 6469 f6ff ffff 5a07  ..y_validi....Z.
-00001130: 6672 6565 5f58 797a 145b 2b5d 2058 5f74  free_Xyz.[+] X_t
-00001140: 7261 696e 2e73 6861 7065 203d 207a 145b  rain.shape = z.[
-00001150: 2b5d 2058 5f76 616c 6964 2e73 6861 7065  +] X_valid.shape
-00001160: 203d 207a 115b 2b5d 2064 7472 6169 6e20   = z.[+] dtrain 
-00001170: 6265 666f 7265 7a10 5b2b 5d20 6474 7261  beforez.[+] dtra
-00001180: 696e 2061 6674 6572 7229 0000 0072 0100  in afterr)...r..
-00001190: 0000 2902 da0a 7661 6c69 645f 7365 7473  ..)...valid_sets
-000011a0: da09 6361 6c6c 6261 636b 7329 0372 4d00  ..callbacks).rM.
-000011b0: 0000 724e 0000 0072 2900 0000 722f 0000  ..rN...r)...r/..
-000011c0: 0029 17da 0367 6574 722a 0000 0072 3e00  .)...getr*...r>.
-000011d0: 0000 7242 0000 0072 3d00 0000 da06 6b77  ..rB...r=.....kw
-000011e0: 6172 6773 da05 7072 696e 74da 0373 7973  args..print..sys
-000011f0: da06 7374 646f 7574 7248 0000 00da 046b  ..stdoutrH.....k
-00001200: 6579 73da 0463 6f70 79da 0267 635a 0763  eys..copy..gcZ.c
-00001210: 6f6c 6c65 6374 da05 7368 6170 6572 0400  ollect..shaper..
-00001220: 0000 7205 0000 00da 036c 6762 5a07 4461  ..r......lgbZ.Da
-00001230: 7461 7365 74da 0574 7261 696e 5a0e 6c6f  taset..trainZ.lo
-00001240: 675f 6576 616c 7561 7469 6f6e da04 6576  g_evaluation..ev
-00001250: 616c da05 6d6f 6465 6c29 1072 4100 0000  al..model).rA...
-00001260: 5a07 5879 5f64 6963 7472 3d00 0000 7250  Z.Xy_dictr=...rP
-00001270: 0000 0072 3c00 0000 7245 0000 0072 4600  ...r<...rE...rF.
-00001280: 0000 7247 0000 0072 4900 0000 724a 0000  ..rG...rI...rJ..
-00001290: 0072 4b00 0000 724c 0000 005a 0664 7472  .rK...rL...Z.dtr
-000012a0: 6169 6e5a 0664 7661 6c69 645a 0866 6f62  ainZ.dvalidZ.fob
-000012b0: 6a5f 7374 7272 5b00 0000 720d 0000 0072  j_strr[...r....r
-000012c0: 0d00 0000 720e 0000 0072 5900 0000 8d00  ....r....rY.....
-000012d0: 0000 736c 0000 0000 0e0c 0114 0112 0110  ..sl............
-000012e0: 0108 0108 020a 010e 030c 010c 0104 011c  ................
-000012f0: 011c 0312 011c 0114 022a 010e 0114 011c  .........*......
-00001300: 0114 010a 0306 011e 011e 0114 010c 010c  ................
-00001310: 011a 0110 030c 010a 0104 0102 0102 0104  ................
-00001320: 011a fc08 0702 0104 0102 0102 0204 011a  ................
-00001330: 0106 fa0a 0806 0104 0112 0102 0104 011a  ................
-00001340: fc0c 067a 0e4c 4742 4d6f 6465 6c2e 7472  ...z.LGBModel.tr
-00001350: 6169 6e63 0400 0000 0000 0000 0000 0000  ainc............
-00001360: 0400 0000 0400 0000 4300 0000 7318 0000  ........C...s...
-00001370: 007c 006a 006a 017c 0174 02a0 03a1 0064  .|.j.j.|.t.....d
-00001380: 0118 0064 028d 0253 0029 034e 7207 0000  ...d...S.).Nr...
-00001390: 0029 0172 3100 0000 2904 725b 0000 00da  .).r1...).r[....
-000013a0: 0770 7265 6469 6374 da06 7073 7574 696c  .predict..psutil
-000013b0: da09 6370 755f 636f 756e 7429 0472 4100  ..cpu_count).rA.
-000013c0: 0000 da01 5872 3d00 0000 7250 0000 0072  ....Xr=...rP...r
-000013d0: 0d00 0000 720d 0000 0072 0e00 0000 725c  ....r....r....r\
-000013e0: 0000 00de 0000 0073 0200 0000 0001 7a10  .......s......z.
-000013f0: 4c47 424d 6f64 656c 2e70 7265 6469 6374  LGBModel.predict
-00001400: 6301 0000 0000 0000 0000 0000 0001 0000  c...............
-00001410: 0003 0000 0043 0000 0073 0e00 0000 7400  .....C...s....t.
-00001420: 7c00 6a01 a002 a100 8301 5300 7218 0000  |.j.......S.r...
-00001430: 0029 03da 036c 656e 725b 0000 005a 0c66  .)...lenr[...Z.f
-00001440: 6561 7475 7265 5f6e 616d 6529 0172 4100  eature_name).rA.
-00001450: 0000 720d 0000 0072 0d00 0000 720e 0000  ..r....r....r...
-00001460: 00da 0e67 6574 5f6e 5f66 6561 7475 7265  ...get_n_feature
-00001470: 73e1 0000 0073 0200 0000 0001 7a17 4c47  s....s......z.LG
-00001480: 424d 6f64 656c 2e67 6574 5f6e 5f66 6561  BModel.get_n_fea
-00001490: 7475 7265 7346 e914 0000 0063 0400 0000  turesF.....c....
-000014a0: 0000 0000 0000 0000 0500 0000 0600 0000  ................
-000014b0: 0300 0000 7320 0000 007c 006a 006a 0164  ....s ...|.j.j.d
-000014c0: 0164 028d 017d 0474 0283 00a0 037c 047c  .d...}.t.....|.|
-000014d0: 017c 027c 03a1 0453 0029 034e 5a04 6761  .|.|...S.).NZ.ga
-000014e0: 696e 2901 5a0f 696d 706f 7274 616e 6365  in).Z.importance
-000014f0: 5f74 7970 6529 0472 5b00 0000 5a12 6665  _type).r[...Z.fe
-00001500: 6174 7572 655f 696d 706f 7274 616e 6365  ature_importance
-00001510: 723f 0000 005a 0b5f 6765 745f 6466 5f69  r?...Z._get_df_i
-00001520: 6d70 2905 7241 0000 005a 0863 6f6c 735f  mp).rA...Z.cols_
-00001530: 6665 615a 0470 6c6f 74da 016b da03 696d  feaZ.plot..k..im
-00001540: 7072 4300 0000 720d 0000 0072 0e00 0000  prC...r....r....
-00001550: da0a 6765 745f 6466 5f69 6d70 e400 0000  ..get_df_imp....
-00001560: 7304 0000 0000 010e 017a 134c 4742 4d6f  s........z.LGBMo
-00001570: 6465 6c2e 6765 745f 6466 5f69 6d70 6302  del.get_df_impc.
-00001580: 0000 0000 0000 0000 0000 0002 0000 0004  ................
-00001590: 0000 0003 0000 0073 3a00 0000 7400 a001  .......s:...t...
-000015a0: 6401 a101 0100 7400 6a02 7c01 6402 6403  d.....t.j.|.d.d.
-000015b0: 8d02 0100 7c00 6a03 a004 7c01 9b00 6404  ....|.j...|...d.
-000015c0: 9d02 a101 0100 7405 8300 a006 7c01 a101  ......t.....|...
-000015d0: 0100 6400 5300 2905 4e7a 0d72 6d20 2d72  ..d.S.).Nz.rm -r
-000015e0: 6620 7b70 6174 687d 5429 01da 0865 7869  f {path}T)...exi
-000015f0: 7374 5f6f 6bfa 0a2f 6d6f 6465 6c2e 6269  st_ok../model.bi
-00001600: 6e29 07da 026f 73da 0673 7973 7465 6dda  n)...os..system.
-00001610: 086d 616b 6564 6972 7372 5b00 0000 5a0a  .makedirsr[...Z.
-00001620: 7361 7665 5f6d 6f64 656c 723f 0000 005a  save_modelr?...Z
-00001630: 0b5f 6475 6d70 5f6f 7468 6572 a902 7241  ._dump_other..rA
-00001640: 0000 00da 0470 6174 6872 4300 0000 720d  .....pathrC...r.
-00001650: 0000 0072 0e00 0000 da04 6475 6d70 e800  ...r......dump..
-00001660: 0000 7308 0000 0000 010a 010e 0112 017a  ..s............z
-00001670: 0d4c 4742 4d6f 6465 6c2e 6475 6d70 6302  .LGBModel.dumpc.
-00001680: 0000 0000 0000 0000 0000 0002 0000 0003  ................
-00001690: 0000 0003 0000 0073 2400 0000 7400 6a01  .......s$...t.j.
-000016a0: 7c01 9b00 6401 9d02 6402 8d01 7c00 5f02  |...d...d...|._.
-000016b0: 7403 8300 a004 7c01 a101 0100 7c00 5300  t.....|.....|.S.
-000016c0: 2903 4e72 6700 0000 2901 5a0a 6d6f 6465  ).Nrg...).Z.mode
-000016d0: 6c5f 6669 6c65 2905 7258 0000 005a 0742  l_file).rX...Z.B
-000016e0: 6f6f 7374 6572 725b 0000 0072 3f00 0000  oosterr[...r?...
-000016f0: 5a0b 5f6c 6f61 645f 6f74 6865 7272 6b00  Z._load_otherrk.
-00001700: 0000 7243 0000 0072 0d00 0000 720e 0000  ..rC...r....r...
-00001710: 00da 046c 6f61 64ee 0000 0073 0600 0000  ...load....s....
-00001720: 0001 1401 0c01 7a0d 4c47 424d 6f64 656c  ......z.LGBModel
-00001730: 2e6c 6f61 6429 014e 2902 4e4e 2902 4e4e  .load).N).NN).NN
-00001740: 2903 4e46 7262 0000 0029 0cda 085f 5f6e  ).NFrb...)...__n
-00001750: 616d 655f 5fda 0a5f 5f6d 6f64 756c 655f  ame__..__module_
-00001760: 5fda 0c5f 5f71 7561 6c6e 616d 655f 5f72  _..__qualname__r
-00001770: 3e00 0000 7240 0000 0072 5900 0000 725c  >...r@...rY...r\
-00001780: 0000 0072 6100 0000 7265 0000 0072 6d00  ...ra...re...rm.
-00001790: 0000 726e 0000 00da 0d5f 5f63 6c61 7373  ..rn.....__class
-000017a0: 6365 6c6c 5f5f 720d 0000 0072 0d00 0000  cell__r....r....
-000017b0: 7243 0000 0072 0e00 0000 722a 0000 0047  rC...r....r*...G
-000017c0: 0000 0073 1000 0000 0801 0842 0e03 0a51  ...s.......B...Q
-000017d0: 0a03 0803 0e04 0c06 722a 0000 0029 1b72  ........r*...).r
-000017e0: 5200 0000 726c 0000 00da 0661 7070 656e  R...rl.....appen
-000017f0: 6472 6800 0000 7256 0000 0072 5d00 0000  drh...rV...r]...
-00001800: da05 6e75 6d70 7972 0900 0000 da06 7061  ..numpyr......pa
-00001810: 6e64 6173 da02 7064 5a08 6c69 6768 7467  ndas..pdZ.lightg
-00001820: 626d 7258 0000 005a 0a6d 6f64 656c 2e62  bmrX...Z.model.b
-00001830: 6173 6572 0300 0000 5a09 7574 696c 2e75  aser....Z.util.u
-00001840: 7469 6c72 0400 0000 7205 0000 0072 0f00  tilr....r....r..
-00001850: 0000 7210 0000 0072 1700 0000 721b 0000  ..r....r....r...
-00001860: 0072 1c00 0000 721d 0000 0072 2600 0000  .r....r....r&...
-00001870: 7227 0000 0072 2900 0000 722a 0000 0072  r'...r)...r*...r
-00001880: 0d00 0000 720d 0000 0072 0d00 0000 720e  ....r....r....r.
-00001890: 0000 00da 083c 6d6f 6475 6c65 3e01 0000  .....<module>...
-000018a0: 0073 3000 0000 0801 0c01 0c01 0801 0801  .s0.............
-000018b0: 0801 0801 0801 0801 0c01 1004 0801 0802  ................
-000018c0: 0803 0804 0808 0803 0803 0808 0809 0806  ................
-000018d0: 0809 107f 002d                           .....-
+00000740: 0000 7372 0000 0065 005a 0164 005a 0264  ..sr...e.Z.d.Z.d
+00000750: 1864 0364 0484 015a 0364 0564 0684 005a  .d.d...Z.d.d...Z
+00000760: 0464 1987 0066 0164 0864 0984 095a 0564  .d...f.d.d...Z.d
+00000770: 1a64 0a64 0b84 015a 0664 1b64 0c64 0d84  .d.d...Z.d.d.d..
+00000780: 015a 0764 0e64 0f84 005a 0864 1c87 0066  .Z.d.d...Z.d...f
+00000790: 0164 1264 1384 095a 0987 0066 0164 1464  .d.d...Z...f.d.d
+000007a0: 1584 085a 0a87 0066 0164 1664 1784 085a  ...Z...f.d.d...Z
+000007b0: 0b87 0004 005a 0c53 0029 1dda 084c 4742  .....Z.S.)...LGB
+000007c0: 4d6f 6465 6ce9 3f42 0f00 e920 0000 0063  Model.?B... ...c
+000007d0: 0500 0000 0000 0000 0000 0000 0800 0000  ................
+000007e0: 0500 0000 0300 0000 737c 0000 0074 0088  ........s|...t..
+000007f0: 0283 0174 016a 026a 0375 0072 1488 026e  ...t.j.j.u.r...n
+00000800: 0488 026a 0489 0274 0588 0388 02a0 06a1  ...j...t........
+00000810: 0083 0289 0387 0187 0366 0264 0164 0284  .........f.d.d..
+00000820: 0874 0764 0388 0388 0183 0344 0083 017d  .t.d.......D...}
+00000830: 0587 0087 0187 0287 0387 0466 0564 0464  ...........f.d.d
+00000840: 0284 0874 0764 0388 0388 0183 0344 0083  ...t.d.......D..
+00000850: 017d 0674 086a 097c 0664 0364 058d 027d  .}.t.j.|.d.d...}
+00000860: 077c 057c 0766 0253 0029 0661 5802 0000  .|.|.f.S.).aX...
+00000870: 0a20 2020 2020 2020 2062 6f6f 7374 5f6c  .        boost_l
+00000880: 6973 742c 2079 5f70 7265 645f 626f 6f73  ist, y_pred_boos
+00000890: 7420 3d20 6d6f 6465 6c5f 7072 6564 6963  t = model_predic
+000008a0: 7428 6d6f 6465 6c2c 2058 2c20 6b20 3d20  t(model, X, k = 
+000008b0: 3530 2c20 6e5f 6a6f 6273 203d 2034 290a  50, n_jobs = 4).
+000008c0: 0a20 2020 2020 2020 2064 6566 206d 6f64  .        def mod
+000008d0: 656c 5f70 7265 6469 6374 286d 6f64 656c  el_predict(model
+000008e0: 2c20 585f 7465 7374 2c20 6e20 3d20 3939  , X_test, n = 99
+000008f0: 3939 3939 2c20 6b20 3d20 3939 3939 3939  9999, k = 999999
+00000900: 2c20 6e5f 6a6f 6273 203d 2033 3229 3a0a  , n_jobs = 32):.
+00000910: 2020 2020 2020 2020 2020 2020 6d6f 6465              mode
+00000920: 6c20 3d20 6d6f 6465 6c20 6966 2074 7970  l = model if typ
+00000930: 6528 6d6f 6465 6c29 2069 7320 6c67 622e  e(model) is lgb.
+00000940: 6261 7369 632e 426f 6f73 7465 7220 656c  basic.Booster el
+00000950: 7365 206d 6f64 656c 2e6d 6f64 656c 0a20  se model.model. 
+00000960: 2020 2020 2020 2020 2020 206e 203d 206d             n = m
+00000970: 696e 286e 2c20 6d6f 6465 6c2e 6e75 6d5f  in(n, model.num_
+00000980: 7472 6565 7328 2929 0a20 2020 2020 2020  trees()).       
+00000990: 2020 2020 2062 6f6f 7374 5f6c 6973 7420       boost_list 
+000009a0: 3d20 5b6d 696e 286e 2c20 7820 2b20 6b29  = [min(n, x + k)
+000009b0: 2066 6f72 2078 2069 6e20 7261 6e67 6528   for x in range(
+000009c0: 302c 206e 2c20 6b29 5d0a 2020 2020 2020  0, n, k)].      
+000009d0: 2020 2020 2020 7973 203d 205b 6d6f 6465        ys = [mode
+000009e0: 6c2e 7072 6564 6963 7428 585f 7465 7374  l.predict(X_test
+000009f0: 2c20 7374 6172 745f 6974 6572 6174 696f  , start_iteratio
+00000a00: 6e20 3d20 692c 206e 756d 5f69 7465 7261  n = i, num_itera
+00000a10: 7469 6f6e 203d 206d 696e 286b 2c20 6e20  tion = min(k, n 
+00000a20: 2d20 6929 2c20 0a20 2020 2020 2020 2020  - i), .         
+00000a30: 2020 2020 2020 206e 5f6a 6f62 7320 3d20         n_jobs = 
+00000a40: 6e5f 6a6f 6273 2920 666f 7220 6920 696e  n_jobs) for i in
+00000a50: 2072 616e 6765 2830 2c20 6e2c 206b 295d   range(0, n, k)]
+00000a60: 0a20 2020 2020 2020 2020 2020 2079 5f70  .            y_p
+00000a70: 7265 645f 626f 6f73 7420 3d20 6e70 2e63  red_boost = np.c
+00000a80: 756d 7375 6d28 7973 2c20 6178 6973 203d  umsum(ys, axis =
+00000a90: 2030 290a 2020 2020 2020 2020 2020 2020   0).            
+00000aa0: 7265 7475 726e 2062 6f6f 7374 5f6c 6973  return boost_lis
+00000ab0: 742c 2079 5f70 7265 645f 626f 6f73 740a  t, y_pred_boost.
+00000ac0: 2020 2020 2020 2020 6301 0000 0000 0000          c.......
+00000ad0: 0000 0000 0002 0000 0006 0000 0013 0000  ................
+00000ae0: 0073 1a00 0000 6700 7c00 5d12 7d01 7400  .s....g.|.].}.t.
+00000af0: 8801 7c01 8800 1700 8302 9102 7104 5300  ..|.........q.S.
+00000b00: 720d 0000 0029 01da 036d 696e 2902 da02  r....)...min)...
+00000b10: 2e30 720c 0000 0029 02da 016b da01 6e72  .0r....)...k..nr
+00000b20: 0d00 0000 720e 0000 00da 0a3c 6c69 7374  ....r......<list
+00000b30: 636f 6d70 3e55 0000 00f3 0000 0000 7a2a  comp>U........z*
+00000b40: 4c47 424d 6f64 656c 2e6d 6f64 656c 5f70  LGBModel.model_p
+00000b50: 7265 6469 6374 2e3c 6c6f 6361 6c73 3e2e  redict.<locals>.
+00000b60: 3c6c 6973 7463 6f6d 703e 7201 0000 0063  <listcomp>r....c
+00000b70: 0100 0000 0000 0000 0000 0000 0200 0000  ................
+00000b80: 0900 0000 1300 0000 7328 0000 0067 007c  ........s(...g.|
+00000b90: 005d 207d 0188 026a 0088 007c 0174 0188  .] }...j...|.t..
+00000ba0: 0188 037c 0118 0083 0288 0464 008d 0491  ...|.......d....
+00000bb0: 0271 0453 0029 0129 035a 0f73 7461 7274  .q.S.).).Z.start
+00000bc0: 5f69 7465 7261 7469 6f6e 5a0d 6e75 6d5f  _iterationZ.num_
+00000bd0: 6974 6572 6174 696f 6eda 066e 5f6a 6f62  iteration..n_job
+00000be0: 7329 02da 0770 7265 6469 6374 722d 0000  s)...predictr-..
+00000bf0: 0029 0272 2e00 0000 da01 69a9 05da 0658  .).r......i....X
+00000c00: 5f74 6573 7472 2f00 0000 da05 6d6f 6465  _testr/.....mode
+00000c10: 6c72 3000 0000 7233 0000 0072 0d00 0000  lr0...r3...r....
+00000c20: 720e 0000 0072 3100 0000 5600 0000 7308  r....r1...V...s.
+00000c30: 0000 0006 0102 ff14 0102 ff29 015a 0461  ...........).Z.a
+00000c40: 7869 7329 0ada 0474 7970 65da 036c 6762  xis)...type..lgb
+00000c50: 5a05 6261 7369 63da 0742 6f6f 7374 6572  Z.basic..Booster
+00000c60: 7238 0000 0072 2d00 0000 5a09 6e75 6d5f  r8...r-...Z.num_
+00000c70: 7472 6565 73da 0572 616e 6765 7209 0000  trees..ranger...
+00000c80: 005a 0663 756d 7375 6d29 0872 3800 0000  .Z.cumsum).r8...
+00000c90: 7237 0000 0072 3000 0000 722f 0000 0072  r7...r0...r/...r
+00000ca0: 3300 0000 5a0a 626f 6f73 745f 6c69 7374  3...Z.boost_list
+00000cb0: 5a02 7973 5a0c 795f 7072 6564 5f62 6f6f  Z.ysZ.y_pred_boo
+00000cc0: 7374 720d 0000 0072 3600 0000 720e 0000  str....r6...r...
+00000cd0: 00da 0d6d 6f64 656c 5f70 7265 6469 6374  ...model_predict
+00000ce0: 4600 0000 7310 0000 0000 0d1a 010e 011c  F...s...........
+00000cf0: 0112 010a ff06 020e 017a 164c 4742 4d6f  .........z.LGBMo
+00000d00: 6465 6c2e 6d6f 6465 6c5f 7072 6564 6963  del.model_predic
+00000d10: 7463 0100 0000 0000 0000 0000 0000 0200  tc..............
+00000d20: 0000 0f00 0000 4300 0000 73bc 0000 007c  ......C...s....|
+00000d30: 0064 0176 0072 2c64 0264 0364 0464 0564  .d.v.r,d.d.d.d.d
+00000d40: 0664 0764 0864 0664 0964 0964 0a9c 0a7d  .d.d.d.d.d.d...}
+00000d50: 0164 0b7c 0164 0c3c 006e 8c7c 0064 0d76  .d.|.d.<.n.|.d.v
+00000d60: 0072 5a64 0264 0364 0464 0564 0664 0764  .rZd.d.d.d.d.d.d
+00000d70: 0864 0664 0964 0964 0e64 0f9c 0b7d 0164  .d.d.d.d.d...}.d
+00000d80: 0b7c 0164 0c3c 006e 5e7c 0064 1076 0072  .|.d.<.n^|.d.v.r
+00000d90: 8e64 0264 0364 0464 0564 0664 0764 1164  .d.d.d.d.d.d.d.d
+00000da0: 0664 1264 1364 1464 1564 1664 1764 189c  .d.d.d.d.d.d.d..
+00000db0: 0e7d 0164 0b7c 0164 0c3c 006e 2a7c 0064  .}.d.|.d.<.n*|.d
+00000dc0: 1976 0072 b864 0264 1a64 1b64 0564 0664  .v.r.d.d.d.d.d.d
+00000dd0: 0764 0864 0664 0964 0964 0a9c 0a7d 0164  .d.d.d.d.d...}.d
+00000de0: 1c7c 0164 0c3c 007c 0153 0029 1d4e 2901  .|.d.<.|.S.).N).
+00000df0: 5a08 7061 7261 6d73 5f31 6909 0300 005a  Z.params_1i....Z
+00000e00: 0a72 6567 7265 7373 696f 6e5a 0472 6d73  .regressionZ.rms
+00000e10: 65e9 3f00 0000 e9ff ffff ff67 7b14 ae47  e.?........g{..G
+00000e20: e17a 843f e9ff 0000 0072 2800 0000 290a  .z.?.....r(...).
+00000e30: da04 7365 6564 da09 6f62 6a65 6374 6976  ..seed..objectiv
+00000e40: 65da 066d 6574 7269 6372 3300 0000 da09  e..metricr3.....
+00000e50: 7665 7262 6f73 6974 79da 0d6c 6561 726e  verbosity..learn
+00000e60: 696e 675f 7261 7465 da0a 6e75 6d5f 6c65  ing_rate..num_le
+00000e70: 6176 6573 da09 6d61 785f 6465 7074 68da  aves..max_depth.
+00000e80: 1066 6561 7475 7265 5f66 7261 6374 696f  .feature_fractio
+00000e90: 6eda 1062 6167 6769 6e67 5f66 7261 6374  n..bagging_fract
+00000ea0: 696f 6e69 f401 0000 da0c 6e5f 6573 7469  ioni......n_esti
+00000eb0: 6d61 746f 7273 2901 5a0c 7061 7261 6d73  mators).Z.params
+00000ec0: 5f65 7874 7261 5429 0b72 4100 0000 7242  _extraT).rA...rB
+00000ed0: 0000 0072 4300 0000 7233 0000 0072 4400  ...rC...r3...rD.
+00000ee0: 0000 7245 0000 0072 4600 0000 7247 0000  ..rE...rF...rG..
+00000ef0: 0072 4800 0000 7249 0000 005a 0b65 7874  .rH...rI...Z.ext
+00000f00: 7261 5f74 7265 6573 2901 5a08 7061 7261  ra_trees).Z.para
+00000f10: 6d73 5f32 6900 0800 0067 cdcc cccc cccc  ms_2i....g......
+00000f20: e43f 67cd cccc cccc ccec 3f67 fa7e 6abc  .?g.......?g.~j.
+00000f30: 7493 683f e98c 0000 0067 9a99 9999 9999  t.h?.....g......
+00000f40: e93f 6733 3333 3333 33d3 3f29 0e72 4100  .?g333333.?).rA.
+00000f50: 0000 7242 0000 0072 4300 0000 7233 0000  ..rB...rC...r3..
+00000f60: 0072 4400 0000 7245 0000 0072 4600 0000  .rD...rE...rF...
+00000f70: 7247 0000 0072 4800 0000 7249 0000 005a  rG...rH...rI...Z
+00000f80: 106d 696e 5f63 6869 6c64 5f77 6569 6768  .min_child_weigh
+00000f90: 745a 106d 696e 5f64 6174 615f 696e 5f6c  tZ.min_data_in_l
+00000fa0: 6561 665a 0972 6567 5f61 6c70 6861 5a0a  eafZ.reg_alphaZ.
+00000fb0: 7265 675f 6c61 6d62 6461 2901 5a0a 7061  reg_lambda).Z.pa
+00000fc0: 7261 6d73 5f61 6476 da06 6269 6e61 7279  rams_adv..binary
+00000fd0: 5a03 6175 63e9 6400 0000 720d 0000 0029  Z.auc.d...r....)
+00000fe0: 02da 0970 6172 616d 735f 6964 da06 7061  ...params_id..pa
+00000ff0: 7261 6d73 720d 0000 0072 0d00 0000 720e  ramsr....r....r.
+00001000: 0000 00da 0a67 6574 5f70 6172 616d 735b  .....get_params[
+00001010: 0000 0073 7400 0000 0001 0802 0201 0201  ...st...........
+00001020: 0201 0201 0201 0201 0201 0201 0201 02f6  ................
+00001030: 060c 0a02 0802 0201 0201 0201 0201 0201  ................
+00001040: 0201 0201 0201 0201 0201 02f5 060d 0a02  ................
+00001050: 0802 0201 0201 0201 0201 0201 0201 0201  ................
+00001060: 0201 0201 0201 0201 0201 0201 02f2 0610  ................
+00001070: 0a01 0802 0201 0201 0201 0201 0201 0201  ................
+00001080: 0201 0201 0201 02f6 060c 0801 7a13 4c47  ............z.LG
+00001090: 424d 6f64 656c 2e67 6574 5f70 6172 616d  BModel.get_param
+000010a0: 734e 6302 0000 0000 0000 0000 0000 0002  sNc.............
+000010b0: 0000 0003 0000 0003 0000 0073 1000 0000  ...........s....
+000010c0: 7400 8300 a001 7c01 a101 0100 6400 5300  t.....|.....d.S.
+000010d0: 7218 0000 0029 02da 0573 7570 6572 da08  r....)...super..
+000010e0: 5f5f 696e 6974 5f5f 2902 da04 7365 6c66  __init__)...self
+000010f0: da0a 6d6f 6465 6c5f 6e61 6d65 a901 da09  ..model_name....
+00001100: 5f5f 636c 6173 735f 5f72 0d00 0000 720e  __class__r....r.
+00001110: 0000 0072 5200 0000 9d00 0000 7302 0000  ...rR.......s...
+00001120: 0000 017a 114c 4742 4d6f 6465 6c2e 5f5f  ...z.LGBModel.__
+00001130: 696e 6974 5f5f 6304 0000 0000 0000 0000  init__c.........
+00001140: 0000 0010 0000 000c 0000 0043 0000 0073  ...........C...s
+00001150: ec02 0000 7c03 a000 6401 6402 a102 7d04  ....|...d.d...}.
+00001160: 7c02 6402 7501 7320 7c04 6402 7501 7320  |.d.u.s |.d.u.s 
+00001170: 4a00 8201 7c04 6402 7501 7232 7401 a002  J...|.d.u.r2t...
+00001180: 7c04 a101 7d02 7c03 a000 6403 7c02 6404  |...}.|...d.|.d.
+00001190: 1900 a102 7d05 7c05 7c03 6403 3c00 7c05  ....}.|.|.d.<.|.
+000011a0: 7c02 6404 3c00 7c00 6a03 7c03 6405 3c00  |.d.<.|.j.|.d.<.
+000011b0: 7c02 7c03 0200 7c00 5f04 7c00 5f05 7c03  |.|...|._.|._.|.
+000011c0: a000 6406 6407 a102 7d06 7c03 a000 6408  ..d.d...}.|...d.
+000011d0: 6409 a102 7d07 7c07 72be 7406 640a 7c03  d...}.|.r.t.d.|.
+000011e0: 9b00 9d02 640b 640c 8d02 0100 7407 6a08  ....d.d.....t.j.
+000011f0: a009 a100 0100 7406 640d 7c02 9b00 9d02  ......t.d.|.....
+00001200: 640b 640c 8d02 0100 7407 6a08 a009 a100  d.d.....t.j.....
+00001210: 0100 7c01 640e 1900 7c01 640f 1900 0200  ..|.d...|.d.....
+00001220: 7d08 7d09 6410 7c01 a00a a100 7600 9001  }.}.d.|.....v...
+00001230: 7200 6410 7c01 a00a a100 7600 9001 7200  r.d.|.....v...r.
+00001240: 7c01 6410 1900 7c01 6411 1900 0200 7d0a  |.d...|.d.....}.
+00001250: 7d0b 6e2a 7c01 640e 1900 6412 6402 8502  }.n*|.d...d.d...
+00001260: 1900 a00b a100 7c01 640f 1900 6412 6402  ......|.d...d.d.
+00001270: 8502 1900 a00b a100 0200 7d0a 7d0b 7c03  ..........}.}.|.
+00001280: a000 6413 640b a102 9001 7286 7c01 640e  ..d.d.....r.|.d.
+00001290: 3d00 7c01 640f 3d00 740c a00d a100 0100  =.|.d.=.t.......
+000012a0: 6410 7c01 a00a a100 7600 9001 727c 6411  d.|.....v...r|d.
+000012b0: 7c01 a00a a100 7600 9001 727c 7c01 6410  |.....v...r||.d.
+000012c0: 3d00 7c01 6411 3d00 740c a00d a100 0100  =.|.d.=.t.......
+000012d0: 7e01 740c a00d a100 0100 7c07 9001 72dc  ~.t.......|...r.
+000012e0: 7406 6414 7c08 6a0e 9b00 9d02 640b 640c  t.d.|.j.....d.d.
+000012f0: 8d02 0100 7407 6a08 a009 a100 0100 7406  ....t.j.......t.
+00001300: 6415 7c0a 6a0e 9b00 9d02 640b 640c 8d02  d.|.j.....d.d...
+00001310: 0100 7407 6a08 a009 a100 0100 7406 6416  ..t.j.......t.d.
+00001320: 8301 0100 740f 8300 7410 8300 6602 0100  ....t...t...f...
+00001330: 7411 a012 7c08 7c09 a102 7d0c 7411 a012  t...|.|...}.t...
+00001340: 7c0a 7c0b a102 7d0d 7c07 9002 720e 7406  |.|...}.|...r.t.
+00001350: 6417 8301 0100 740f 8300 7410 8300 6602  d.....t...t...f.
+00001360: 0100 7e08 7e09 7e0a 7e0b 740c a00d a100  ..~.~.~.~.t.....
+00001370: 0100 7c03 a000 6418 6402 a102 7d0e 7c0e  ..|...d.d...}.|.
+00001380: 6402 7500 9002 7262 7411 6a13 7c02 7c0c  d.u...rbt.j.|.|.
+00001390: 7c0d 6701 7411 a014 7c06 7c06 6419 6b04  |.g.t...|.|.d.k.
+000013a0: 9002 7254 640b 6e02 6409 a102 6701 641a  ..rTd.n.d...g.d.
+000013b0: 8d04 7d0f 6e80 7a36 7411 6a13 7c02 7c0c  ..}.n.z6t.j.|.|.
+000013c0: 7c0d 6701 7411 a014 7c06 7c06 6419 6b04  |.g.t...|.|.d.k.
+000013d0: 9002 7284 640b 6e02 6409 a102 6701 7415  ..r.d.n.d...g.t.
+000013e0: 7c0e 8301 641b 8d05 7d0f 5700 6e48 0100  |...d...}.W.nH..
+000013f0: 0100 0100 7411 6a13 6900 7c02 a501 641c  ....t.j.i.|...d.
+00001400: 7415 7c0e 8301 6901 a501 7c0c 7c0d 6701  t.|...i...|.|.g.
+00001410: 7411 a014 7c06 7c06 6419 6b04 9002 72d0  t...|.|.d.k...r.
+00001420: 640b 6e02 6409 a102 6701 641a 8d04 7d0f  d.n.d...g.d...}.
+00001430: 5900 6e02 3000 7c0f 7c00 5f16 6402 5300  Y.n.0.|.|._.d.S.
+00001440: 291d 61a0 0100 000a 2020 2020 2020 2020  ).a.....        
+00001450: 6672 6f6d 2072 756e 6e69 6e67 7a2e 6d6f  from runningz.mo
+00001460: 6465 6c20 696d 706f 7274 204c 4742 4d6f  del import LGBMo
+00001470: 6465 6c0a 2020 2020 2020 2020 6d6f 6465  del.        mode
+00001480: 6c20 3d20 4c47 424d 6f64 656c 2829 0a20  l = LGBModel(). 
+00001490: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+000014a0: 727a 2e6f 7074 2e6f 7074 5f72 616e 646f  rz.opt.opt_rando
+000014b0: 6d2e 6765 745f 7061 7261 6d73 5f6c 6762  m.get_params_lgb
+000014c0: 2829 0a20 2020 2020 2020 2023 2070 6172  ().        # par
+000014d0: 616d 7320 3d20 4c47 424d 6f64 656c 2e67  ams = LGBModel.g
+000014e0: 6574 5f70 6172 616d 7328 2770 6172 616d  et_params('param
+000014f0: 735f 3127 290a 2020 2020 2020 2020 0a20  s_1').        . 
+00001500: 2020 2020 2020 2058 795f 6469 6374 203d         Xy_dict =
+00001510: 207b 2758 5f74 7261 696e 273a 2058 5f74   {'X_train': X_t
+00001520: 7261 696e 2c20 2779 5f74 7261 696e 273a  rain, 'y_train':
+00001530: 2079 5f74 7261 696e 7d0a 2020 2020 2020   y_train}.      
+00001540: 2020 2320 6465 6c20 585f 7472 6169 6e2c    # del X_train,
+00001550: 2079 5f74 7261 696e 3b20 6763 2e63 6f6c   y_train; gc.col
+00001560: 6c65 6374 2829 0a20 2020 2020 2020 206d  lect().        m
+00001570: 6f64 656c 2e74 7261 696e 287b 2758 5f74  odel.train({'X_t
+00001580: 7261 696e 273a 2058 5f74 7261 696e 2c20  rain': X_train, 
+00001590: 2779 5f74 7261 696e 273a 2079 5f74 7261  'y_train': y_tra
+000015a0: 696e 7d2c 2070 6172 616d 7320 3d20 7061  in}, params = pa
+000015b0: 7261 6d73 2c20 6b77 6172 6773 3d7b 2766  rams, kwargs={'f
+000015c0: 7265 6558 7927 3a20 4661 6c73 652c 2027  reeXy': False, '
+000015d0: 7665 7262 6f73 6527 3a20 3530 7d29 0a20  verbose': 50}). 
+000015e0: 2020 2020 2020 2072 4e00 0000 4eda 076e         rN...N..n
+000015f0: 5f62 6f6f 7374 724a 0000 0072 5400 0000  _boostrJ...rT...
+00001600: da07 7665 7262 6f73 6572 4d00 0000 da09  ..verboserM.....
+00001610: 7368 6f77 5f69 6e66 6f46 7a0d 5b2b 5d20  show_infoFz.[+] 
+00001620: 6b77 6172 6773 203d 2054 2901 da05 666c  kwargs = T)...fl
+00001630: 7573 687a 0d5b 2b5d 2070 6172 616d 7320  ushz.[+] params 
+00001640: 3d20 da07 585f 7472 6169 6eda 0779 5f74  = ..X_train..y_t
+00001650: 7261 696e da07 585f 7661 6c69 64da 0779  rain..X_valid..y
+00001660: 5f76 616c 6964 69f6 ffff ff5a 0766 7265  _validi....Z.fre
+00001670: 655f 5879 7a14 5b2b 5d20 585f 7472 6169  e_Xyz.[+] X_trai
+00001680: 6e2e 7368 6170 6520 3d20 7a14 5b2b 5d20  n.shape = z.[+] 
+00001690: 585f 7661 6c69 642e 7368 6170 6520 3d20  X_valid.shape = 
+000016a0: 7a11 5b2b 5d20 6474 7261 696e 2062 6566  z.[+] dtrain bef
+000016b0: 6f72 657a 105b 2b5d 2064 7472 6169 6e20  orez.[+] dtrain 
+000016c0: 6166 7465 7272 2900 0000 7201 0000 0029  afterr)...r....)
+000016d0: 02da 0a76 616c 6964 5f73 6574 73da 0963  ...valid_sets..c
+000016e0: 616c 6c62 6163 6b73 2903 725f 0000 0072  allbacks).r_...r
+000016f0: 6000 0000 7229 0000 0072 4200 0000 2917  `...r)...rB...).
+00001700: da03 6765 7472 2a00 0000 7250 0000 0072  ..getr*...rP...r
+00001710: 5400 0000 724f 0000 00da 066b 7761 7267  T...rO.....kwarg
+00001720: 73da 0570 7269 6e74 da03 7379 73da 0673  s..print..sys..s
+00001730: 7464 6f75 7472 5a00 0000 da04 6b65 7973  tdoutrZ.....keys
+00001740: da04 636f 7079 da02 6763 5a07 636f 6c6c  ..copy..gcZ.coll
+00001750: 6563 74da 0573 6861 7065 7204 0000 0072  ect..shaper....r
+00001760: 0500 0000 723a 0000 005a 0744 6174 6173  ....r:...Z.Datas
+00001770: 6574 da05 7472 6169 6e5a 0e6c 6f67 5f65  et..trainZ.log_e
+00001780: 7661 6c75 6174 696f 6eda 0465 7661 6c72  valuation..evalr
+00001790: 3800 0000 2910 7253 0000 005a 0758 795f  8...).rS...Z.Xy_
+000017a0: 6469 6374 724f 0000 0072 6200 0000 724e  dictrO...rb...rN
+000017b0: 0000 0072 5700 0000 7258 0000 0072 5900  ...rW...rX...rY.
+000017c0: 0000 725b 0000 0072 5c00 0000 725d 0000  ..r[...r\...r]..
+000017d0: 0072 5e00 0000 5a06 6474 7261 696e 5a06  .r^...Z.dtrainZ.
+000017e0: 6476 616c 6964 5a08 666f 626a 5f73 7472  dvalidZ.fobj_str
+000017f0: 7238 0000 0072 0d00 0000 720d 0000 0072  r8...r....r....r
+00001800: 0e00 0000 726a 0000 00a0 0000 0073 6c00  ....rj.......sl.
+00001810: 0000 000d 0c01 1401 1201 1001 0801 0802  ................
+00001820: 0a01 0e03 0c01 0c01 0401 1c01 1c03 1201  ................
+00001830: 1c01 1402 2a01 0e01 1401 1c01 1401 0a03  ....*...........
+00001840: 0601 1e01 1e01 1401 0c01 0c01 1a01 1003  ................
+00001850: 0c01 0a01 0401 0201 0201 0401 1afc 0807  ................
+00001860: 0201 0401 0201 0202 0401 1a01 06fa 0a08  ................
+00001870: 0601 0401 1201 0201 0401 1afc 0c06 7a0e  ..............z.
+00001880: 4c47 424d 6f64 656c 2e74 7261 696e 6304  LGBModel.trainc.
+00001890: 0000 0000 0000 0000 0000 0004 0000 0004  ................
+000018a0: 0000 0043 0000 0073 1800 0000 7c00 6a00  ...C...s....|.j.
+000018b0: 6a01 7c01 7402 a003 a100 6401 1800 6402  j.|.t.....d...d.
+000018c0: 8d02 5300 2903 4e72 0700 0000 2901 7233  ..S.).Nr....).r3
+000018d0: 0000 0029 0472 3800 0000 7234 0000 00da  ...).r8...r4....
+000018e0: 0670 7375 7469 6cda 0963 7075 5f63 6f75  .psutil..cpu_cou
+000018f0: 6e74 2904 7253 0000 00da 0158 724f 0000  nt).rS.....XrO..
+00001900: 0072 6200 0000 720d 0000 0072 0d00 0000  .rb...r....r....
+00001910: 720e 0000 0072 3400 0000 f000 0000 7302  r....r4.......s.
+00001920: 0000 0000 017a 104c 4742 4d6f 6465 6c2e  .....z.LGBModel.
+00001930: 7072 6564 6963 7463 0100 0000 0000 0000  predictc........
+00001940: 0000 0000 0100 0000 0300 0000 4300 0000  ............C...
+00001950: 730e 0000 0074 007c 006a 01a0 02a1 0083  s....t.|.j......
+00001960: 0153 0072 1800 0000 2903 da03 6c65 6e72  .S.r....)...lenr
+00001970: 3800 0000 5a0c 6665 6174 7572 655f 6e61  8...Z.feature_na
+00001980: 6d65 2901 7253 0000 0072 0d00 0000 720d  me).rS...r....r.
+00001990: 0000 0072 0e00 0000 da0e 6765 745f 6e5f  ...r......get_n_
+000019a0: 6665 6174 7572 6573 f300 0000 7302 0000  features....s...
+000019b0: 0000 017a 174c 4742 4d6f 6465 6c2e 6765  ...z.LGBModel.ge
+000019c0: 745f 6e5f 6665 6174 7572 6573 46e9 1400  t_n_featuresF...
+000019d0: 0000 6304 0000 0000 0000 0000 0000 0005  ..c.............
+000019e0: 0000 0006 0000 0003 0000 0073 2000 0000  ...........s ...
+000019f0: 7c00 6a00 6a01 6401 6402 8d01 7d04 7402  |.j.j.d.d...}.t.
+00001a00: 8300 a003 7c04 7c01 7c02 7c03 a104 5300  ....|.|.|.|...S.
+00001a10: 2903 4e5a 0467 6169 6e29 015a 0f69 6d70  ).NZ.gain).Z.imp
+00001a20: 6f72 7461 6e63 655f 7479 7065 2904 7238  ortance_type).r8
+00001a30: 0000 005a 1266 6561 7475 7265 5f69 6d70  ...Z.feature_imp
+00001a40: 6f72 7461 6e63 6572 5100 0000 5a0b 5f67  ortancerQ...Z._g
+00001a50: 6574 5f64 665f 696d 7029 0572 5300 0000  et_df_imp).rS...
+00001a60: 5a08 636f 6c73 5f66 6561 5a04 706c 6f74  Z.cols_feaZ.plot
+00001a70: 722f 0000 00da 0369 6d70 7255 0000 0072  r/.....imprU...r
+00001a80: 0d00 0000 720e 0000 00da 0a67 6574 5f64  ....r......get_d
+00001a90: 665f 696d 70f6 0000 0073 0400 0000 0001  f_imp....s......
+00001aa0: 0e01 7a13 4c47 424d 6f64 656c 2e67 6574  ..z.LGBModel.get
+00001ab0: 5f64 665f 696d 7063 0200 0000 0000 0000  _df_impc........
+00001ac0: 0000 0000 0200 0000 0400 0000 0300 0000  ................
+00001ad0: 733a 0000 0074 00a0 0164 01a1 0101 0074  s:...t...d.....t
+00001ae0: 006a 027c 0164 0264 038d 0201 007c 006a  .j.|.d.d.....|.j
+00001af0: 03a0 047c 019b 0064 049d 02a1 0101 0074  ...|...d.......t
+00001b00: 0583 00a0 067c 01a1 0101 0064 0053 0029  .....|.....d.S.)
+00001b10: 054e 7a0d 726d 202d 7266 207b 7061 7468  .Nz.rm -rf {path
+00001b20: 7d54 2901 da08 6578 6973 745f 6f6b fa0a  }T)...exist_ok..
+00001b30: 2f6d 6f64 656c 2e62 696e 2907 da02 6f73  /model.bin)...os
+00001b40: da06 7379 7374 656d da08 6d61 6b65 6469  ..system..makedi
+00001b50: 7273 7238 0000 005a 0a73 6176 655f 6d6f  rsr8...Z.save_mo
+00001b60: 6465 6c72 5100 0000 5a0b 5f64 756d 705f  delrQ...Z._dump_
+00001b70: 6f74 6865 72a9 0272 5300 0000 da04 7061  other..rS.....pa
+00001b80: 7468 7255 0000 0072 0d00 0000 720e 0000  thrU...r....r...
+00001b90: 00da 0464 756d 70fa 0000 0073 0800 0000  ...dump....s....
+00001ba0: 0001 0a01 0e01 1201 7a0d 4c47 424d 6f64  ........z.LGBMod
+00001bb0: 656c 2e64 756d 7063 0200 0000 0000 0000  el.dumpc........
+00001bc0: 0000 0000 0200 0000 0300 0000 0300 0000  ................
+00001bd0: 7324 0000 0074 006a 017c 019b 0064 019d  s$...t.j.|...d..
+00001be0: 0264 028d 017c 005f 0274 0383 00a0 047c  .d...|._.t.....|
+00001bf0: 01a1 0101 007c 0053 0029 034e 7275 0000  .....|.S.).Nru..
+00001c00: 0029 015a 0a6d 6f64 656c 5f66 696c 6529  .).Z.model_file)
+00001c10: 0572 3a00 0000 723b 0000 0072 3800 0000  .r:...r;...r8...
+00001c20: 7251 0000 005a 0b5f 6c6f 6164 5f6f 7468  rQ...Z._load_oth
+00001c30: 6572 7279 0000 0072 5500 0000 720d 0000  erry...rU...r...
+00001c40: 0072 0e00 0000 da04 6c6f 6164 0001 0000  .r......load....
+00001c50: 7306 0000 0000 0114 010c 017a 0d4c 4742  s..........z.LGB
+00001c60: 4d6f 6465 6c2e 6c6f 6164 2903 722b 0000  Model.load).r+..
+00001c70: 0072 2b00 0000 722c 0000 0029 014e 2902  .r+...r,...).N).
+00001c80: 4e4e 2902 4e4e 2903 4e46 7271 0000 0029  NN).NN).NFrq...)
+00001c90: 0dda 085f 5f6e 616d 655f 5fda 0a5f 5f6d  ...__name__..__m
+00001ca0: 6f64 756c 655f 5fda 0c5f 5f71 7561 6c6e  odule__..__qualn
+00001cb0: 616d 655f 5f72 3d00 0000 7250 0000 0072  ame__r=...rP...r
+00001cc0: 5200 0000 726a 0000 0072 3400 0000 7270  R...rj...r4...rp
+00001cd0: 0000 0072 7300 0000 727b 0000 0072 7c00  ...rs...r{...r|.
+00001ce0: 0000 da0d 5f5f 636c 6173 7363 656c 6c5f  ....__classcell_
+00001cf0: 5f72 0d00 0000 720d 0000 0072 5500 0000  _r....r....rU...
+00001d00: 720e 0000 0072 2a00 0000 4500 0000 7312  r....r*...E...s.
+00001d10: 0000 0008 010a 1508 420e 030a 500a 0308  ........B...P...
+00001d20: 030e 040c 0672 2a00 0000 291b 7264 0000  .....r*...).rd..
+00001d30: 0072 7a00 0000 da06 6170 7065 6e64 7276  .rz.....appendrv
+00001d40: 0000 0072 6800 0000 726c 0000 00da 056e  ...rh...rl.....n
+00001d50: 756d 7079 7209 0000 00da 0670 616e 6461  umpyr......panda
+00001d60: 73da 0270 645a 086c 6967 6874 6762 6d72  s..pdZ.lightgbmr
+00001d70: 3a00 0000 5a0a 6d6f 6465 6c2e 6261 7365  :...Z.model.base
+00001d80: 7203 0000 005a 0975 7469 6c2e 7574 696c  r....Z.util.util
+00001d90: 7204 0000 0072 0500 0000 720f 0000 0072  r....r....r....r
+00001da0: 1000 0000 7217 0000 0072 1b00 0000 721c  ....r....r....r.
+00001db0: 0000 0072 1d00 0000 7226 0000 0072 2700  ...r....r&...r'.
+00001dc0: 0000 7229 0000 0072 2a00 0000 720d 0000  ..r)...r*...r...
+00001dd0: 0072 0d00 0000 720d 0000 0072 0e00 0000  .r....r....r....
+00001de0: da08 3c6d 6f64 756c 653e 0100 0000 7330  ..<module>....s0
+00001df0: 0000 0008 010c 010c 0108 0108 0108 0108  ................
+00001e00: 0108 0108 010c 0110 0308 0108 0208 0308  ................
+00001e10: 0408 0808 0308 0308 0808 0908 0608 0810  ................
+00001e20: 7f00 41                                  ..A
```

## runningz/util/code.pyc

 * *Format-specific differences are supported for Python .pyc files but no file-specific differences were detected; falling back to a binary diff. file(1) reports: Byte-compiled Python module for CPython 3.9, timestamp-based, .py timestamp: Tue May 23 01:55:00 2023 UTC, .py size: 22407 bytes*

 * *Could not decompile bytecode: bad marshal data (unknown type code)*

```diff
@@ -1,8 +1,8 @@
-00000000: 610d 0d0a 0000 0000 f41c 6c64 8757 0000  a.........ld.W..
+00000000: 610d 0d0a 0000 0000 c528 6e64 707c 0000  a........(ndp|..
 00000010: e300 0000 0000 0000 0000 0000 0000 0000  ................
 00000020: 0002 0000 0040 0000 0073 c400 0000 6400  .....@...s....d.
 00000030: 6401 8400 5a00 6402 6403 8400 5a01 6404  d...Z.d.d...Z.d.
 00000040: 6405 8400 5a02 6406 6407 8400 5a03 6408  d...Z.d.d...Z.d.
 00000050: 6409 8400 5a04 640a 640b 8400 5a05 640c  d...Z.d.d...Z.d.
 00000060: 640d 8400 5a06 640e 640f 8400 5a07 6410  d...Z.d.d...Z.d.
 00000070: 6411 8400 5a08 6412 6413 8400 5a09 6414  d...Z.d.d...Z.d.
@@ -113,1395 +113,1983 @@
 00000700: 0000 7201 0000 00fa 3862 7569 6c64 2f62  ..r.....8build/b
 00000710: 6469 7374 2e6d 6163 6f73 782d 3130 2e39  dist.macosx-10.9
 00000720: 2d78 3836 5f36 342f 6567 672f 7275 6e6e  -x86_64/egg/runn
 00000730: 696e 677a 2f75 7469 6c2f 636f 6465 2e70  ingz/util/code.p
 00000740: 79da 0c69 6d70 6f72 745f 6261 7369 6303  y..import_basic.
 00000750: 0000 0073 0200 0000 0001 7203 0000 0063  ...s......r....c
 00000760: 0000 0000 0000 0000 0000 0000 0000 0000  ................
-00000770: 0100 0000 4300 0000 7304 0000 0064 0053  ....C...s....d.S
-00000780: 00a9 014e 7201 0000 0072 0100 0000 7201  ...Nr....r....r.
-00000790: 0000 0072 0100 0000 7202 0000 00da 0a70  ...r....r......p
-000007a0: 6172 7365 5f61 7267 733d 0000 0073 0200  arse_args=...s..
-000007b0: 0000 0001 7205 0000 0063 0000 0000 0000  ....r....c......
-000007c0: 0000 0000 0000 0000 0000 0100 0000 4300  ..............C.
-000007d0: 0000 7304 0000 0064 0053 0072 0400 0000  ..s....d.S.r....
-000007e0: 7201 0000 0072 0100 0000 7201 0000 0072  r....r....r....r
-000007f0: 0100 0000 7202 0000 00da 0972 6561 645f  ....r......read_
-00000800: 6461 7461 4000 0000 7302 0000 0000 0172  data@...s......r
-00000810: 0600 0000 6300 0000 0000 0000 0000 0000  ....c...........
-00000820: 0000 0000 0001 0000 0043 0000 0073 0400  .........C...s..
-00000830: 0000 6400 5300 7204 0000 0072 0100 0000  ..d.S.r....r....
-00000840: 7201 0000 0072 0100 0000 7201 0000 0072  r....r....r....r
-00000850: 0200 0000 da0d 7072 6570 726f 6365 7373  ......preprocess
-00000860: 696e 6743 0000 0073 0200 0000 0001 7207  ingC...s......r.
-00000870: 0000 0063 0000 0000 0000 0000 0000 0000  ...c............
-00000880: 0000 0000 0100 0000 4300 0000 7304 0000  ........C...s...
-00000890: 0064 0053 0072 0400 0000 7201 0000 0072  .d.S.r....r....r
-000008a0: 0100 0000 7201 0000 0072 0100 0000 7202  ....r....r....r.
-000008b0: 0000 00da 0b74 7261 696e 5f6d 6f64 656c  .....train_model
-000008c0: 4600 0000 7302 0000 0000 0172 0800 0000  F...s......r....
-000008d0: 6300 0000 0000 0000 0000 0000 0000 0000  c...............
-000008e0: 0001 0000 0043 0000 0073 0400 0000 6400  .....C...s....d.
-000008f0: 5300 7204 0000 0072 0100 0000 7201 0000  S.r....r....r...
-00000900: 0072 0100 0000 7201 0000 0072 0200 0000  .r....r....r....
-00000910: da0e 706f 7374 7072 6f63 6573 7369 6e67  ..postprocessing
-00000920: 4900 0000 7302 0000 0000 0172 0900 0000  I...s......r....
-00000930: 6300 0000 0000 0000 0000 0000 0000 0000  c...............
-00000940: 0001 0000 0043 0000 0073 0400 0000 6400  .....C...s....d.
-00000950: 5300 7204 0000 0072 0100 0000 7201 0000  S.r....r....r...
-00000960: 0072 0100 0000 7201 0000 0072 0200 0000  .r....r....r....
-00000970: da07 6361 6c63 5f69 634c 0000 0073 0200  ..calc_icL...s..
-00000980: 0000 0001 720a 0000 0063 0000 0000 0000  ....r....c......
-00000990: 0000 0000 0000 0000 0000 0100 0000 4300  ..............C.
-000009a0: 0000 7304 0000 0064 0053 0072 0400 0000  ..s....d.S.r....
-000009b0: 7201 0000 0072 0100 0000 7201 0000 0072  r....r....r....r
-000009c0: 0100 0000 7202 0000 00da 0d6d 6169 6e5f  ....r......main_
-000009d0: 7069 7065 6c69 6e65 4f00 0000 7302 0000  pipelineO...s...
-000009e0: 0000 0172 0b00 0000 6300 0000 0000 0000  ...r....c.......
-000009f0: 0000 0000 0000 0000 0001 0000 0043 0000  .............C..
-00000a00: 0073 0400 0000 6401 5300 2902 4e7a 3e0a  .s....d.S.).Nz>.
-00000a10: 2020 2020 706c 742e 6d69 6e6f 7274 6963      plt.minortic
-00000a20: 6b73 5f6f 6e28 290a 2020 2020 706c 742e  ks_on().    plt.
-00000a30: 6772 6964 2854 7275 652c 2077 6869 6368  grid(True, which
-00000a40: 3d27 626f 7468 2729 0a20 2020 2072 0100  ='both').    r..
-00000a50: 0000 7201 0000 0072 0100 0000 7201 0000  ..r....r....r...
-00000a60: 0072 0200 0000 da04 706c 6f74 5400 0000  .r......plotT...
-00000a70: 7302 0000 0000 0172 0c00 0000 6300 0000  s......r....c...
-00000a80: 0000 0000 0000 0000 0000 0000 0001 0000  ................
-00000a90: 0043 0000 0073 0400 0000 6401 5300 2902  .C...s....d.S.).
-00000aa0: 4e61 1d01 0000 0a20 2020 2023 2021 7069  Na.....    # !pi
-00000ab0: 7020 696e 7374 616c 6c20 6d69 7373 696e  p install missin
-00000ac0: 676e 6f0a 2020 2020 696d 706f 7274 206d  gno.    import m
-00000ad0: 6973 7369 6e67 6e6f 2061 7320 6d73 6e6f  issingno as msno
-00000ae0: 0a20 2020 2023 206d 736e 6f2e 6d61 7472  .    # msno.matr
-00000af0: 6978 2874 7261 696e 2e73 616d 706c 6528  ix(train.sample(
-00000b00: 3130 3030 3029 290a 2020 2020 2320 6d73  10000)).    # ms
-00000b10: 6e6f 2e6d 6174 7269 7828 7465 7374 2e73  no.matrix(test.s
-00000b20: 616d 706c 6528 3130 3030 3029 290a 2020  ample(10000)).  
-00000b30: 2020 2320 6d73 6e6f 2e62 6172 2874 7261    # msno.bar(tra
-00000b40: 696e 2e73 616d 706c 6528 3130 3030 3029  in.sample(10000)
-00000b50: 290a 2020 2020 2320 6d73 6e6f 2e62 6172  ).    # msno.bar
-00000b60: 2874 6573 742e 7361 6d70 6c65 2831 3030  (test.sample(100
-00000b70: 3030 2929 0a20 2020 2023 206d 736e 6f2e  00)).    # msno.
-00000b80: 6865 6174 6d61 7028 7472 6169 6e2e 7361  heatmap(train.sa
-00000b90: 6d70 6c65 2831 3030 3030 2929 0a20 2020  mple(10000)).   
-00000ba0: 2023 206d 736e 6f2e 6465 6e64 726f 6772   # msno.dendrogr
-00000bb0: 616d 2863 6f6c 6c69 7369 6f6e 7329 0a20  am(collisions). 
-00000bc0: 2020 2072 0100 0000 7201 0000 0072 0100     r....r....r..
-00000bd0: 0000 7201 0000 0072 0200 0000 da08 706c  ..r....r......pl
-00000be0: 6f74 5f6e 616e 5a00 0000 7302 0000 0000  ot_nanZ...s.....
-00000bf0: 0172 0d00 0000 6300 0000 0000 0000 0000  .r....c.........
-00000c00: 0000 0000 0000 0001 0000 0043 0000 0073  ...........C...s
-00000c10: 0400 0000 6401 5300 2902 4e7a a30a 2020  ....d.S.).Nz..  
-00000c20: 2020 2320 2170 6970 2069 6e73 7461 6c6c    # !pip install
-00000c30: 2070 616e 6461 735f 7072 6f66 696c 696e   pandas_profilin
-00000c40: 670a 2020 2020 696d 706f 7274 2070 616e  g.    import pan
-00000c50: 6461 735f 7072 6f66 696c 696e 670a 2020  das_profiling.  
-00000c60: 2020 7066 7220 3d20 7061 6e64 6173 5f70    pfr = pandas_p
-00000c70: 726f 6669 6c69 6e67 2e50 726f 6669 6c65  rofiling.Profile
-00000c80: 5265 706f 7274 2874 7261 696e 290a 2020  Report(train).  
-00000c90: 2020 7072 6f66 2e74 6f5f 6669 6c65 286f    prof.to_file(o
-00000ca0: 7574 7075 745f 6669 6c65 3d27 6175 746f  utput_file='auto
-00000cb0: 5f45 4441 2e68 746d 6c27 290a 2020 2020  _EDA.html').    
-00000cc0: 7201 0000 0072 0100 0000 7201 0000 0072  r....r....r....r
-00000cd0: 0100 0000 7202 0000 00da 0870 6c6f 745f  ....r......plot_
-00000ce0: 6564 6166 0000 0073 0200 0000 0001 720e  edaf...s......r.
-00000cf0: 0000 0063 0000 0000 0000 0000 0000 0000  ...c............
-00000d00: 0000 0000 0100 0000 4300 0000 7304 0000  ........C...s...
-00000d10: 0064 0153 0029 024e 6182 0700 000a 2020  .d.S.).Na.....  
-00000d20: 2020 2320 6675 6c6c 2073 6372 6565 6e20    # full screen 
-00000d30: 7769 6474 6820 6f66 204a 7570 7974 6572  width of Jupyter
-00000d40: 206e 6f74 6562 6f6f 6b0a 2020 2020 6672   notebook.    fr
-00000d50: 6f6d 2049 5079 7468 6f6e 2e63 6f72 652e  om IPython.core.
-00000d60: 6469 7370 6c61 7920 696d 706f 7274 2064  display import d
-00000d70: 6973 706c 6179 2c20 4854 4d4c 0a20 2020  isplay, HTML.   
-00000d80: 2064 6973 706c 6179 2848 544d 4c28 223c   display(HTML("<
-00000d90: 7374 796c 653e 2e63 6f6e 7461 696e 6572  style>.container
-00000da0: 207b 2077 6964 7468 3a31 3030 2520 2169   { width:100% !i
-00000db0: 6d70 6f72 7461 6e74 3b20 7d3c 2f73 7479  mportant; }</sty
-00000dc0: 6c65 3e22 2929 200a 0a20 2020 2069 6d70  le>")) ..    imp
-00000dd0: 6f72 7420 6d61 7470 6c6f 746c 6962 2e70  ort matplotlib.p
-00000de0: 7970 6c6f 7420 6173 2070 6c74 0a20 2020  yplot as plt.   
-00000df0: 2069 6d70 6f72 7420 7365 6162 6f72 6e20   import seaborn 
-00000e00: 6173 2073 6e73 0a20 2020 2069 6d70 6f72  as sns.    impor
-00000e10: 7420 6e75 6d70 7920 6173 206e 700a 2020  t numpy as np.  
-00000e20: 2020 696d 706f 7274 2070 616e 6461 7320    import pandas 
-00000e30: 6173 2070 640a 2020 2020 6e70 2e73 6574  as pd.    np.set
-00000e40: 5f70 7269 6e74 6f70 7469 6f6e 7328 7375  _printoptions(su
-00000e50: 7070 7265 7373 3d54 7275 6529 0a0a 2020  ppress=True)..  
-00000e60: 2020 6465 6620 6765 745f 6578 7065 6374    def get_expect
-00000e70: 5f73 636f 7265 2878 2c20 6120 3d20 312c  _score(x, a = 1,
-00000e80: 2062 203d 2031 2c20 6320 3d20 3029 3a0a   b = 1, c = 0):.
-00000e90: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-00000ea0: 202f 2028 3120 2b20 3130 202a 2a20 282d   / (1 + 10 ** (-
-00000eb0: 3120 2a20 2078 202f 2062 2929 202b 630a  1 *  x / b)) +c.
-00000ec0: 0a20 2020 2023 2067 6170 2074 6f20 7769  .    # gap to wi
-00000ed0: 6e20 0a20 2020 2078 203d 206e 702e 6c69  n .    x = np.li
-00000ee0: 6e73 7061 6365 282d 3132 3030 2c20 3132  nspace(-1200, 12
-00000ef0: 3030 2c20 3130 3129 0a20 2020 2079 203d  00, 101).    y =
-00000f00: 2067 6574 5f65 7870 6563 745f 7363 6f72   get_expect_scor
-00000f10: 6528 782c 2062 203d 2034 3030 290a 2020  e(x, b = 400).  
-00000f20: 2020 706c 742e 6669 6775 7265 2866 6967    plt.figure(fig
-00000f30: 7369 7a65 3d28 3130 2c20 3529 290a 2020  size=(10, 5)).  
-00000f40: 2020 706c 742e 706c 6f74 2878 2c20 7929    plt.plot(x, y)
-00000f50: 0a20 2020 2070 6c74 2e6d 696e 6f72 7469  .    plt.minorti
-00000f60: 636b 735f 6f6e 2829 0a20 2020 2070 6c74  cks_on().    plt
-00000f70: 2e67 7269 6428 5472 7565 2c20 7768 6963  .grid(True, whic
-00000f80: 6820 3d20 2762 6f74 6827 290a 2020 2020  h = 'both').    
-00000f90: 706c 742e 796c 6162 656c 2827 6578 7065  plt.ylabel('expe
-00000fa0: 6374 2073 636f 7265 2025 272c 2020 666f  ct score %',  fo
-00000fb0: 6e74 7369 7a65 203d 2031 3529 0a20 2020  ntsize = 15).   
-00000fc0: 2070 6c74 2e78 6c61 6265 6c28 2767 6170   plt.xlabel('gap
-00000fd0: 272c 2066 6f6e 7473 697a 6520 3d20 3135  ', fontsize = 15
-00000fe0: 290a 2020 2020 706c 742e 7368 6f77 2829  ).    plt.show()
-00000ff0: 0a0a 2020 2020 2320 775f 7363 6f72 650a  ..    # w_score.
-00001000: 2020 2020 7820 3d20 6e70 2e6c 696e 7370      x = np.linsp
-00001010: 6163 6528 3830 302c 2032 3030 302c 2031  ace(800, 2000, 1
-00001020: 3031 290a 2020 2020 7920 3d20 6765 745f  01).    y = get_
-00001030: 6578 7065 6374 5f73 636f 7265 282d 2878  expect_score(-(x
-00001040: 202d 2031 3230 3029 2c20 6120 3d20 3332   - 1200), a = 32
-00001050: 2c20 6220 3d20 3430 302c 2063 203d 2031  , b = 400, c = 1
-00001060: 3629 0a20 2020 2070 6c74 2e66 6967 7572  6).    plt.figur
-00001070: 6528 6669 6773 697a 653d 2831 302c 2035  e(figsize=(10, 5
-00001080: 2929 0a20 2020 2070 6c74 2e70 6c6f 7428  )).    plt.plot(
-00001090: 782c 2079 290a 2020 2020 706c 742e 6d69  x, y).    plt.mi
-000010a0: 6e6f 7274 6963 6b73 5f6f 6e28 290a 2020  norticks_on().  
-000010b0: 2020 706c 742e 6772 6964 2854 7275 652c    plt.grid(True,
-000010c0: 2077 6869 6368 203d 2027 626f 7468 2729   which = 'both')
-000010d0: 0a20 2020 2070 6c74 2e79 6c61 6265 6c28  .    plt.ylabel(
-000010e0: 276b 272c 2020 666f 6e74 7369 7a65 203d  'k',  fontsize =
-000010f0: 2031 3529 0a20 2020 2070 6c74 2e78 6c61   15).    plt.xla
-00001100: 6265 6c28 2773 636f 7265 272c 2066 6f6e  bel('score', fon
-00001110: 7473 697a 6520 3d20 3135 290a 2020 2020  tsize = 15).    
-00001120: 706c 742e 7368 6f77 2829 0a0a 2020 2020  plt.show()..    
-00001130: 2320 775f 6761 700a 2020 2020 7820 3d20  # w_gap.    x = 
-00001140: 6e70 2e6c 696e 7370 6163 6528 2d31 3230  np.linspace(-120
-00001150: 302c 2031 3230 302c 2032 3529 0a20 2020  0, 1200, 25).   
-00001160: 2079 203d 2028 3130 202a 2a20 2878 202f   y = (10 ** (x /
-00001170: 2031 3630 3029 290a 2020 2020 706c 742e   1600)).    plt.
-00001180: 6669 6775 7265 2866 6967 7369 7a65 3d28  figure(figsize=(
-00001190: 3130 2c20 3529 290a 2020 2020 706c 742e  10, 5)).    plt.
-000011a0: 706c 6f74 2878 2c20 7929 0a20 2020 2070  plot(x, y).    p
-000011b0: 6c74 2e6d 696e 6f72 7469 636b 735f 6f6e  lt.minorticks_on
-000011c0: 2829 0a20 2020 2070 6c74 2e67 7269 6428  ().    plt.grid(
-000011d0: 5472 7565 2c20 7768 6963 6820 3d20 2762  True, which = 'b
-000011e0: 6f74 6827 290a 2020 2020 706c 742e 796c  oth').    plt.yl
-000011f0: 6162 656c 2827 6b5f 6761 7027 2c20 2066  abel('k_gap',  f
-00001200: 6f6e 7473 697a 6520 3d20 3135 290a 2020  ontsize = 15).  
-00001210: 2020 706c 742e 786c 6162 656c 2827 6761    plt.xlabel('ga
-00001220: 7027 2c20 666f 6e74 7369 7a65 203d 2031  p', fontsize = 1
-00001230: 3529 0a20 2020 2070 6c74 2e73 686f 7728  5).    plt.show(
-00001240: 290a 0a20 2020 2023 2077 0a20 2020 2078  )..    # w.    x
-00001250: 203d 206e 702e 6c69 6e73 7061 6365 2838   = np.linspace(8
-00001260: 3030 2c20 3230 3030 2c20 3235 290a 2020  00, 2000, 25).  
-00001270: 2020 7920 3d20 6e70 2e6c 696e 7370 6163    y = np.linspac
-00001280: 6528 3830 302c 2032 3030 302c 2032 3529  e(800, 2000, 25)
-00001290: 5b3a 3a2d 315d 0a20 2020 2058 2c20 5920  [::-1].    X, Y 
-000012a0: 3d20 6e70 2e6d 6573 6867 7269 6428 782c  = np.meshgrid(x,
-000012b0: 2079 290a 2020 2020 7769 6a20 3d20 3130   y).    wij = 10
-000012c0: 202a 2a20 2828 5920 2d20 5829 202f 2031   ** ((Y - X) / 1
-000012d0: 3230 3029 0a20 2020 2077 6920 3d20 6765  200).    wi = ge
-000012e0: 745f 6578 7065 6374 5f73 636f 7265 282d  t_expect_score(-
-000012f0: 2858 202d 2031 3230 3029 2c20 6120 3d20  (X - 1200), a = 
-00001300: 3332 2c20 6220 3d20 3430 302c 2063 203d  32, b = 400, c =
-00001310: 2031 3629 0a20 2020 205a 203d 2077 696a   16).    Z = wij
-00001320: 202a 2077 690a 0a20 2020 2066 2c20 6178   * wi..    f, ax
-00001330: 203d 2070 6c74 2e73 7562 706c 6f74 7328   = plt.subplots(
-00001340: 6669 6773 697a 653d 2833 302c 2031 3229  figsize=(30, 12)
-00001350: 290a 2020 2020 736e 732e 6865 6174 6d61  ).    sns.heatma
-00001360: 7028 5a2c 206c 696e 6577 6964 7468 7320  p(Z, linewidths 
-00001370: 3d20 302e 352c 2061 7820 3d20 6178 2c20  = 0.5, ax = ax, 
-00001380: 616e 6e6f 7420 3d20 5472 7565 2c20 666d  annot = True, fm
-00001390: 743d 222e 3066 2229 3b0a 2020 2020 706c  t=".0f");.    pl
-000013a0: 742e 7874 6963 6b73 2874 6963 6b73 203d  t.xticks(ticks =
-000013b0: 206e 702e 6172 616e 6765 286c 656e 2878   np.arange(len(x
-000013c0: 2929 2c20 6c61 6265 6c73 203d 206c 6973  )), labels = lis
-000013d0: 7428 7829 2c20 726f 7461 7469 6f6e 3d27  t(x), rotation='
-000013e0: 7665 7274 6963 616c 2729 0a20 2020 2070  vertical').    p
-000013f0: 6c74 2e79 7469 636b 7328 7469 636b 7320  lt.yticks(ticks 
-00001400: 3d20 6e70 2e61 7261 6e67 6528 6c65 6e28  = np.arange(len(
-00001410: 7929 292c 206c 6162 656c 7320 3d20 6c69  y)), labels = li
-00001420: 7374 2879 292c 2072 6f74 6174 696f 6e3d  st(y), rotation=
-00001430: 2768 6f72 697a 6f6e 7461 6c27 290a 2020  'horizontal').  
-00001440: 2020 706c 742e 796c 6162 656c 2827 6f74    plt.ylabel('ot
-00001450: 6865 7227 2c20 2066 6f6e 7473 697a 6520  her',  fontsize 
-00001460: 3d20 3135 290a 2020 2020 706c 742e 786c  = 15).    plt.xl
-00001470: 6162 656c 2827 7365 6c66 272c 2066 6f6e  abel('self', fon
-00001480: 7473 697a 6520 3d20 3135 290a 2020 2020  tsize = 15).    
-00001490: 706c 742e 7368 6f77 2829 0a20 2020 2072  plt.show().    r
-000014a0: 0100 0000 7201 0000 0072 0100 0000 7201  ....r....r....r.
-000014b0: 0000 0072 0200 0000 da07 706c 6f74 5f70  ...r......plot_p
-000014c0: 6b6e 0000 0073 0200 0000 0001 720f 0000  kn...s......r...
-000014d0: 0063 0000 0000 0000 0000 0000 0000 0000  .c..............
-000014e0: 0000 0100 0000 4300 0000 7304 0000 0064  ......C...s....d
-000014f0: 0153 0029 024e 758a 0500 000a 2020 2020  .S.).Nu.....    
-00001500: 696d 706f 7274 206d 6174 706c 6f74 6c69  import matplotli
-00001510: 622e 7079 706c 6f74 2061 7320 706c 740a  b.pyplot as plt.
-00001520: 2020 2020 696d 706f 7274 2073 6561 626f      import seabo
-00001530: 726e 2061 7320 736e 730a 2020 2020 696d  rn as sns.    im
-00001540: 706f 7274 206e 756d 7079 2061 7320 6e70  port numpy as np
-00001550: 0a20 2020 2069 6d70 6f72 7420 7061 6e64  .    import pand
-00001560: 6173 2061 7320 7064 0a0a 2020 2020 7820  as as pd..    x 
-00001570: 3d20 6e70 2e6c 696e 7370 6163 6528 302c  = np.linspace(0,
-00001580: 2031 2c20 3130 3129 0a20 2020 2079 203d   1, 101).    y =
-00001590: 205b 3120 2f20 2830 2e35 202b 2030 2e35   [1 / (0.5 + 0.5
-000015a0: 202a 2078 6929 202a 2a20 302e 3520 2d20   * xi) ** 0.5 - 
-000015b0: 3120 666f 7220 7869 2069 6e20 785d 0a20  1 for xi in x]. 
-000015c0: 2020 2070 6c74 2e66 6967 7572 6528 6669     plt.figure(fi
-000015d0: 6773 697a 653d 2831 302c 2035 2929 0a20  gsize=(10, 5)). 
-000015e0: 2020 2070 6c74 2e70 6c6f 7428 782c 2079     plt.plot(x, y
-000015f0: 290a 2020 2020 706c 742e 6d69 6e6f 7274  ).    plt.minort
-00001600: 6963 6b73 5f6f 6e28 290a 2020 2020 706c  icks_on().    pl
-00001610: 742e 6772 6964 2854 7275 652c 2077 6869  t.grid(True, whi
-00001620: 6368 203d 2027 626f 7468 2729 0a20 2020  ch = 'both').   
-00001630: 2070 6c74 2e79 6c61 6265 6c28 2769 6d70   plt.ylabel('imp
-00001640: 726f 7665 6d65 6e74 2025 272c 2020 666f  rovement %',  fo
-00001650: 6e74 7369 7a65 203d 2031 3529 0a20 2020  ntsize = 15).   
-00001660: 2070 6c74 2e78 6c61 6265 6c28 2763 6f72   plt.xlabel('cor
-00001670: 7227 2c20 666f 6e74 7369 7a65 203d 2031  r', fontsize = 1
-00001680: 3529 0a20 2020 2070 6c74 2e73 686f 7728  5).    plt.show(
-00001690: 290a 0a0a 2020 2020 696d 706f 7274 206d  )...    import m
-000016a0: 6174 706c 6f74 6c69 622e 7079 706c 6f74  atplotlib.pyplot
-000016b0: 2061 7320 706c 740a 2020 2020 696d 706f   as plt.    impo
-000016c0: 7274 2073 6561 626f 726e 2061 7320 736e  rt seaborn as sn
-000016d0: 730a 2020 2020 696d 706f 7274 206e 756d  s.    import num
-000016e0: 7079 2061 7320 6e70 0a20 2020 2069 6d70  py as np.    imp
-000016f0: 6f72 7420 7061 6e64 6173 2061 7320 7064  ort pandas as pd
-00001700: 0a0a 2020 2020 2320 e79b b8e5 85b3 e680  ..    # ........
-00001710: a72c 2030 7e31 e5b8 a6e6 9da5 e79a 84e6  ., 0~1..........
-00001720: 8f90 e58d 870a 2020 2020 7820 3d20 6e70  ......    x = np
-00001730: 2e6c 696e 7370 6163 6528 302c 2031 2c20  .linspace(0, 1, 
-00001740: 3231 290a 2020 2020 696d 7072 6f76 656d  21).    improvem
-00001750: 656e 7420 3d20 6e70 2e61 7272 6179 285b  ent = np.array([
-00001760: 3120 2f20 2830 2e35 202b 2030 2e35 202a  1 / (0.5 + 0.5 *
-00001770: 2078 6929 202a 2a20 302e 3520 2d20 3120   xi) ** 0.5 - 1 
-00001780: 666f 7220 7869 2069 6e20 785d 290a 0a20  for xi in x]).. 
-00001790: 2020 2023 20e8 9e8d e590 88e5 afb9 e8b1     # ...........
-000017a0: a1e7 9a84 4943 0a20 2020 2069 6320 3d20  ....IC.    ic = 
-000017b0: 302e 3037 0a20 2020 2069 635f 6c69 7374  0.07.    ic_list
-000017c0: 203d 2069 6320 2b20 6e70 2e6c 696e 7370   = ic + np.linsp
-000017d0: 6163 6528 302c 2032 302c 2032 3129 202f  ace(0, 20, 21) /
-000017e0: 2031 6533 202d 2031 652d 320a 2020 2020   1e3 - 1e-2.    
-000017f0: 6963 5f6c 6973 7420 3d20 6963 5f6c 6973  ic_list = ic_lis
-00001800: 745b 3a3a 2d31 5d0a 0a20 2020 2023 20e5  t[::-1]..    # .
-00001810: 928c e6af 8fe4 b880 e4b8 aa49 43e8 9e8d  ...........IC...
-00001820: e590 882c 20e4 b88d e590 8ce7 9bb8 e585  ..., ...........
-00001830: b3e6 80a7 2c20 e5be 97e5 88b0 e89e 8de5  ...., ..........
-00001840: 9088 e590 8ee7 9a84 4943 0a20 2020 2065  ........IC.    e
-00001850: 6e5f 6c69 7374 203d 205b 5d0a 2020 2020  n_list = [].    
-00001860: 666f 7220 6963 5f69 2069 6e20 6963 5f6c  for ic_i in ic_l
-00001870: 6973 743a 0a20 2020 2020 2020 2065 6e5f  ist:.        en_
-00001880: 6920 3d20 2869 6320 2b20 6963 5f69 2920  i = (ic + ic_i) 
-00001890: 2f20 3220 2a20 2831 202b 2069 6d70 726f  / 2 * (1 + impro
-000018a0: 7665 6d65 6e74 290a 2020 2020 2020 2020  vement).        
-000018b0: 656e 5f6c 6973 742e 6170 7065 6e64 2865  en_list.append(e
-000018c0: 6e5f 6929 0a20 2020 2061 5f65 6e20 3d20  n_i).    a_en = 
-000018d0: 6e70 2e76 7374 6163 6b28 656e 5f6c 6973  np.vstack(en_lis
-000018e0: 7429 2020 2020 0a0a 2020 2020 662c 2061  t)    ..    f, a
-000018f0: 7820 3d20 706c 742e 7375 6270 6c6f 7473  x = plt.subplots
-00001900: 2866 6967 7369 7a65 3d28 3230 2c20 3132  (figsize=(20, 12
-00001910: 2929 0a20 2020 2073 6e73 2e68 6561 746d  )).    sns.heatm
-00001920: 6170 2861 5f65 6e2c 206c 696e 6577 6964  ap(a_en, linewid
-00001930: 7468 7320 3d20 302e 352c 2061 7820 3d20  ths = 0.5, ax = 
-00001940: 6178 2c20 616e 6e6f 7420 3d20 5472 7565  ax, annot = True
-00001950: 2c20 666d 743d 222e 3466 2229 3b0a 2020  , fmt=".4f");.  
-00001960: 2020 706c 742e 7874 6963 6b73 2874 6963    plt.xticks(tic
-00001970: 6b73 203d 206e 702e 6172 616e 6765 2832  ks = np.arange(2
-00001980: 3129 2c20 6c61 6265 6c73 203d 205b 6627  1), labels = [f'
-00001990: 7b69 3a2e 3266 7d27 666f 7220 6920 696e  {i:.2f}'for i in
-000019a0: 2078 5d2c 2072 6f74 6174 696f 6e3d 2776   x], rotation='v
-000019b0: 6572 7469 6361 6c27 290a 2020 2020 706c  ertical').    pl
-000019c0: 742e 7974 6963 6b73 2874 6963 6b73 203d  t.yticks(ticks =
-000019d0: 206e 702e 6172 616e 6765 2832 3129 2c20   np.arange(21), 
-000019e0: 6c61 6265 6c73 203d 205b 6627 7b69 3a2e  labels = [f'{i:.
-000019f0: 3466 7d27 666f 7220 6920 696e 2069 635f  4f}'for i in ic_
-00001a00: 6c69 7374 5d2c 2072 6f74 6174 696f 6e3d  list], rotation=
-00001a10: 2768 6f72 697a 6f6e 7461 6c27 290a 2020  'horizontal').  
-00001a20: 2020 706c 742e 796c 6162 656c 2827 6f74    plt.ylabel('ot
-00001a30: 6865 7220 4943 203d 2027 2c20 2066 6f6e  her IC = ',  fon
-00001a40: 7473 697a 6520 3d20 3135 290a 2020 2020  tsize = 15).    
-00001a50: 706c 742e 786c 6162 656c 2827 636f 7272  plt.xlabel('corr
-00001a60: 272c 2066 6f6e 7473 697a 6520 3d20 3135  ', fontsize = 15
-00001a70: 290a 2020 2020 706c 742e 7368 6f77 2829  ).    plt.show()
-00001a80: 0a20 2020 2072 0100 0000 7201 0000 0072  .    r....r....r
-00001a90: 0100 0000 7201 0000 0072 0200 0000 da0d  ....r....r......
-00001aa0: 706c 6f74 5f65 6e73 656d 626c 65af 0000  plot_ensemble...
-00001ab0: 0073 0200 0000 0001 7210 0000 0063 0000  .s......r....c..
-00001ac0: 0000 0000 0000 0000 0000 0000 0000 0100  ................
-00001ad0: 0000 4300 0000 7304 0000 0064 0153 0029  ..C...s....d.S.)
-00001ae0: 024e 75e2 0100 000a 2020 2020 736e 732e  .Nu.....    sns.
-00001af0: 4661 6365 7447 7269 6428 7472 6169 6e2c  FacetGrid(train,
-00001b00: 2068 7565 3d22 5441 5247 4554 222c 2073   hue="TARGET", s
-00001b10: 697a 653d 3629 2020 2020 2020 2020 202e  ize=6)         .
-00001b20: 6d61 7028 736e 732e 6b64 6570 6c6f 742c  map(sns.kdeplot,
-00001b30: 2022 7661 7233 3622 2920 2020 2020 2020   "var36")       
-00001b40: 2020 2e61 6464 5f6c 6567 656e 6428 290a    .add_legend().
-00001b50: 2020 2020 2020 2020 706c 742e 7469 746c          plt.titl
-00001b60: 6528 2749 6620 7661 7233 3620 6973 2030  e('If var36 is 0
-00001b70: 2c31 2c32 206f 7220 3320 3d3e 206c 6573  ,1,2 or 3 => les
-00001b80: 7320 756e 6861 7070 7920 6375 7374 6f6d  s unhappy custom
-00001b90: 6572 7327 293b 0a0a 2020 2020 6466 203d  ers');..    df =
-00001ba0: 2074 7261 696e 2e63 6f70 7928 290a 2020   train.copy().  
-00001bb0: 2020 7663 203d 2064 665b 2763 5f30 275d    vc = df['c_0']
-00001bc0: 2e76 616c 7565 5f63 6f75 6e74 7328 292e  .value_counts().
-00001bd0: 696c 6f63 5b3a 3130 5d0a 2020 2020 6466  iloc[:10].    df
-00001be0: 203d 2064 665b 6466 5b27 635f 3027 5d2e   = df[df['c_0'].
-00001bf0: 6973 696e 2876 632e 696e 6465 7829 5d0a  isin(vc.index)].
-00001c00: 0a20 2020 2023 20e9 9a94 e5a3 810a 2020  .    # .......  
-00001c10: 2020 736e 732e 636f 756e 7470 6c6f 7428    sns.countplot(
-00001c20: 783d 2763 5f30 272c 2068 7565 3d27 6c61  x='c_0', hue='la
-00001c30: 6265 6c27 2c20 6461 7461 203d 2064 6629  bel', data = df)
-00001c40: 0a0a 2020 2020 2320 e987 8de5 8fa0 0a20  ..    # ....... 
-00001c50: 2020 2073 6e73 2e46 6163 6574 4772 6964     sns.FacetGrid
-00001c60: 2864 662c 2068 7565 3d27 6c61 6265 6c27  (df, hue='label'
-00001c70: 2c20 7369 7a65 3d34 2920 2020 2020 2e6d  , size=4)     .m
-00001c80: 6170 2873 6e73 2e63 6f75 6e74 706c 6f74  ap(sns.countplot
-00001c90: 2c20 2763 5f30 272c 2061 6c70 6861 3d30  , 'c_0', alpha=0
-00001ca0: 2e37 2920 2020 2020 2e61 6464 5f6c 6567  .7)     .add_leg
-00001cb0: 656e 6428 290a 2020 2020 706c 742e 7368  end().    plt.sh
-00001cc0: 6f77 2829 0a20 2020 2072 0100 0000 7201  ow().    r....r.
-00001cd0: 0000 0072 0100 0000 7201 0000 0072 0200  ...r....r....r..
-00001ce0: 0000 da08 706c 6f74 5f68 7565 df00 0000  ....plot_hue....
-00001cf0: 7302 0000 0000 0172 1100 0000 6300 0000  s......r....c...
-00001d00: 0000 0000 0000 0000 0000 0000 0001 0000  ................
-00001d10: 0043 0000 0073 0400 0000 6401 5300 2902  .C...s....d.S.).
-00001d20: 4e61 b803 0000 0a20 2020 2073 203d 2064  Na.....    s = d
-00001d30: 665f 7072 6564 5b27 795f 7072 6564 275d  f_pred['y_pred']
-00001d40: 5b3a 6b5d 2e63 6f70 7928 290a 2020 2020  [:k].copy().    
-00001d50: 7320 2f3d 2073 2e73 756d 2829 0a20 2020  s /= s.sum().   
-00001d60: 2070 6c74 2e66 6967 7572 6528 6669 6773   plt.figure(figs
-00001d70: 697a 653d 2832 302c 3329 290a 2020 2020  ize=(20,3)).    
-00001d80: 2873 2e63 756d 7375 6d28 2920 2f20 732e  (s.cumsum() / s.
-00001d90: 7375 6d28 2929 2e70 6c6f 7428 290a 2020  sum()).plot().  
-00001da0: 2020 706c 742e 6d69 6e6f 7274 6963 6b73    plt.minorticks
-00001db0: 5f6f 6e28 290a 2020 2020 706c 742e 6772  _on().    plt.gr
-00001dc0: 6964 2854 7275 652c 2077 6869 6368 3d27  id(True, which='
-00001dd0: 626f 7468 2729 0a20 2020 2070 6c74 2e73  both').    plt.s
-00001de0: 686f 7728 290a 0a20 2020 2070 6c74 2e66  how()..    plt.f
-00001df0: 6967 7572 6528 6669 6773 697a 653d 2832  igure(figsize=(2
-00001e00: 302c 3329 290a 2020 2020 706c 742e 6261  0,3)).    plt.ba
-00001e10: 7228 6e70 2e61 7261 6e67 6528 6c65 6e28  r(np.arange(len(
-00001e20: 7329 292c 2073 290a 2020 2020 706c 742e  s)), s).    plt.
-00001e30: 6d69 6e6f 7274 6963 6b73 5f6f 6e28 290a  minorticks_on().
-00001e40: 2020 2020 706c 742e 6772 6964 2854 7275      plt.grid(Tru
-00001e50: 652c 2077 6869 6368 3d27 626f 7468 2729  e, which='both')
-00001e60: 0a20 2020 2070 6c74 2e78 7469 636b 7328  .    plt.xticks(
-00001e70: 7469 636b 7320 3d20 6e70 2e61 7261 6e67  ticks = np.arang
-00001e80: 6528 6b29 2c20 6c61 6265 6c73 203d 2063  e(k), labels = c
-00001e90: 6f64 6573 2c20 726f 7461 7469 6f6e 3d27  odes, rotation='
-00001ea0: 7665 7274 6963 616c 2729 0a20 2020 2070  vertical').    p
-00001eb0: 6c74 2e73 686f 7728 290a 0a20 2020 2064  lt.show()..    d
-00001ec0: 6566 2064 665f 6261 7270 6c6f 7428 6466  ef df_barplot(df
-00001ed0: 293a 0a20 2020 2020 2020 2023 2064 662e  ):.        # df.
-00001ee0: 706c 6f74 286b 696e 6420 3d20 2762 6172  plot(kind = 'bar
-00001ef0: 272c 2066 6967 7369 7a65 3d28 3230 2c34  ', figsize=(20,4
-00001f00: 2929 3b0a 2020 2020 2020 2020 6466 5f70  ));.        df_p
-00001f10: 6c6f 7420 3d20 7064 2e44 6174 6146 7261  lot = pd.DataFra
-00001f20: 6d65 287b 2778 273a 206c 6973 7428 6466  me({'x': list(df
-00001f30: 2e69 6e64 6578 2920 2a20 6466 2e73 6861  .index) * df.sha
-00001f40: 7065 5b31 5d2c 200a 2020 2020 2020 2020  pe[1], .        
-00001f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001f60: 2020 2020 2020 2020 2768 7565 273a 206e          'hue': n
-00001f70: 702e 7261 7665 6c28 5b5b 695d 202a 2064  p.ravel([[i] * d
-00001f80: 662e 7368 6170 655b 305d 2066 6f72 2069  f.shape[0] for i
-00001f90: 2069 6e20 7261 6e67 6528 6466 2e73 6861   in range(df.sha
-00001fa0: 7065 5b31 5d29 5d29 2c0a 2020 2020 2020  pe[1])]),.      
-00001fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001fc0: 2020 2020 2020 2020 2020 2779 273a 2064            'y': d
-00001fd0: 662e 542e 7661 6c75 6573 2e72 6176 656c  f.T.values.ravel
-00001fe0: 2829 7d29 0a20 2020 2020 2020 2070 6c74  ()}).        plt
-00001ff0: 2e66 6967 7572 6528 6669 6773 697a 653d  .figure(figsize=
-00002000: 2832 302c 2033 2929 0a20 2020 2020 2020  (20, 3)).       
-00002010: 2073 6e73 2e62 6172 706c 6f74 2878 203d   sns.barplot(x =
-00002020: 2027 7827 2c20 7920 3d20 2779 272c 2068   'x', y = 'y', h
-00002030: 7565 203d 2027 6875 6527 2c20 6461 7461  ue = 'hue', data
-00002040: 203d 2064 665f 706c 6f74 2c20 616c 7068   = df_plot, alph
-00002050: 6120 3d20 302e 3829 0a20 2020 2020 2020  a = 0.8).       
-00002060: 2070 6c74 2e6c 6567 656e 6428 2727 2c20   plt.legend('', 
-00002070: 6672 616d 656f 6e20 3d20 4661 6c73 6529  frameon = False)
-00002080: 0a20 2020 2020 2020 2023 2070 6c74 2e6d  .        # plt.m
-00002090: 696e 6f72 7469 636b 735f 6f6e 2829 0a20  inorticks_on(). 
-000020a0: 2020 2020 2020 2070 6c74 2e67 7269 6428         plt.grid(
-000020b0: 5472 7565 2c20 7768 6963 6820 3d20 2762  True, which = 'b
-000020c0: 6f74 6827 290a 2020 2020 2020 2020 706c  oth').        pl
-000020d0: 742e 7368 6f77 2829 3b0a 2020 2020 7201  t.show();.    r.
-000020e0: 0000 0072 0100 0000 7201 0000 0072 0100  ...r....r....r..
-000020f0: 0000 7202 0000 00da 0870 6c6f 745f 6261  ..r......plot_ba
-00002100: 72f4 0000 0073 0200 0000 0001 7212 0000  r....s......r...
-00002110: 0063 0000 0000 0000 0000 0000 0000 0000  .c..............
-00002120: 0000 0100 0000 4300 0000 7304 0000 0064  ......C...s....d
-00002130: 0153 0029 024e 61da 0500 000a 2020 2020  .S.).Na.....    
-00002140: 6465 6620 626f 7870 6c6f 7428 6466 5f69  def boxplot(df_i
-00002150: 642c 2063 6f6c 203d 2027 795f 7472 7565  d, col = 'y_true
-00002160: 2729 3a0a 2020 2020 2020 2020 706c 742e  '):.        plt.
-00002170: 6669 6775 7265 2866 6967 7369 7a65 3d28  figure(figsize=(
-00002180: 3230 2c20 3229 290a 2020 2020 2020 2020  20, 2)).        
-00002190: 706c 742e 7469 746c 6528 6627 5b2b 5d20  plt.title(f'[+] 
-000021a0: 7b63 6f6c 7d20 626f 7870 6c6f 7427 290a  {col} boxplot').
-000021b0: 2020 2020 2020 2020 706c 742e 626f 7870          plt.boxp
-000021c0: 6c6f 7428 6466 5f69 645b 636f 6c5d 2c20  lot(df_id[col], 
-000021d0: 7665 7274 203d 2046 616c 7365 290a 2020  vert = False).  
-000021e0: 2020 2020 2020 706c 742e 6d69 6e6f 7274        plt.minort
-000021f0: 6963 6b73 5f6f 6e28 290a 2020 2020 2020  icks_on().      
-00002200: 2020 706c 742e 6772 6964 2854 7275 652c    plt.grid(True,
-00002210: 2077 6869 6368 3d27 626f 7468 2729 0a20   which='both'). 
-00002220: 2020 2020 2020 2070 6c74 2e73 686f 7728         plt.show(
-00002230: 290a 2020 2020 2020 2020 0a20 2020 2064  ).        .    d
-00002240: 6566 2070 6c6f 7428 6466 2c20 636f 6c20  ef plot(df, col 
-00002250: 3d20 2772 6574 2729 3a0a 2020 2020 2020  = 'ret'):.      
-00002260: 2020 6466 203d 2064 662e 636f 7079 2829    df = df.copy()
-00002270: 0a20 2020 2020 2020 2064 662e 696e 6465  .        df.inde
-00002280: 7820 3d20 6466 2e69 6e64 6578 2e61 7374  x = df.index.ast
-00002290: 7970 6528 7374 7229 0a0a 2020 2020 2020  ype(str)..      
-000022a0: 2020 706c 742e 6669 6775 7265 2866 6967    plt.figure(fig
-000022b0: 7369 7a65 3d28 3230 2c20 3329 290a 2020  size=(20, 3)).  
-000022c0: 2020 2020 2020 6466 5b63 6f6c 5d2e 706c        df[col].pl
-000022d0: 6f74 2829 0a20 2020 2020 2020 2078 5f74  ot().        x_t
-000022e0: 6963 6b73 203d 206c 6973 7428 7261 6e67  icks = list(rang
-000022f0: 6528 6c65 6e28 6466 2929 290a 2020 2020  e(len(df))).    
-00002300: 2020 2020 785f 6c61 6265 6c73 203d 206c      x_labels = l
-00002310: 6973 7428 6466 2e69 6e64 6578 290a 2020  ist(df.index).  
-00002320: 2020 2020 2020 6b20 3d20 350a 2020 2020        k = 5.    
-00002330: 2020 2020 785f 7469 636b 7320 3d20 5b78      x_ticks = [x
-00002340: 5f74 6963 6b73 5b69 5d20 666f 7220 6920  _ticks[i] for i 
-00002350: 696e 2072 616e 6765 286c 656e 2878 5f74  in range(len(x_t
-00002360: 6963 6b73 2929 2069 6620 6920 2520 6b20  icks)) if i % k 
-00002370: 3d3d 2030 5d0a 2020 2020 2020 2020 785f  == 0].        x_
-00002380: 6c61 6265 6c73 203d 205b 785f 6c61 6265  labels = [x_labe
-00002390: 6c73 5b69 5d20 666f 7220 6920 696e 2072  ls[i] for i in r
-000023a0: 616e 6765 286c 656e 2878 5f6c 6162 656c  ange(len(x_label
-000023b0: 7329 2920 6966 2069 2025 206b 203d 3d20  s)) if i % k == 
-000023c0: 305d 0a20 2020 2020 2020 2070 6c74 2e78  0].        plt.x
-000023d0: 7469 636b 7328 7469 636b 7320 3d20 785f  ticks(ticks = x_
-000023e0: 7469 636b 732c 206c 6162 656c 7320 3d20  ticks, labels = 
-000023f0: 785f 6c61 6265 6c73 2c20 726f 7461 7469  x_labels, rotati
-00002400: 6f6e 203d 2027 7665 7274 6963 616c 272c  on = 'vertical',
-00002410: 2066 6f6e 7473 697a 653d 3829 0a0a 2020   fontsize=8)..  
-00002420: 2020 2020 2020 706c 742e 6d69 6e6f 7274        plt.minort
-00002430: 6963 6b73 5f6f 6e28 290a 2020 2020 2020  icks_on().      
-00002440: 2020 2320 706c 742e 6772 6964 2854 7275    # plt.grid(Tru
-00002450: 652c 2077 6869 6368 3d27 626f 7468 2729  e, which='both')
-00002460: 0a20 2020 2020 2020 2070 6c74 2e67 7269  .        plt.gri
-00002470: 6428 5472 7565 290a 2020 2020 2020 2020  d(True).        
-00002480: 706c 742e 7368 6f77 2829 0a0a 2020 2020  plt.show()..    
-00002490: 6465 6620 706c 6f74 5f6e 756d 2878 2c20  def plot_num(x, 
-000024a0: 706c 6f74 5f6f 7574 6c69 6572 203d 2054  plot_outlier = T
-000024b0: 7275 6529 3a0a 2020 2020 2020 2020 7072  rue):.        pr
-000024c0: 696e 7428 273d 3d3d 3d3d 3d3d 3d3d 3d3d  int('===========
-000024d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000024e0: 3d3d 3d20 706c 6f74 5f6e 756d 203d 3d3d  === plot_num ===
-000024f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00002500: 3d3d 3d3d 3d3d 3d3d 3d3d 3d27 290a 2020  ===========').  
-00002510: 2020 2020 2020 7072 696e 7428 276e 203d        print('n =
-00002520: 207b 7d2c 206e 756c 6c20 3d20 7b7d 272e   {}, null = {}'.
-00002530: 666f 726d 6174 286c 656e 2878 292c 2070  format(len(x), p
-00002540: 642e 6973 6e75 6c6c 2878 292e 7375 6d28  d.isnull(x).sum(
-00002550: 2929 290a 2020 2020 2020 2020 6465 7320  ))).        des 
-00002560: 3d20 782e 6465 7363 7269 6265 2829 0a20  = x.describe(). 
-00002570: 2020 2020 2020 2064 6573 5b27 6e75 6e69         des['nuni
-00002580: 7175 6527 5d20 3d20 782e 6e75 6e69 7175  que'] = x.nuniqu
-00002590: 6528 290a 2020 2020 2020 2020 7072 696e  e().        prin
-000025a0: 7428 6465 7329 0a20 2020 2020 2020 200a  t(des).        .
-000025b0: 2020 2020 2020 2020 2320 6469 7374 0a20          # dist. 
-000025c0: 2020 2020 2020 2073 6e73 2e64 6973 7470         sns.distp
-000025d0: 6c6f 7428 7829 3b0a 2020 2020 2020 2020  lot(x);.        
-000025e0: 706c 742e 7368 6f77 2829 3b0a 0a20 2020  plt.show();..   
-000025f0: 2020 2020 2023 2062 6f78 0a20 2020 2020       # box.     
-00002600: 2020 2061 203d 2070 6c74 2e62 6f78 706c     a = plt.boxpl
-00002610: 6f74 2878 2c20 7379 6d3d 272b 2729 3b0a  ot(x, sym='+');.
-00002620: 2020 2020 2020 2020 706c 742e 7368 6f77          plt.show
-00002630: 2829 3b0a 2020 2020 2020 2020 0a20 2020  ();.        .   
-00002640: 2020 2020 2070 7269 6e74 2827 3d3d 3d3d       print('====
-00002650: 3d3d 3d3d 3d3d 206f 7574 6c69 6572 203d  ====== outlier =
-00002660: 3d3d 3d3d 3d3d 3d3d 3d27 290a 2020 2020  =========').    
-00002670: 2020 2020 785f 6f75 746c 6965 7220 3d20      x_outlier = 
-00002680: 7064 2e53 6572 6965 7328 2861 5b27 666c  pd.Series((a['fl
-00002690: 6965 7273 275d 5b30 5d2e 6765 745f 6461  iers'][0].get_da
-000026a0: 7461 2829 5b31 5d29 290a 2020 2020 2020  ta()[1])).      
-000026b0: 2020 6966 206c 656e 2878 5f6f 7574 6c69    if len(x_outli
-000026c0: 6572 2920 213d 2030 2061 6e64 2070 6c6f  er) != 0 and plo
-000026d0: 745f 6f75 746c 6965 723a 0a20 2020 2020  t_outlier:.     
-000026e0: 2020 2020 2020 2070 6c6f 745f 6e75 6d28         plot_num(
-000026f0: 785f 6f75 746c 6965 722c 2070 6c6f 745f  x_outlier, plot_
-00002700: 6f75 746c 6965 7220 3d20 4661 6c73 6529  outlier = False)
-00002710: 0a20 2020 2072 0100 0000 7201 0000 0072  .    r....r....r
-00002720: 0100 0000 7201 0000 0072 0200 0000 da0c  ....r....r......
-00002730: 706c 6f74 5f62 6f78 706c 6f74 1201 0000  plot_boxplot....
-00002740: 7302 0000 0000 0172 1300 0000 6300 0000  s......r....c...
-00002750: 0000 0000 0000 0000 0000 0000 0001 0000  ................
-00002760: 0043 0000 0073 0400 0000 6401 5300 2902  .C...s....d.S.).
-00002770: 4e61 e204 0000 0a20 2020 2064 6566 2073  Na.....    def s
-00002780: 7562 706c 6f74 5f6b 6465 5f68 7565 2874  ubplot_kde_hue(t
-00002790: 7261 696e 2c20 7472 6169 6e5f 6c61 6265  rain, train_labe
-000027a0: 6c2c 2063 6f6c 5f66 6561 2c20 6e20 3d20  l, col_fea, n = 
-000027b0: 3230 293a 0a20 2020 2020 2020 206e 5f63  20):.        n_c
-000027c0: 6f6c 203d 2034 0a20 2020 2020 2020 206e  ol = 4.        n
-000027d0: 5f72 6f77 203d 2069 6e74 286e 702e 6365  _row = int(np.ce
-000027e0: 696c 2831 2e30 202a 206e 202f 206e 5f63  il(1.0 * n / n_c
-000027f0: 6f6c 2929 0a0a 2020 2020 2020 2020 6669  ol))..        fi
-00002800: 672c 2061 7865 7320 3d20 706c 742e 7375  g, axes = plt.su
-00002810: 6270 6c6f 7473 286e 5f72 6f77 2c20 6e5f  bplots(n_row, n_
-00002820: 636f 6c2c 2066 6967 7369 7a65 3d28 3136  col, figsize=(16
-00002830: 2c20 3829 2c20 7368 6172 6578 203d 2054  , 8), sharex = T
-00002840: 7275 6529 0a20 2020 2020 2020 2066 6f72  rue).        for
-00002850: 2069 2069 6e20 7261 6e67 6528 6e29 3a0a   i in range(n):.
-00002860: 2020 2020 2020 2020 2020 2020 636f 6c20              col 
-00002870: 3d20 636f 6c5f 6665 615b 695d 0a20 2020  = col_fea[i].   
-00002880: 2020 2020 2020 2020 2069 5f72 6f77 2c20           i_row, 
-00002890: 695f 636f 6c20 3d20 696e 7428 6920 2f20  i_col = int(i / 
-000028a0: 6e5f 636f 6c29 2c20 6920 2520 6e5f 636f  n_col), i % n_co
-000028b0: 6c0a 2020 2020 2020 2020 2020 2020 6178  l.            ax
-000028c0: 5f69 203d 2061 7865 735b 695f 726f 772c  _i = axes[i_row,
-000028d0: 2069 5f63 6f6c 5d0a 2020 2020 2020 2020   i_col].        
-000028e0: 2020 2020 736e 732e 6b64 6570 6c6f 7428      sns.kdeplot(
-000028f0: 7472 6169 6e5b 7472 6169 6e5f 6c61 6265  train[train_labe
-00002900: 6c20 3d3d 2031 5d5b 636f 6c5d 2c20 6178  l == 1][col], ax
-00002910: 3d61 785f 6929 0a20 2020 2020 2020 2020  =ax_i).         
-00002920: 2020 2073 6e73 2e6b 6465 706c 6f74 2874     sns.kdeplot(t
-00002930: 7261 696e 5b74 7261 696e 5f6c 6162 656c  rain[train_label
-00002940: 203d 3d20 305d 5b63 6f6c 5d2c 2061 783d   == 0][col], ax=
-00002950: 6178 5f69 290a 2020 2020 2020 2020 2020  ax_i).          
-00002960: 2020 6178 5f69 2e6c 6567 656e 6428 5b27    ax_i.legend(['
-00002970: 3127 2c27 3027 5d29 0a20 2020 2020 2020  1','0']).       
-00002980: 2020 2020 2061 785f 692e 7365 745f 7469       ax_i.set_ti
-00002990: 746c 6528 636f 6c29 0a20 2020 2020 2020  tle(col).       
-000029a0: 2020 2020 2061 785f 692e 6772 6964 2829       ax_i.grid()
-000029b0: 0a0a 2020 2020 2020 2020 706c 742e 7368  ..        plt.sh
-000029c0: 6f77 2829 0a20 2020 2073 7562 706c 6f74  ow().    subplot
-000029d0: 5f6b 6465 5f68 7565 2874 7261 696e 322c  _kde_hue(train2,
-000029e0: 2074 7261 696e 5f6c 6162 656c 2c20 6466   train_label, df
-000029f0: 5f69 6d70 5f64 6973 745b 3a32 305d 5b27  _imp_dist[:20]['
-00002a00: 6665 6127 5d29 0a0a 2020 2020 6465 6620  fea'])..    def 
-00002a10: 7375 6270 6c6f 745f 706c 6f74 5f76 6328  subplot_plot_vc(
-00002a20: 7472 6169 6e2c 2074 6573 742c 2063 6f6c  train, test, col
-00002a30: 5f66 6561 2c20 6e20 3d20 3230 293a 0a20  _fea, n = 20):. 
-00002a40: 2020 2020 2020 206e 5f63 6f6c 203d 2034         n_col = 4
-00002a50: 0a20 2020 2020 2020 206e 5f72 6f77 203d  .        n_row =
-00002a60: 2069 6e74 286e 702e 6365 696c 2831 2e30   int(np.ceil(1.0
-00002a70: 202a 206e 202f 206e 5f63 6f6c 2929 0a0a   * n / n_col))..
-00002a80: 2020 2020 2020 2020 6669 672c 2061 7865          fig, axe
-00002a90: 7320 3d20 706c 742e 7375 6270 6c6f 7473  s = plt.subplots
-00002aa0: 286e 5f72 6f77 2c20 6e5f 636f 6c2c 2066  (n_row, n_col, f
-00002ab0: 6967 7369 7a65 3d28 3136 2c20 3829 2c20  igsize=(16, 8), 
-00002ac0: 7368 6172 6578 203d 2054 7275 6529 0a20  sharex = True). 
-00002ad0: 2020 2020 2020 2066 6f72 2069 2069 6e20         for i in 
-00002ae0: 7261 6e67 6528 6e29 3a0a 2020 2020 2020  range(n):.      
-00002af0: 2020 2020 2020 636f 6c20 3d20 636f 6c5f        col = col_
-00002b00: 6665 615b 695d 0a20 2020 2020 2020 2020  fea[i].         
-00002b10: 2020 2069 5f72 6f77 2c20 695f 636f 6c20     i_row, i_col 
-00002b20: 3d20 696e 7428 6920 2f20 6e5f 636f 6c29  = int(i / n_col)
-00002b30: 2c20 6920 2520 6e5f 636f 6c0a 2020 2020  , i % n_col.    
-00002b40: 2020 2020 2020 2020 6178 5f69 203d 2061          ax_i = a
-00002b50: 7865 735b 695f 726f 772c 2069 5f63 6f6c  xes[i_row, i_col
-00002b60: 5d0a 2020 2020 2020 2020 2020 2020 0a20  ].            . 
-00002b70: 2020 2020 2020 2020 2020 2061 785f 692e             ax_i.
-00002b80: 706c 6f74 2874 7261 696e 5b63 6f6c 5d2e  plot(train[col].
-00002b90: 7661 6c75 655f 636f 756e 7473 2829 2e76  value_counts().v
-00002ba0: 616c 7565 7329 0a20 2020 2020 2020 2020  alues).         
-00002bb0: 2020 2061 785f 692e 706c 6f74 2874 6573     ax_i.plot(tes
-00002bc0: 745b 636f 6c5d 2e76 616c 7565 5f63 6f75  t[col].value_cou
-00002bd0: 6e74 7328 292e 7661 6c75 6573 290a 2020  nts().values).  
-00002be0: 2020 2020 2020 2020 2020 6178 5f69 2e6c            ax_i.l
-00002bf0: 6567 656e 6428 5b27 7472 6169 6e27 2c27  egend(['train','
-00002c00: 7465 7374 275d 290a 2020 2020 2020 2020  test']).        
-00002c10: 2020 2020 6178 5f69 2e73 6574 5f74 6974      ax_i.set_tit
-00002c20: 6c65 2863 6f6c 290a 2020 2020 2020 2020  le(col).        
-00002c30: 2020 2020 6178 5f69 2e67 7269 6428 290a      ax_i.grid().
-00002c40: 2020 2020 2020 2020 706c 742e 7368 6f77          plt.show
-00002c50: 2829 3b0a 2020 2020 7201 0000 0072 0100  ();.    r....r..
-00002c60: 0000 7201 0000 0072 0100 0000 7202 0000  ..r....r....r...
-00002c70: 00da 0c70 6c6f 745f 7375 6270 6c6f 7443  ...plot_subplotC
-00002c80: 0100 0073 0200 0000 0001 7214 0000 0063  ...s......r....c
-00002c90: 0000 0000 0000 0000 0000 0000 0000 0000  ................
-00002ca0: 0100 0000 4300 0000 7304 0000 0064 0153  ....C...s....d.S
-00002cb0: 0029 024e 61ab 0200 000a 2020 2020 6465  .).Na.....    de
-00002cc0: 6620 706c 6f74 5f72 6567 2864 662c 2063  f plot_reg(df, c
-00002cd0: 6f6c 2c20 636f 6c5f 6c61 6265 6c29 3a0a  ol, col_label):.
-00002ce0: 2020 2020 2020 2020 6669 672c 2061 7820          fig, ax 
-00002cf0: 3d20 706c 742e 7375 6270 6c6f 7473 2831  = plt.subplots(1
-00002d00: 2c20 312c 2066 6967 7369 7a65 3d28 3230  , 1, figsize=(20
-00002d10: 2c20 3229 290a 2020 2020 2020 2020 736e  , 2)).        sn
-00002d20: 732e 7265 6770 6c6f 7428 0a20 2020 2020  s.regplot(.     
-00002d30: 2020 2020 2020 2078 203d 2063 6f6c 2c0a         x = col,.
-00002d40: 2020 2020 2020 2020 2020 2020 7920 3d20              y = 
-00002d50: 636f 6c5f 6c61 6265 6c2c 0a20 2020 2020  col_label,.     
-00002d60: 2020 2020 2020 2064 6174 6120 3d20 6466         data = df
-00002d70: 2c0a 2020 2020 2020 2020 2020 2020 2320  ,.            # 
-00002d80: 6c6f 6769 7374 6963 203d 2054 7275 6520  logistic = True 
-00002d90: 6966 2064 665b 636f 6c5f 6c61 6265 6c5d  if df[col_label]
-00002da0: 2e6e 756e 6971 7565 2829 203d 3d20 3220  .nunique() == 2 
-00002db0: 656c 7365 2046 616c 7365 2c0a 2020 2020  else False,.    
-00002dc0: 2020 2020 2020 2020 6c6f 6769 7374 6963          logistic
-00002dd0: 203d 2046 616c 7365 2c0a 2020 2020 2020   = False,.      
-00002de0: 2020 2020 2020 6e5f 626f 6f74 203d 2031        n_boot = 1
-00002df0: 3030 2c0a 2020 2020 2020 2020 2020 2020  00,.            
-00002e00: 795f 6a69 7474 6572 203d 202e 312c 0a20  y_jitter = .1,. 
-00002e10: 2020 2020 2020 2020 2020 2073 6361 7474             scatt
-00002e20: 6572 5f6b 7773 203d 207b 2761 6c70 6861  er_kws = {'alpha
-00002e30: 273a 302e 312c 2027 6564 6765 636f 6c6f  ':0.1, 'edgecolo
-00002e40: 7227 3a27 6e6f 6e65 277d 2c0a 2020 2020  r':'none'},.    
-00002e50: 2020 2020 2020 2020 6178 203d 2061 780a          ax = ax.
-00002e60: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00002e70: 2020 706c 742e 7368 6f77 2829 0a20 2020    plt.show().   
-00002e80: 2020 2020 200a 2020 2020 2020 2020 6966       .        if
-00002e90: 2064 665b 636f 6c5f 6c61 6265 6c5d 2e6e   df[col_label].n
-00002ea0: 756e 6971 7565 2829 203d 3d20 323a 0a20  unique() == 2:. 
-00002eb0: 2020 2020 2020 2020 2020 2070 6c74 2e66             plt.f
-00002ec0: 6967 7572 6528 6669 6773 697a 653d 2832  igure(figsize=(2
-00002ed0: 302c 2032 2929 0a20 2020 2020 2020 2020  0, 2)).         
-00002ee0: 2020 2073 6e73 2e6b 6465 706c 6f74 2864     sns.kdeplot(d
-00002ef0: 662e 6c6f 635b 6466 5b63 6f6c 5f6c 6162  f.loc[df[col_lab
-00002f00: 656c 5d20 3d3d 2030 2c20 636f 6c5d 290a  el] == 0, col]).
-00002f10: 2020 2020 2020 2020 2020 2020 736e 732e              sns.
-00002f20: 6b64 6570 6c6f 7428 6466 2e6c 6f63 5b64  kdeplot(df.loc[d
-00002f30: 665b 636f 6c5f 6c61 6265 6c5d 203d 3d20  f[col_label] == 
-00002f40: 312c 2063 6f6c 5d29 0a20 2020 2020 2020  1, col]).       
-00002f50: 2020 2020 2070 6c74 2e73 686f 7728 290a       plt.show().
-00002f60: 2020 2020 7201 0000 0072 0100 0000 7201      r....r....r.
-00002f70: 0000 0072 0100 0000 7202 0000 00da 0870  ...r....r......p
-00002f80: 6c6f 745f 7265 6769 0100 0073 0200 0000  lot_regi...s....
-00002f90: 0001 7215 0000 0063 0000 0000 0000 0000  ..r....c........
-00002fa0: 0000 0000 0000 0000 0100 0000 4300 0000  ............C...
-00002fb0: 7304 0000 0064 0153 0029 024e 61ac 0500  s....d.S.).Na...
-00002fc0: 000a 2020 2020 6465 6620 706c 6f74 5f63  ..    def plot_c
-00002fd0: 6f72 7228 6466 2c20 636f 6c73 5f73 656c  orr(df, cols_sel
-00002fe0: 203d 204e 6f6e 6529 3a0a 2020 2020 2020   = None):.      
-00002ff0: 2020 636f 6c73 5f73 656c 203d 2063 6f6c    cols_sel = col
-00003000: 735f 7365 6c20 6966 2063 6f6c 735f 7365  s_sel if cols_se
-00003010: 6c20 6973 206e 6f74 204e 6f6e 6520 656c  l is not None el
-00003020: 7365 2064 662e 636f 6c75 6d6e 732e 746f  se df.columns.to
-00003030: 6c69 7374 2829 0a20 2020 2020 2020 2063  list().        c
-00003040: 6f6c 735f 7365 6c20 3d20 5b63 6f6c 2066  ols_sel = [col f
-00003050: 6f72 2063 6f6c 2069 6e20 6466 2069 6620  or col in df if 
-00003060: 6466 5b63 6f6c 5d2e 6474 7970 6573 2021  df[col].dtypes !
-00003070: 3d20 276f 626a 6563 7427 5d0a 2020 2020  = 'object'].    
-00003080: 2020 2020 696d 706f 7274 2073 6369 7079      import scipy
-00003090: 0a20 2020 2020 2020 206e 5f63 6f6c 203d  .        n_col =
-000030a0: 206c 656e 2863 6f6c 735f 7365 6c29 0a20   len(cols_sel). 
-000030b0: 2020 2020 2020 2064 665f 636f 7272 5f70         df_corr_p
-000030c0: 203d 206e 702e 7a65 726f 7328 286e 5f63   = np.zeros((n_c
-000030d0: 6f6c 2c20 6e5f 636f 6c29 290a 2020 2020  ol, n_col)).    
-000030e0: 2020 2020 6466 5f63 6f72 725f 7370 203d      df_corr_sp =
-000030f0: 206e 702e 7a65 726f 7328 286e 5f63 6f6c   np.zeros((n_col
-00003100: 2c20 6e5f 636f 6c29 290a 2020 2020 2020  , n_col)).      
-00003110: 2020 666f 7220 6920 696e 2072 616e 6765    for i in range
-00003120: 286e 5f63 6f6c 293a 0a20 2020 2020 2020  (n_col):.       
-00003130: 2020 2020 2066 6f72 206a 2069 6e20 7261       for j in ra
-00003140: 6e67 6528 692c 206e 5f63 6f6c 293a 0a20  nge(i, n_col):. 
-00003150: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-00003160: 312c 2063 3220 3d20 6466 5b63 6f6c 735f  1, c2 = df[cols_
-00003170: 7365 6c5b 695d 5d2c 2064 665b 636f 6c73  sel[i]], df[cols
-00003180: 5f73 656c 5b6a 5d5d 0a20 2020 2020 2020  _sel[j]].       
-00003190: 2020 2020 2020 2020 2064 665f 636f 7272           df_corr
-000031a0: 5f70 5b69 2c20 6a5d 203d 206e 702e 636f  _p[i, j] = np.co
-000031b0: 7272 636f 6566 2863 312c 2063 3229 5b30  rrcoef(c1, c2)[0
-000031c0: 5d5b 315d 0a20 2020 2020 2020 2020 2020  ][1].           
-000031d0: 2020 2020 2064 665f 636f 7272 5f70 5b6a       df_corr_p[j
-000031e0: 2c20 695d 203d 2064 665f 636f 7272 5f70  , i] = df_corr_p
-000031f0: 5b69 2c20 6a5d 0a0a 2020 2020 2020 2020  [i, j]..        
-00003200: 2020 2020 2020 2020 6466 5f63 6f72 725f          df_corr_
-00003210: 7370 5b69 2c20 6a5d 203d 2073 6369 7079  sp[i, j] = scipy
-00003220: 2e73 7461 7473 2e73 7065 6172 6d61 6e72  .stats.spearmanr
-00003230: 2863 312c 2063 3229 5b30 5d0a 2020 2020  (c1, c2)[0].    
-00003240: 2020 2020 2020 2020 2020 2020 6466 5f63              df_c
-00003250: 6f72 725f 7370 5b6a 2c20 695d 203d 2064  orr_sp[j, i] = d
-00003260: 665f 636f 7272 5f73 705b 692c 206a 5d0a  f_corr_sp[i, j].
-00003270: 2020 2020 2020 2020 0a20 2020 2020 2020          .       
-00003280: 2064 665f 636f 7272 5f70 203d 2070 642e   df_corr_p = pd.
-00003290: 4461 7461 4672 616d 6528 6466 5f63 6f72  DataFrame(df_cor
-000032a0: 725f 702c 2069 6e64 6578 203d 2063 6f6c  r_p, index = col
-000032b0: 735f 7365 6c2c 2063 6f6c 756d 6e73 203d  s_sel, columns =
-000032c0: 2063 6f6c 735f 7365 6c29 2020 2020 2020   cols_sel)      
-000032d0: 0a20 2020 2020 2020 2064 665f 636f 7272  .        df_corr
-000032e0: 5f73 7020 3d20 7064 2e44 6174 6146 7261  _sp = pd.DataFra
-000032f0: 6d65 2864 665f 636f 7272 5f73 702c 2069  me(df_corr_sp, i
-00003300: 6e64 6578 203d 2063 6f6c 735f 7365 6c2c  ndex = cols_sel,
-00003310: 2063 6f6c 756d 6e73 203d 2063 6f6c 735f   columns = cols_
-00003320: 7365 6c29 2020 2020 2020 0a20 2020 2020  sel)      .     
-00003330: 2020 2020 2020 200a 2020 2020 2020 2020         .        
-00003340: 2320 706c 6f74 2020 2020 0a20 2020 2020  # plot    .     
-00003350: 2020 2070 6c74 2e66 6967 7572 6528 6669     plt.figure(fi
-00003360: 6773 697a 653d 2832 302c 2037 2929 0a20  gsize=(20, 7)). 
-00003370: 2020 2020 2020 2070 6c74 2e73 7562 706c         plt.subpl
-00003380: 6f74 2831 2c20 322c 2031 290a 2020 2020  ot(1, 2, 1).    
-00003390: 2020 2020 736e 732e 6865 6174 6d61 7028      sns.heatmap(
-000033a0: 6466 5f63 6f72 725f 702c 206c 696e 6577  df_corr_p, linew
-000033b0: 6964 7468 7320 3d20 302e 352c 2073 7175  idths = 0.5, squ
-000033c0: 6172 653d 5472 7565 2c0a 2020 2020 2020  are=True,.      
-000033d0: 2020 2020 2020 2020 2020 2020 2020 616e                an
-000033e0: 6e6f 743d 5472 7565 2c20 666d 743d 272e  not=True, fmt='.
-000033f0: 3266 272c 2061 6e6e 6f74 5f6b 7773 3d7b  2f', annot_kws={
-00003400: 2773 697a 6527 3a31 307d 293b 0a20 2020  'size':10});.   
-00003410: 2020 2020 2070 6c74 2e74 6974 6c65 2827       plt.title('
-00003420: 636f 7272 636f 6566 2729 0a20 2020 2020  corrcoef').     
-00003430: 2020 200a 2020 2020 2020 2020 706c 742e     .        plt.
-00003440: 7375 6270 6c6f 7428 312c 2032 2c20 3229  subplot(1, 2, 2)
-00003450: 0a20 2020 2020 2020 2073 6e73 2e68 6561  .        sns.hea
-00003460: 746d 6170 2864 665f 636f 7272 5f73 702c  tmap(df_corr_sp,
-00003470: 206c 696e 6577 6964 7468 7320 3d20 302e   linewidths = 0.
-00003480: 352c 2073 7175 6172 653d 5472 7565 2c0a  5, square=True,.
-00003490: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000034a0: 2020 2020 616e 6e6f 743d 5472 7565 2c20      annot=True, 
-000034b0: 666d 743d 272e 3266 272c 2061 6e6e 6f74  fmt='.2f', annot
-000034c0: 5f6b 7773 3d7b 2773 697a 6527 3a31 307d  _kws={'size':10}
-000034d0: 293b 0a20 2020 2020 2020 2070 6c74 2e74  );.        plt.t
-000034e0: 6974 6c65 2827 7370 6561 726d 616e 7227  itle('spearmanr'
-000034f0: 290a 2020 2020 2020 2020 706c 742e 7368  ).        plt.sh
-00003500: 6f77 2829 2020 2020 2020 2020 0a20 2020  ow()        .   
-00003510: 2020 2020 200a 2020 2020 2320 706c 6f74       .    # plot
-00003520: 5f63 6f72 7228 7472 6169 6e2c 2063 6f6c  _corr(train, col
-00003530: 735f 7365 6c20 3d20 636f 6c73 5f63 6174  s_sel = cols_cat
-00003540: 202b 2063 6f6c 735f 6e75 6d29 0a20 2020   + cols_num).   
-00003550: 2023 2070 6c6f 745f 636f 7272 2862 6173   # plot_corr(bas
-00003560: 6963 5f69 6e66 6f29 0a20 2020 2072 0100  ic_info).    r..
-00003570: 0000 7201 0000 0072 0100 0000 7201 0000  ..r....r....r...
-00003580: 0072 0200 0000 da09 706c 6f74 5f63 6f72  .r......plot_cor
-00003590: 7281 0100 0073 0200 0000 0001 7216 0000  r....s......r...
-000035a0: 0063 0000 0000 0000 0000 0000 0000 0000  .c..............
-000035b0: 0000 0100 0000 4300 0000 7304 0000 0064  ......C...s....d
-000035c0: 0153 0029 024e 7542 0700 000a 2020 2020  .S.).NuB....    
-000035d0: 6465 6620 706c 6f74 5f6f 6e74 2863 312c  def plot_ont(c1,
-000035e0: 2063 3229 3a0a 2020 2020 2020 2020 706c   c2):.        pl
-000035f0: 742e 6669 6775 7265 2866 6967 7369 7a65  t.figure(figsize
-00003600: 3d28 372c 2037 2929 0a20 2020 2020 2020  =(7, 7)).       
-00003610: 2064 665f 6920 3d20 6466 5b64 665b 2772   df_i = df[df['r
-00003620: 6567 696f 6e27 5d2e 6973 696e 285b 315d  egion'].isin([1]
-00003630: 295d 0a20 2020 2020 2020 2073 6e73 2e72  )].        sns.r
-00003640: 6567 706c 6f74 2864 665f 695b 6331 5d2c  egplot(df_i[c1],
-00003650: 2064 665f 695b 6332 5d2c 0a20 2020 2020   df_i[c2],.     
-00003660: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-00003670: 6172 6b65 723d 2778 272c 200a 2020 2020  arker='x', .    
-00003680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003690: 7363 6174 7465 725f 6b77 733d 7b27 616c  scatter_kws={'al
-000036a0: 7068 6127 3a30 2e37 357d 2c0a 2020 2020  pha':0.75},.    
-000036b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000036c0: 6c69 6e65 5f6b 7773 3d7b 2761 6c70 6861  line_kws={'alpha
-000036d0: 273a 302e 3735 7d29 0a0a 2020 2020 2020  ':0.75})..      
-000036e0: 2020 6466 5f69 203d 2064 665b 6466 5b27    df_i = df[df['
-000036f0: 7265 6769 6f6e 275d 2e69 7369 6e28 5b32  region'].isin([2
-00003700: 2c33 5d29 5d0a 2020 2020 2020 2020 736e  ,3])].        sn
-00003710: 732e 7265 6770 6c6f 7428 6466 5f69 5b63  s.regplot(df_i[c
-00003720: 315d 2c20 6466 5f69 5b63 325d 2c20 0a20  1], df_i[c2], . 
-00003730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003740: 2020 206d 6172 6b65 723d 276f 272c 200a     marker='o', .
-00003750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003760: 2020 2020 7363 6174 7465 725f 6b77 733d      scatter_kws=
-00003770: 7b27 616c 7068 6127 3a30 2e36 7d2c 200a  {'alpha':0.6}, .
-00003780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003790: 2020 2020 6c69 6e65 5f6b 7773 3d7b 2761      line_kws={'a
-000037a0: 6c70 6861 273a 302e 362c 2027 6c69 6e65  lpha':0.6, 'line
-000037b0: 7374 796c 6527 3a27 6461 7368 6564 277d  style':'dashed'}
-000037c0: 290a 2020 2020 2020 2020 706c 742e 786c  ).        plt.xl
-000037d0: 6162 656c 2863 312c 2073 697a 6520 3d20  abel(c1, size = 
-000037e0: 3230 290a 2020 2020 2020 2020 706c 742e  20).        plt.
-000037f0: 796c 6162 656c 2863 325b 3a2d 315d 2c20  ylabel(c2[:-1], 
-00003800: 7369 7a65 203d 2032 3029 0a20 2020 2020  size = 20).     
-00003810: 2020 2070 6c74 2e6c 6567 656e 6428 5b27     plt.legend(['
-00003820: e4b8 9ce9 83a8 272c 2027 e4b8 ade8 a5bf  ......', '......
-00003830: e983 a827 5d29 0a20 2020 2020 2020 2070  ...']).        p
-00003840: 6c74 2e73 6176 6566 6967 2866 272e 2f66  lt.savefig(f'./f
-00003850: 6f72 5f6d 7a79 2f7b 6331 7d5f 7b63 325b  or_mzy/{c1}_{c2[
-00003860: 3a2d 315d 7d2e 6a70 6567 272c 2064 7069  :-1]}.jpeg', dpi
-00003870: 203d 2032 3030 290a 2020 2020 2020 2020   = 200).        
-00003880: 706c 742e 7368 6f77 2829 0a0a 2020 2020  plt.show()..    
-00003890: 4b20 3d20 350a 2020 2020 666f 7220 692c  K = 5.    for i,
-000038a0: 2063 6f6c 5f78 2069 6e20 656e 756d 6572   col_x in enumer
-000038b0: 6174 6528 636f 6c73 5f78 293a 0a20 2020  ate(cols_x):.   
-000038c0: 2020 2020 2069 6620 6920 2520 4b20 3d3d       if i % K ==
-000038d0: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
-000038e0: 706c 742e 6669 6775 7265 2866 6967 7369  plt.figure(figsi
-000038f0: 7a65 203d 2028 3230 2c20 3529 290a 2020  ze = (20, 5)).  
-00003900: 2020 2020 2020 706c 742e 7375 6270 6c6f        plt.subplo
-00003910: 7428 312c 204b 2c20 2069 2025 204b 202b  t(1, K,  i % K +
-00003920: 2031 290a 2020 2020 2020 2020 782c 2079   1).        x, y
-00003930: 203d 2074 6573 745f 7465 6d70 5b63 6f6c   = test_temp[col
-00003940: 5f78 5d2c 2074 6573 745f 7465 6d70 5b63  _x], test_temp[c
-00003950: 6f6c 5f79 5d0a 2020 2020 2020 2020 2320  ol_y].        # 
-00003960: 706c 742e 7363 6174 7465 7228 7820 3d20  plt.scatter(x = 
-00003970: 782c 2079 203d 2079 2c20 7320 3d20 312c  x, y = y, s = 1,
-00003980: 206d 6172 6b65 7220 3d20 276f 272c 2061   marker = 'o', a
-00003990: 6c70 6861 203d 2030 2e35 290a 2020 2020  lpha = 0.5).    
-000039a0: 2020 2020 736e 732e 7363 6174 7465 7270      sns.scatterp
-000039b0: 6c6f 7428 7820 3d20 782c 2079 203d 2079  lot(x = x, y = y
-000039c0: 2c20 616c 7068 6120 3d20 302e 3735 2923  , alpha = 0.75)#
-000039d0: 2c20 7320 3d20 312c 206d 6172 6b65 7220  , s = 1, marker 
-000039e0: 3d20 276f 272c 2061 6c70 6861 203d 2030  = 'o', alpha = 0
-000039f0: 2e35 290a 2020 2020 2020 2020 706c 742e  .5).        plt.
-00003a00: 6772 6964 2829 0a20 2020 2020 2020 2069  grid().        i
-00003a10: 6620 6920 2520 4b20 3d3d 204b 202d 2031  f i % K == K - 1
-00003a20: 3a0a 2020 2020 2020 2020 2020 2020 706c  :.            pl
-00003a30: 742e 7368 6f77 2829 0a0a 2020 2020 696d  t.show()..    im
-00003a40: 706f 7274 206d 6174 706c 6f74 6c69 622e  port matplotlib.
-00003a50: 7079 706c 6f74 2061 7320 706c 740a 2020  pyplot as plt.  
-00003a60: 2020 696d 706f 7274 2073 6561 626f 726e    import seaborn
-00003a70: 2061 7320 736e 730a 2020 2020 6465 6620   as sns.    def 
-00003a80: 7363 6174 7465 725f 636f 6c6f 725f 7369  scatter_color_si
-00003a90: 7a65 2864 662c 2078 2c20 792c 2063 2c20  ze(df, x, y, c, 
-00003aa0: 7329 3a0a 2020 2020 2020 2020 636f 6c6f  s):.        colo
-00003ab0: 7273 203d 2073 6e73 2e63 6f6c 6f72 5f70  rs = sns.color_p
-00003ac0: 616c 6574 7465 2827 7669 7269 6469 7327  alette('viridis'
-00003ad0: 2c20 6466 5b63 5d2e 6e75 6e69 7175 6528  , df[c].nunique(
-00003ae0: 2929 0a20 2020 2020 2020 2073 6e73 2e72  )).        sns.r
-00003af0: 656c 706c 6f74 2878 203d 2078 2c20 7920  elplot(x = x, y 
-00003b00: 3d20 792c 2068 7565 203d 2063 2c20 7369  = y, hue = c, si
-00003b10: 7a65 203d 2073 2c20 0a20 2020 2020 2020  ze = s, .       
-00003b20: 2020 2020 2020 2020 2020 2020 2061 6c70               alp
-00003b30: 6861 203d 2030 2e36 2c20 7369 7a65 7320  ha = 0.6, sizes 
-00003b40: 3d20 2835 2c20 3330 3029 2c20 2320 e782  = (5, 300), # ..
-00003b50: b9e7 9a84 e980 8fe6 988e e59b bee5 928c  ................
-00003b60: e782 b9e7 9a84 e5a4 a7e5 b08f e88c 83e5  ................
-00003b70: 9bb4 0a20 2020 2020 2020 2020 2020 2020  ...             
-00003b80: 2020 2020 2020 2064 6174 6120 3d20 6466         data = df
-00003b90: 2c20 7061 6c65 7474 6520 3d20 636f 6c6f  , palette = colo
-00003ba0: 7273 2c20 6c65 6765 6e64 203d 2046 616c  rs, legend = Fal
-00003bb0: 7365 290a 2020 2020 2020 2020 706c 742e  se).        plt.
-00003bc0: 706c 6f74 2864 665b 785d 2c20 6466 5b79  plot(df[x], df[y
-00003bd0: 5d2c 206c 696e 6577 6964 7468 203d 2031  ], linewidth = 1
-00003be0: 290a 2020 2020 2020 2020 706c 742e 7469  ).        plt.ti
-00003bf0: 746c 6528 2774 6974 6c65 2729 0a20 2020  tle('title').   
-00003c00: 2020 2020 2070 6c74 2e73 686f 7728 290a       plt.show().
-00003c10: 2020 2020 2020 2020 0a20 2020 2064 6620          .    df 
-00003c20: 3d20 7472 6169 6e5b 7472 6169 6e5b 2769  = train[train['i
-00003c30: 6427 5d20 3d3d 2030 5d0a 2020 2020 782c  d'] == 0].    x,
-00003c40: 2079 203d 2027 7827 2c20 2779 270a 2020   y = 'x', 'y'.  
-00003c50: 2020 6320 3d20 2779 2720 2320 e6a0 b9e6    c = 'y' # ....
-00003c60: 8dae 63e5 8886 e7bb 84ef bc8c e6af 8fe4  ..c.............
-00003c70: b8aa e7bb 8431 e7a7 8de9 a29c e889 b2ef  .....1..........
-00003c80: bc8c 2023 20e5 8faa e69c 89e4 b880 e7a7  .. # ...........
-00003c90: 8de9 a29c e889 b2e7 9a84 e794 bbef bc8c  ................
-00003ca0: 6466 5b63 5d20 3d20 31e5 b8b8 e695 b0e5  df[c] = 1.......
-00003cb0: b0b1 e8a1 8c0a 2020 2020 7320 3d20 2776  ......    s = 'v
-00003cc0: 2720 2320 e586 b3e5 ae9a e782 b9e7 9a84  ' # ............
-00003cd0: e5a4 a7e5 b08f 0a20 2020 2073 6361 7474  .......    scatt
-00003ce0: 6572 5f63 6f6c 6f72 5f73 697a 6528 6466  er_color_size(df
-00003cf0: 2c20 782c 2079 2c20 632c 2073 2920 2020  , x, y, c, s)   
-00003d00: 2020 2020 2020 2020 0a20 2020 2072 0100          .    r..
-00003d10: 0000 7201 0000 0072 0100 0000 7201 0000  ..r....r....r...
-00003d20: 0072 0200 0000 da0c 706c 6f74 5f73 6361  .r......plot_sca
-00003d30: 7474 6572 a701 0000 7302 0000 0000 0172  tter....s......r
-00003d40: 1700 0000 6300 0000 0000 0000 0000 0000  ....c...........
-00003d50: 0000 0000 0001 0000 0043 0000 0073 0400  .........C...s..
-00003d60: 0000 6401 5300 2902 4e61 640b 0000 0a20  ..d.S.).Nad.... 
-00003d70: 2020 2069 6d70 6f72 7420 6e75 6d70 7920     import numpy 
-00003d80: 6173 206e 700a 2020 2020 696d 706f 7274  as np.    import
-00003d90: 2070 616e 6461 7320 6173 2070 640a 2020   pandas as pd.  
-00003da0: 2020 696d 706f 7274 2077 6172 6e69 6e67    import warning
-00003db0: 7320 0a20 2020 2077 6172 6e69 6e67 732e  s .    warnings.
-00003dc0: 6669 6c74 6572 7761 726e 696e 6773 2822  filterwarnings("
-00003dd0: 6967 6e6f 7265 2229 0a20 2020 2069 6d70  ignore").    imp
-00003de0: 6f72 7420 6d61 7470 6c6f 746c 6962 2e70  ort matplotlib.p
-00003df0: 7970 6c6f 7420 6173 2070 6c74 0a20 2020  yplot as plt.   
-00003e00: 2069 6d70 6f72 7420 7365 6162 6f72 6e20   import seaborn 
-00003e10: 6173 2073 6e73 0a20 2020 2073 6e73 2e73  as sns.    sns.s
-00003e20: 6574 2873 7479 6c65 3d22 7768 6974 6522  et(style="white"
-00003e30: 2c20 636f 6c6f 725f 636f 6465 733d 5472  , color_codes=Tr
-00003e40: 7565 290a 0a20 2020 2064 6566 2070 6c6f  ue)..    def plo
-00003e50: 745f 6e75 6d28 782c 2064 6565 7020 3d20  t_num(x, deep = 
-00003e60: 302c 2070 6c6f 745f 6f75 746c 6965 7220  0, plot_outlier 
-00003e70: 3d20 4661 6c73 652c 2070 7269 6e74 5f69  = False, print_i
-00003e80: 6e66 6f20 3d20 4661 6c73 6529 3a0a 2020  nfo = False):.  
-00003e90: 2020 2020 2020 6966 2064 6565 7020 3d3d        if deep ==
-00003ea0: 2030 2061 6e64 2070 7269 6e74 5f69 6e66   0 and print_inf
-00003eb0: 6f3a 0a20 2020 2020 2020 2020 2020 2070  o:.            p
-00003ec0: 7269 6e74 2827 3d3d 3d3d 3d3d 3d3d 3d3d  rint('==========
-00003ed0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00003ee0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 2070  ============== p
-00003ef0: 6c6f 745f 6e75 6d20 3d3d 3d3d 3d3d 3d3d  lot_num ========
-00003f00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00003f10: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00003f20: 2729 0a20 2020 2020 2020 2070 7269 6e74  ').        print
-00003f30: 2827 6e20 3d20 7b7d 2c20 6e75 6c6c 203d  ('n = {}, null =
-00003f40: 207b 7d27 2e66 6f72 6d61 7428 6c65 6e28   {}'.format(len(
-00003f50: 7829 2c20 7064 2e69 736e 756c 6c28 7829  x), pd.isnull(x)
-00003f60: 2e73 756d 2829 2929 0a20 2020 2020 2020  .sum())).       
-00003f70: 2064 6573 203d 2078 2e64 6573 6372 6962   des = x.describ
-00003f80: 6528 290a 2020 2020 2020 2020 6465 735b  e().        des[
-00003f90: 276e 756e 6971 7565 275d 203d 2078 2e6e  'nunique'] = x.n
-00003fa0: 756e 6971 7565 2829 0a20 2020 2020 2020  unique().       
-00003fb0: 2069 6620 7072 696e 745f 696e 666f 3a0a   if print_info:.
-00003fc0: 2020 2020 2020 2020 2020 2020 7072 696e              prin
-00003fd0: 7428 6465 7329 0a20 2020 2020 2020 200a  t(des).        .
-00003fe0: 2020 2020 2020 2020 706c 742e 6669 6775          plt.figu
-00003ff0: 7265 2866 6967 7369 7a65 203d 2028 3230  re(figsize = (20
-00004000: 2c20 3229 290a 2020 2020 2020 2020 706c  , 2)).        pl
-00004010: 742e 7375 6270 6c6f 7428 312c 2033 2c20  t.subplot(1, 3, 
-00004020: 3129 0a20 2020 2020 2020 2070 6c74 2e70  1).        plt.p
-00004030: 6c6f 7428 6e70 2e61 7261 6e67 6528 6c65  lot(np.arange(le
-00004040: 6e28 7829 292c 206e 702e 736f 7274 2878  n(x)), np.sort(x
-00004050: 2929 0a20 2020 2020 2020 200a 2020 2020  )).        .    
-00004060: 2020 2020 706c 742e 7375 6270 6c6f 7428      plt.subplot(
-00004070: 312c 2033 2c20 3229 0a20 2020 2020 2020  1, 3, 2).       
-00004080: 2073 6e73 2e64 6973 7470 6c6f 7428 7829   sns.distplot(x)
-00004090: 3b0a 0a20 2020 2020 2020 2070 6c74 2e73  ;..        plt.s
-000040a0: 7562 706c 6f74 2831 2c20 332c 2033 290a  ubplot(1, 3, 3).
-000040b0: 2020 2020 2020 2020 6120 3d20 706c 742e          a = plt.
-000040c0: 626f 7870 6c6f 7428 782c 2073 796d 203d  boxplot(x, sym =
-000040d0: 2027 2b27 2c20 7665 7274 203d 2046 616c   '+', vert = Fal
-000040e0: 7365 293b 0a20 2020 2020 2020 2070 6c74  se);.        plt
-000040f0: 2e73 686f 7728 293b 0a20 2020 2020 2020  .show();.       
-00004100: 200a 2020 2020 2020 2020 785f 6f75 746c   .        x_outl
-00004110: 6965 7220 3d20 7064 2e53 6572 6965 7328  ier = pd.Series(
-00004120: 2861 5b27 666c 6965 7273 275d 5b30 5d2e  (a['fliers'][0].
-00004130: 6765 745f 6461 7461 2829 5b31 5d29 290a  get_data()[1])).
-00004140: 2020 2020 2020 2020 6966 2070 6c6f 745f          if plot_
-00004150: 6f75 746c 6965 7220 616e 6420 6c65 6e28  outlier and len(
-00004160: 785f 6f75 746c 6965 7229 2021 3d20 3020  x_outlier) != 0 
-00004170: 616e 6420 6465 6570 203d 3d20 303a 0a20  and deep == 0:. 
-00004180: 2020 2020 2020 2020 2020 2069 6620 7072             if pr
-00004190: 696e 745f 696e 666f 3a0a 2020 2020 2020  int_info:.      
-000041a0: 2020 2020 2020 2020 2020 7072 696e 7428            print(
-000041b0: 273d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  '===============
-000041c0: 3d3d 3d3d 3d20 6f75 746c 6965 7220 3d3d  ===== outlier ==
-000041d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000041e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 2729 0a20  ============'). 
-000041f0: 2020 2020 2020 2020 2020 2070 6c6f 745f             plot_
-00004200: 6e75 6d28 785f 6f75 746c 6965 722c 2064  num(x_outlier, d
-00004210: 6565 7020 2b20 3129 0a20 2020 2020 2020  eep + 1).       
-00004220: 2020 2020 200a 2020 2020 6465 6620 706c       .    def pl
-00004230: 6f74 5f63 6174 2878 2c20 6b20 3d20 3130  ot_cat(x, k = 10
-00004240: 302c 2070 7269 6e74 5f69 6e66 6f20 3d20  0, print_info = 
-00004250: 4661 6c73 6529 3a0a 2020 2020 2020 2020  False):.        
-00004260: 7663 203d 2078 2e76 616c 7565 5f63 6f75  vc = x.value_cou
-00004270: 6e74 7328 295b 3a6b 5d0a 2020 2020 2020  nts()[:k].      
-00004280: 2020 6966 2070 7269 6e74 5f69 6e66 6f3a    if print_info:
-00004290: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-000042a0: 6e74 2827 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  nt('============
-000042b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000042c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 2070 6c6f  ============ plo
-000042d0: 745f 6361 7420 3d3d 3d3d 3d3d 3d3d 3d3d  t_cat ==========
-000042e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000042f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 2729  ==============')
-00004300: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
-00004310: 6e74 2827 6474 7970 6573 2e76 616c 7565  nt('dtypes.value
-00004320: 5f63 6f75 6e74 7328 2920 3d20 0a7b 7d27  _counts() = .{}'
-00004330: 2e66 6f72 6d61 7428 7663 2e68 6561 6428  .format(vc.head(
-00004340: 3130 2929 290a 2020 2020 2020 2020 0a20  10))).        . 
-00004350: 2020 2020 2020 2023 203d 3d3d 3d3d 3d3d         # =======
-00004360: 3d3d 3d20 6375 6d73 756d 203d 3d3d 3d3d  === cumsum =====
-00004370: 3d3d 3d3d 3d0a 2020 2020 2020 2020 7663  =====.        vc
-00004380: 203d 2076 632e 736f 7274 5f69 6e64 6578   = vc.sort_index
-00004390: 2829 0a20 2020 2020 2020 2023 2070 7269  ().        # pri
-000043a0: 6e74 2827 736f 7274 2062 7920 696e 6465  nt('sort by inde
-000043b0: 7827 290a 2020 2020 2020 2020 706c 742e  x').        plt.
-000043c0: 6669 6775 7265 2866 6967 7369 7a65 3d28  figure(figsize=(
-000043d0: 3230 2c20 3229 290a 2020 2020 2020 2020  20, 2)).        
-000043e0: 706c 742e 7375 6270 6c6f 7428 312c 2033  plt.subplot(1, 3
-000043f0: 2c20 3129 0a20 2020 2020 2020 2073 6e73  , 1).        sns
-00004400: 2e62 6172 706c 6f74 286e 702e 6172 616e  .barplot(np.aran
-00004410: 6765 286c 656e 2876 6329 292c 2076 632e  ge(len(vc)), vc.
-00004420: 7661 6c75 6573 293b 0a20 2020 2020 2020  values);.       
-00004430: 2070 6c74 2e70 6c6f 7428 6e70 2e61 7261   plt.plot(np.ara
-00004440: 6e67 6528 6c65 6e28 7663 2929 2c20 7663  nge(len(vc)), vc
-00004450: 2e76 616c 7565 732c 2027 622d 2729 3b0a  .values, 'b-');.
-00004460: 2020 2020 2020 2020 706c 742e 706c 6f74          plt.plot
-00004470: 286e 702e 6172 616e 6765 286c 656e 2876  (np.arange(len(v
-00004480: 6329 292c 2076 632e 7661 6c75 6573 2c20  c)), vc.values, 
-00004490: 2772 7827 293b 0a20 2020 2020 2020 2070  'rx');.        p
-000044a0: 6c74 2e78 7469 636b 7328 6e70 2e61 7261  lt.xticks(np.ara
-000044b0: 6e67 6528 6c65 6e28 7663 2929 2c20 7663  nge(len(vc)), vc
-000044c0: 2e69 6e64 6578 290a 2020 2020 2020 2020  .index).        
-000044d0: 706c 742e 7469 746c 6528 2773 6f72 7420  plt.title('sort 
-000044e0: 6279 2069 6e64 6578 2729 0a20 2020 2020  by index').     
-000044f0: 2020 2023 706c 742e 7368 6f77 2829 3b0a     #plt.show();.
-00004500: 0a20 2020 2020 2020 2023 2070 7269 6e74  .        # print
-00004510: 2827 736f 7274 2062 7920 7661 6c75 6573  ('sort by values
-00004520: 2729 0a20 2020 2020 2020 2070 6c74 2e73  ').        plt.s
-00004530: 7562 706c 6f74 2831 2c20 332c 2032 290a  ubplot(1, 3, 2).
-00004540: 2020 2020 2020 2020 7663 203d 2076 632e          vc = vc.
-00004550: 736f 7274 5f76 616c 7565 7328 6173 6365  sort_values(asce
-00004560: 6e64 696e 6720 3d20 4661 6c73 6529 0a20  nding = False). 
-00004570: 2020 2020 2020 2073 6e73 2e62 6172 706c         sns.barpl
-00004580: 6f74 286e 702e 6172 616e 6765 286c 656e  ot(np.arange(len
-00004590: 2876 6329 292c 2076 632e 7661 6c75 6573  (vc)), vc.values
-000045a0: 293b 0a20 2020 2020 2020 2070 6c74 2e70  );.        plt.p
-000045b0: 6c6f 7428 6e70 2e61 7261 6e67 6528 6c65  lot(np.arange(le
-000045c0: 6e28 7663 2929 2c20 7663 2e76 616c 7565  n(vc)), vc.value
-000045d0: 732c 2027 622d 2729 3b0a 2020 2020 2020  s, 'b-');.      
-000045e0: 2020 706c 742e 706c 6f74 286e 702e 6172    plt.plot(np.ar
-000045f0: 616e 6765 286c 656e 2876 6329 292c 2076  ange(len(vc)), v
-00004600: 632e 7661 6c75 6573 2c20 2772 7827 293b  c.values, 'rx');
-00004610: 0a20 2020 2020 2020 2070 6c74 2e78 7469  .        plt.xti
-00004620: 636b 7328 6e70 2e61 7261 6e67 6528 6c65  cks(np.arange(le
-00004630: 6e28 7663 2929 2c20 7663 2e69 6e64 6578  n(vc)), vc.index
-00004640: 290a 2020 2020 2020 2020 706c 742e 7469  ).        plt.ti
-00004650: 746c 6528 2773 6f72 7420 6279 2076 616c  tle('sort by val
-00004660: 7565 7327 290a 2020 2020 2020 2020 2370  ues').        #p
-00004670: 6c74 2e73 686f 7728 293b 0a0a 2020 2020  lt.show();..    
-00004680: 2020 2020 2320 3d3d 3d3d 3d3d 3d3d 3d3d      # ==========
-00004690: 2063 756d 7375 6d20 3d3d 3d3d 3d3d 3d3d   cumsum ========
-000046a0: 3d3d 0a20 2020 2020 2020 2023 2070 7269  ==.        # pri
-000046b0: 6e74 2827 6375 6d73 756d 2729 0a20 2020  nt('cumsum').   
-000046c0: 2020 2020 2070 6c74 2e73 7562 706c 6f74       plt.subplot
-000046d0: 2831 2c20 332c 2033 290a 2020 2020 2020  (1, 3, 3).      
-000046e0: 2020 7663 203d 2078 2e76 616c 7565 5f63    vc = x.value_c
-000046f0: 6f75 6e74 7328 290a 2020 2020 2020 2020  ounts().        
-00004700: 7663 5f63 756d 7375 6d20 3d20 7663 2e63  vc_cumsum = vc.c
-00004710: 756d 7375 6d28 292e 7265 7365 745f 696e  umsum().reset_in
-00004720: 6465 7828 6472 6f70 203d 2054 7275 6529  dex(drop = True)
-00004730: 0a20 2020 2020 2020 2076 635f 6375 6d73  .        vc_cums
-00004740: 756d 202f 3d20 7663 5f63 756d 7375 6d2e  um /= vc_cumsum.
-00004750: 6d61 7828 290a 2020 2020 2020 2020 706c  max().        pl
-00004760: 742e 706c 6f74 2876 635f 6375 6d73 756d  t.plot(vc_cumsum
-00004770: 2c20 2762 2d27 290a 2020 2020 2020 2020  , 'b-').        
-00004780: 706c 742e 706c 6f74 2876 635f 6375 6d73  plt.plot(vc_cums
-00004790: 756d 2c20 2772 7827 290a 2020 2020 2020  um, 'rx').      
-000047a0: 2020 7879 5f30 3920 3d20 7663 5f63 756d    xy_09 = vc_cum
-000047b0: 7375 6d5b 7663 5f63 756d 7375 6d20 3e3d  sum[vc_cumsum >=
-000047c0: 2030 2e39 5d5b 3a31 5d0a 2020 2020 2020   0.9][:1].      
-000047d0: 2020 785f 3039 2c20 795f 3039 203d 2078    x_09, y_09 = x
-000047e0: 795f 3039 2e69 6e64 6578 2e76 616c 7565  y_09.index.value
-000047f0: 735b 305d 2c20 7879 5f30 392e 7661 6c75  s[0], xy_09.valu
-00004800: 6573 5b30 5d0a 2020 2020 2020 2020 706c  es[0].        pl
-00004810: 742e 6178 686c 696e 6528 795f 3039 2c20  t.axhline(y_09, 
-00004820: 636f 6c6f 7220 3d20 2772 2729 0a20 2020  color = 'r').   
-00004830: 2020 2020 2070 6c74 2e61 7876 6c69 6e65       plt.axvline
-00004840: 2878 5f30 392c 2063 6f6c 6f72 203d 2027  (x_09, color = '
-00004850: 7227 290a 2020 2020 2020 2020 706c 742e  r').        plt.
-00004860: 7469 746c 6528 2778 5f30 3920 3d20 7b7d  title('x_09 = {}
-00004870: 2c20 785f 2520 3d20 7b3a 2e34 667d 2c20  , x_% = {:.4f}, 
-00004880: 795f 3039 203d 207b 3a2e 3466 7d27 2e66  y_09 = {:.4f}'.f
-00004890: 6f72 6d61 7428 785f 3039 2c20 785f 3039  ormat(x_09, x_09
-000048a0: 202f 206c 656e 2876 635f 6375 6d73 756d   / len(vc_cumsum
-000048b0: 292c 2079 5f30 3929 290a 2020 2020 2020  ), y_09)).      
-000048c0: 2020 706c 742e 7368 6f77 2829 3b0a 2020    plt.show();.  
-000048d0: 2020 7201 0000 0072 0100 0000 7201 0000    r....r....r...
-000048e0: 0072 0100 0000 7202 0000 00da 0b70 6c6f  .r....r......plo
-000048f0: 745f 636f 6c73 5f31 da01 0000 7302 0000  t_cols_1....s...
-00004900: 0000 0172 1800 0000 6300 0000 0000 0000  ...r....c.......
-00004910: 0000 0000 0000 0000 0001 0000 0043 0000  .............C..
-00004920: 0073 0400 0000 6401 5300 2902 4e61 af0e  .s....d.S.).Na..
-00004930: 0000 0a20 2020 2064 6566 2070 6c6f 745f  ...    def plot_
-00004940: 6b65 795f 636f 6c28 6466 2c20 6b65 792c  key_col(df, key,
-00004950: 2063 6f6c 2c20 6b20 3d20 3130 293a 0a20   col, k = 10):. 
-00004960: 2020 2020 2020 2076 6320 3d20 6466 5b6b         vc = df[k
-00004970: 6579 5d2e 7661 6c75 655f 636f 756e 7473  ey].value_counts
-00004980: 2829 2e69 6c6f 635b 3a6b 5d0a 2020 2020  ().iloc[:k].    
-00004990: 2020 2020 2320 7072 696e 7428 7663 290a      # print(vc).
-000049a0: 2020 2020 2020 2020 6466 203d 2064 665b          df = df[
-000049b0: 6466 5b6b 6579 5d2e 6973 696e 2876 632e  df[key].isin(vc.
-000049c0: 696e 6465 7829 5d2e 7265 7365 745f 696e  index)].reset_in
-000049d0: 6465 7828 6472 6f70 203d 2054 7275 6529  dex(drop = True)
-000049e0: 0a20 2020 2020 2020 2070 6c74 2e66 6967  .        plt.fig
-000049f0: 7572 6528 6669 6773 697a 6520 3d20 2832  ure(figsize = (2
-00004a00: 302c 2033 2929 0a20 2020 2020 2020 2073  0, 3)).        s
-00004a10: 6e73 2e62 6f78 706c 6f74 2878 3d6b 6579  ns.boxplot(x=key
-00004a20: 2c20 793d 636f 6c2c 2064 6174 6120 3d20  , y=col, data = 
-00004a30: 6466 5b5b 6b65 792c 2063 6f6c 5d5d 290a  df[[key, col]]).
-00004a40: 2020 2020 2020 2020 706c 742e 6c65 6765          plt.lege
-00004a50: 6e64 285b 277b 7d20 3d20 7b7d 272e 666f  nd(['{} = {}'.fo
-00004a60: 726d 6174 2869 2c20 7663 2e6c 6f63 5b69  rmat(i, vc.loc[i
-00004a70: 5d29 2066 6f72 2069 2069 6e20 7663 2e69  ]) for i in vc.i
-00004a80: 6e64 6578 5d29 0a20 2020 2020 2020 2070  ndex]).        p
-00004a90: 6c74 2e74 6974 6c65 2827 706c 6f74 5f6b  lt.title('plot_k
-00004aa0: 6579 5f63 6f6c 2729 0a20 2020 2020 2020  ey_col').       
-00004ab0: 2070 6c74 2e73 686f 7728 293b 0a0a 2020   plt.show();..  
-00004ac0: 2020 6465 6620 706c 6f74 5f63 6174 5f6e    def plot_cat_n
-00004ad0: 756d 2864 662c 206b 6579 2c20 636f 6c2c  um(df, key, col,
-00004ae0: 206b 203d 2031 3029 3a0a 2020 2020 2020   k = 10):.      
-00004af0: 2020 2320 6b65 795f 636f 6c0a 2020 2020    # key_col.    
-00004b00: 2020 2020 706c 6f74 5f6b 6579 5f63 6f6c      plot_key_col
-00004b10: 2864 662c 206b 6579 2c20 636f 6c2c 206b  (df, key, col, k
-00004b20: 203d 206b 290a 2020 2020 2020 2020 0a20   = k).        . 
-00004b30: 2020 2020 2020 2023 2076 616c 7565 5f63         # value_c
-00004b40: 6f75 6e74 730a 2020 2020 2020 2020 7663  ounts.        vc
-00004b50: 203d 2064 665b 6b65 795d 2e76 616c 7565   = df[key].value
-00004b60: 5f63 6f75 6e74 7328 292e 696c 6f63 5b3a  _counts().iloc[:
-00004b70: 6b5d 0a20 2020 2020 2020 2076 6320 3d20  k].        vc = 
-00004b80: 7663 2e73 6f72 745f 696e 6465 7828 290a  vc.sort_index().
-00004b90: 2020 2020 2020 2020 706c 742e 6669 6775          plt.figu
-00004ba0: 7265 2866 6967 7369 7a65 203d 2028 3230  re(figsize = (20
-00004bb0: 2c20 3329 290a 2020 2020 2020 2020 706c  , 3)).        pl
-00004bc0: 742e 7375 6270 6c6f 7428 312c 2033 2c20  t.subplot(1, 3, 
-00004bd0: 3129 0a20 2020 2020 2020 2073 6e73 2e62  1).        sns.b
-00004be0: 6172 706c 6f74 286e 702e 6172 616e 6765  arplot(np.arange
-00004bf0: 286c 656e 2876 6329 292c 2076 632e 7661  (len(vc)), vc.va
-00004c00: 6c75 6573 293b 0a20 2020 2020 2020 2070  lues);.        p
-00004c10: 6c74 2e70 6c6f 7428 6e70 2e61 7261 6e67  lt.plot(np.arang
-00004c20: 6528 6c65 6e28 7663 2929 2c20 7663 2e76  e(len(vc)), vc.v
-00004c30: 616c 7565 732c 2027 622d 2729 3b0a 2020  alues, 'b-');.  
-00004c40: 2020 2020 2020 706c 742e 706c 6f74 286e        plt.plot(n
-00004c50: 702e 6172 616e 6765 286c 656e 2876 6329  p.arange(len(vc)
-00004c60: 292c 2076 632e 7661 6c75 6573 2c20 2772  ), vc.values, 'r
-00004c70: 2b27 293b 0a20 2020 2020 2020 2070 6c74  +');.        plt
-00004c80: 2e78 7469 636b 7328 6e70 2e61 7261 6e67  .xticks(np.arang
-00004c90: 6528 6c65 6e28 7663 2929 2c20 7663 2e69  e(len(vc)), vc.i
-00004ca0: 6e64 6578 290a 2020 2020 2020 2020 706c  ndex).        pl
-00004cb0: 742e 7469 746c 6528 2776 616c 7565 5f63  t.title('value_c
-00004cc0: 6f75 6e74 7327 290a 2020 2020 2020 2020  ounts').        
-00004cd0: 0a20 2020 2020 2020 2023 2074 7265 6e64  .        # trend
-00004ce0: 0a20 2020 2020 2020 2070 6c74 2e73 7562  .        plt.sub
-00004cf0: 706c 6f74 2831 2c20 332c 2032 290a 2020  plot(1, 3, 2).  
-00004d00: 2020 2020 2020 666f 7220 7669 2069 6e20        for vi in 
-00004d10: 7663 2e69 6e64 6578 3a0a 2020 2020 2020  vc.index:.      
-00004d20: 2020 2020 2020 7820 3d20 6466 2e6c 6f63        x = df.loc
-00004d30: 5b64 665b 6b65 795d 203d 3d20 7669 2c20  [df[key] == vi, 
-00004d40: 636f 6c5d 0a20 2020 2020 2020 2020 2020  col].           
-00004d50: 2070 6c74 2e70 6c6f 7428 6e70 2e61 7261   plt.plot(np.ara
-00004d60: 6e67 6528 6c65 6e28 7829 292c 206e 702e  nge(len(x)), np.
-00004d70: 736f 7274 2878 2929 0a20 2020 2020 2020  sort(x)).       
-00004d80: 2070 6c74 2e6c 6567 656e 6428 6c69 7374   plt.legend(list
-00004d90: 2876 632e 696e 6465 7829 290a 2020 2020  (vc.index)).    
-00004da0: 2020 2020 706c 742e 7469 746c 6528 2774      plt.title('t
-00004db0: 7265 6e64 2729 0a20 2020 2020 2020 2020  rend').         
-00004dc0: 2020 200a 2020 2020 2020 2020 2320 6469     .        # di
-00004dd0: 7374 706c 6f74 2020 2020 0a20 2020 2020  stplot    .     
-00004de0: 2020 2070 6c74 2e73 7562 706c 6f74 2831     plt.subplot(1
-00004df0: 2c20 332c 2033 290a 2020 2020 2020 2020  , 3, 3).        
-00004e00: 666f 7220 7669 2069 6e20 7663 2e69 6e64  for vi in vc.ind
-00004e10: 6578 3a0a 2020 2020 2020 2020 2020 2020  ex:.            
-00004e20: 7820 3d20 6466 2e6c 6f63 5b64 665b 6b65  x = df.loc[df[ke
-00004e30: 795d 203d 3d20 7669 2c20 636f 6c5d 0a20  y] == vi, col]. 
-00004e40: 2020 2020 2020 2020 2020 2073 6e73 2e64             sns.d
-00004e50: 6973 7470 6c6f 7428 782c 2062 696e 7320  istplot(x, bins 
-00004e60: 3d20 3130 290a 2020 2020 2020 2020 706c  = 10).        pl
-00004e70: 742e 6c65 6765 6e64 286c 6973 7428 7663  t.legend(list(vc
-00004e80: 2e69 6e64 6578 2929 0a20 2020 2020 2020  .index)).       
-00004e90: 2070 6c74 2e74 6974 6c65 2827 6469 7374   plt.title('dist
-00004ea0: 706c 6f74 2729 0a20 2020 2020 2020 2070  plot').        p
-00004eb0: 6c74 2e78 6c61 6265 6c28 2727 290a 2020  lt.xlabel('').  
-00004ec0: 2020 2020 2020 706c 742e 7368 6f77 2829        plt.show()
-00004ed0: 0a20 2020 2020 2020 200a 2020 2020 2020  .        .      
-00004ee0: 2020 0a20 2020 2064 6566 2070 6c6f 745f    .    def plot_
-00004ef0: 6361 745f 6361 7428 6466 2c20 6b65 792c  cat_cat(df, key,
-00004f00: 2063 6f6c 2c20 6b31 203d 2031 302c 206b   col, k1 = 10, k
-00004f10: 3220 3d20 3130 3029 3a0a 2020 2020 2020  2 = 100):.      
-00004f20: 2020 706c 742e 6669 6775 7265 2866 6967    plt.figure(fig
-00004f30: 7369 7a65 3d28 3230 2c20 3329 290a 2020  size=(20, 3)).  
-00004f40: 2020 2020 2020 785f 6c69 7374 203d 205b        x_list = [
-00004f50: 5d0a 2020 2020 2020 2020 666f 7220 7669  ].        for vi
-00004f60: 2069 6e20 6c69 7374 2864 665b 6b65 795d   in list(df[key]
-00004f70: 2e76 616c 7565 5f63 6f75 6e74 7328 292e  .value_counts().
-00004f80: 696e 6465 7829 5b3a 6b31 5d3a 0a20 2020  index)[:k1]:.   
-00004f90: 2020 2020 2020 2020 2078 203d 2064 662e           x = df.
-00004fa0: 6c6f 635b 6466 5b6b 6579 5d20 3d3d 2076  loc[df[key] == v
-00004fb0: 692c 2063 6f6c 5d0a 2020 2020 2020 2020  i, col].        
-00004fc0: 2020 2020 7663 203d 2078 2e76 616c 7565      vc = x.value
-00004fd0: 5f63 6f75 6e74 7328 292e 696c 6f63 5b3a  _counts().iloc[:
-00004fe0: 6b5d 0a20 2020 2020 2020 2020 2020 2023  k].            #
-00004ff0: 203d 3d3d 3d3d 3d3d 3d3d 3d20 7661 6c75   ========== valu
-00005000: 655f 636f 756e 7473 203d 3d3d 3d3d 3d3d  e_counts =======
-00005010: 3d3d 3d0a 2020 2020 2020 2020 2020 2020  ===.            
-00005020: 706c 742e 7375 6270 6c6f 7428 312c 2033  plt.subplot(1, 3
-00005030: 2c20 3129 0a20 2020 2020 2020 2020 2020  , 1).           
-00005040: 2076 6320 3d20 7663 2e73 6f72 745f 696e   vc = vc.sort_in
-00005050: 6465 7828 290a 2020 2020 2020 2020 2020  dex().          
-00005060: 2020 2320 736e 732e 6261 7270 6c6f 7428    # sns.barplot(
-00005070: 6e70 2e61 7261 6e67 6528 6c65 6e28 7663  np.arange(len(vc
-00005080: 2929 2c20 7663 2e76 616c 7565 7329 3b0a  )), vc.values);.
-00005090: 2020 2020 2020 2020 2020 2020 706c 742e              plt.
-000050a0: 706c 6f74 286e 702e 6172 616e 6765 286c  plot(np.arange(l
-000050b0: 656e 2876 6329 292c 2076 632e 7661 6c75  en(vc)), vc.valu
-000050c0: 6573 2c20 272d 2729 3b0a 2020 2020 2020  es, '-');.      
-000050d0: 2020 2020 2020 706c 742e 706c 6f74 286e        plt.plot(n
-000050e0: 702e 6172 616e 6765 286c 656e 2876 6329  p.arange(len(vc)
-000050f0: 292c 2076 632e 7661 6c75 6573 2c20 272b  ), vc.values, '+
-00005100: 2729 3b0a 2020 2020 2020 2020 2020 2020  ');.            
-00005110: 706c 742e 7874 6963 6b73 286e 702e 6172  plt.xticks(np.ar
-00005120: 616e 6765 286c 656e 2876 6329 292c 2076  ange(len(vc)), v
-00005130: 632e 696e 6465 7829 0a20 2020 2020 2020  c.index).       
-00005140: 2020 2020 2070 6c74 2e74 6974 6c65 2827       plt.title('
-00005150: 736f 7274 2062 7920 696e 6465 7827 290a  sort by index').
-00005160: 0a20 2020 2020 2020 2020 2020 2070 6c74  .            plt
-00005170: 2e73 7562 706c 6f74 2831 2c20 332c 2032  .subplot(1, 3, 2
-00005180: 290a 2020 2020 2020 2020 2020 2020 7663  ).            vc
-00005190: 203d 2076 632e 736f 7274 5f76 616c 7565   = vc.sort_value
-000051a0: 7328 6173 6365 6e64 696e 6720 3d20 4661  s(ascending = Fa
-000051b0: 6c73 6529 0a20 2020 2020 2020 2020 2020  lse).           
-000051c0: 2023 2073 6e73 2e62 6172 706c 6f74 286e   # sns.barplot(n
-000051d0: 702e 6172 616e 6765 286c 656e 2876 6329  p.arange(len(vc)
-000051e0: 292c 2076 632e 7661 6c75 6573 293b 0a20  ), vc.values);. 
-000051f0: 2020 2020 2020 2020 2020 2070 6c74 2e70             plt.p
-00005200: 6c6f 7428 6e70 2e61 7261 6e67 6528 6c65  lot(np.arange(le
-00005210: 6e28 7663 2929 2c20 7663 2e76 616c 7565  n(vc)), vc.value
-00005220: 732c 2027 2d27 293b 0a20 2020 2020 2020  s, '-');.       
-00005230: 2020 2020 2070 6c74 2e70 6c6f 7428 6e70       plt.plot(np
-00005240: 2e61 7261 6e67 6528 6c65 6e28 7663 2929  .arange(len(vc))
-00005250: 2c20 7663 2e76 616c 7565 732c 2027 2b27  , vc.values, '+'
-00005260: 293b 0a20 2020 2020 2020 2020 2020 2070  );.            p
-00005270: 6c74 2e78 7469 636b 7328 6e70 2e61 7261  lt.xticks(np.ara
-00005280: 6e67 6528 6c65 6e28 7663 2929 2c20 7663  nge(len(vc)), vc
-00005290: 2e69 6e64 6578 290a 2020 2020 2020 2020  .index).        
-000052a0: 2020 2020 706c 742e 7469 746c 6528 2773      plt.title('s
-000052b0: 6f72 7420 6279 2076 616c 7565 7327 290a  ort by values').
-000052c0: 0a20 2020 2020 2020 2020 2020 2023 203d  .            # =
-000052d0: 3d3d 3d3d 3d3d 3d3d 3d20 6375 6d73 756d  ========= cumsum
-000052e0: 203d 3d3d 3d3d 3d3d 3d3d 3d0a 2020 2020   ==========.    
-000052f0: 2020 2020 2020 2020 706c 742e 7375 6270          plt.subp
-00005300: 6c6f 7428 312c 2033 2c20 3329 0a20 2020  lot(1, 3, 3).   
-00005310: 2020 2020 2020 2020 2076 6320 3d20 782e           vc = x.
-00005320: 7661 6c75 655f 636f 756e 7473 2829 0a20  value_counts(). 
-00005330: 2020 2020 2020 2020 2020 2076 635f 6375             vc_cu
-00005340: 6d73 756d 203d 2076 632e 6375 6d73 756d  msum = vc.cumsum
-00005350: 2829 2e72 6573 6574 5f69 6e64 6578 2864  ().reset_index(d
-00005360: 726f 7020 3d20 5472 7565 290a 2020 2020  rop = True).    
-00005370: 2020 2020 2020 2020 7663 5f63 756d 7375          vc_cumsu
-00005380: 6d20 2f3d 2076 635f 6375 6d73 756d 2e6d  m /= vc_cumsum.m
-00005390: 6178 2829 0a20 2020 2020 2020 2020 2020  ax().           
-000053a0: 2070 6c74 2e70 6c6f 7428 7663 5f63 756d   plt.plot(vc_cum
-000053b0: 7375 6d2c 2027 2d27 290a 2020 2020 2020  sum, '-').      
-000053c0: 2020 2020 2020 706c 742e 706c 6f74 2876        plt.plot(v
-000053d0: 635f 6375 6d73 756d 2c20 272b 2729 0a20  c_cumsum, '+'). 
-000053e0: 2020 2020 2020 2020 2020 2078 795f 3039             xy_09
-000053f0: 203d 2076 635f 6375 6d73 756d 5b76 635f   = vc_cumsum[vc_
-00005400: 6375 6d73 756d 203e 3d20 302e 395d 5b3a  cumsum >= 0.9][:
-00005410: 315d 0a20 2020 2020 2020 2020 2020 2078  1].            x
-00005420: 5f30 392c 2079 5f30 3920 3d20 7879 5f30  _09, y_09 = xy_0
-00005430: 392e 696e 6465 782e 7661 6c75 6573 5b30  9.index.values[0
-00005440: 5d2c 2078 795f 3039 2e76 616c 7565 735b  ], xy_09.values[
-00005450: 305d 0a20 2020 2020 2020 2020 2020 2023  0].            #
-00005460: 2070 6c74 2e61 7868 6c69 6e65 2879 5f30   plt.axhline(y_0
-00005470: 392c 2063 6f6c 6f72 203d 2027 7227 290a  9, color = 'r').
-00005480: 2020 2020 2020 2020 2020 2020 706c 742e              plt.
-00005490: 6178 766c 696e 6528 785f 3039 2c20 636f  axvline(x_09, co
-000054a0: 6c6f 7220 3d20 2772 2729 0a20 2020 2020  lor = 'r').     
-000054b0: 2020 2020 2020 2078 5f6c 6973 742e 6170         x_list.ap
-000054c0: 7065 6e64 2878 5f30 3920 2f20 6c65 6e28  pend(x_09 / len(
-000054d0: 7663 5f63 756d 7375 6d29 290a 2020 2020  vc_cumsum)).    
-000054e0: 2020 2020 706c 742e 7469 746c 6528 2778      plt.title('x
-000054f0: 203d 207b 7d27 2e66 6f72 6d61 7428 5b27   = {}'.format(['
-00005500: 7b3a 2e30 667d 272e 666f 726d 6174 2869  {:.0f}'.format(i
-00005510: 2920 666f 7220 6920 696e 2078 5f6c 6973  ) for i in x_lis
-00005520: 745d 2929 0a20 2020 2020 2020 2070 7269  t])).        pri
-00005530: 6e74 2829 0a20 2020 2020 2020 2070 6c74  nt().        plt
-00005540: 2e73 686f 7728 2920 2020 200a 2020 2020  .show()    .    
-00005550: 2020 2020 0a20 2020 2064 6566 2070 6c6f      .    def plo
-00005560: 745f 7061 6972 2864 662c 2063 6f6c 735f  t_pair(df, cols_
-00005570: 7365 6c2c 206b 203d 2031 302c 2063 6f6c  sel, k = 10, col
-00005580: 5f6c 6162 656c 203d 204e 6f6e 6529 3a0a  _label = None):.
-00005590: 2020 2020 2020 2020 636f 6c73 5f73 656c          cols_sel
-000055a0: 203d 2063 6f6c 735f 7365 6c5b 3a6b 5d0a   = cols_sel[:k].
-000055b0: 2020 2020 2020 2020 636f 6c73 5f73 656c          cols_sel
-000055c0: 202b 3d20 5b63 6f6c 5f6c 6162 656c 5d20   += [col_label] 
-000055d0: 6966 2063 6f6c 5f6c 6162 656c 2069 7320  if col_label is 
-000055e0: 6e6f 7420 4e6f 6e65 2065 6c73 6520 5b5d  not None else []
-000055f0: 0a20 2020 2020 2020 2069 6620 636f 6c5f  .        if col_
-00005600: 6c61 6265 6c20 6973 204e 6f6e 653a 0a20  label is None:. 
-00005610: 2020 2020 2020 2020 2020 2073 6e73 2e70             sns.p
-00005620: 6169 7270 6c6f 7428 6466 5b63 6f6c 735f  airplot(df[cols_
-00005630: 7365 6c5d 2c20 6875 6520 3d20 636f 6c5f  sel], hue = col_
-00005640: 6c61 6265 6c2c 2073 697a 653d 322c 206b  label, size=2, k
-00005650: 696e 643d 2773 6361 7474 6572 272c 6469  ind='scatter',di
-00005660: 6167 5f6b 696e 643d 2268 6973 7422 290a  ag_kind="hist").
-00005670: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00005680: 2020 2020 2020 2020 2020 736e 732e 7061            sns.pa
-00005690: 6972 706c 6f74 2864 665b 636f 6c73 5f73  irplot(df[cols_s
-000056a0: 656c 5d2c 2068 7565 203d 2063 6f6c 5f6c  el], hue = col_l
-000056b0: 6162 656c 2c20 7369 7a65 3d32 2c20 6b69  abel, size=2, ki
-000056c0: 6e64 3d27 7363 6174 7465 7227 2c64 6961  nd='scatter',dia
-000056d0: 675f 6b69 6e64 3d22 6869 7374 2229 0a20  g_kind="hist"). 
-000056e0: 2020 2020 2020 2070 6c74 2e73 686f 7728         plt.show(
-000056f0: 293b 0a20 2020 2070 6c6f 745f 6b65 795f  );.    plot_key_
-00005700: 636f 6c28 7472 6169 6e2c 2027 6c61 6265  col(train, 'labe
-00005710: 6c27 2c20 2763 5f30 272c 206b 203d 2031  l', 'c_0', k = 1
-00005720: 3029 0a20 2020 2070 6c6f 745f 6361 745f  0).    plot_cat_
-00005730: 6e75 6d28 7472 6169 6e2c 2027 6c61 6265  num(train, 'labe
-00005740: 6c27 2c20 2763 5f30 272c 206b 203d 2031  l', 'c_0', k = 1
-00005750: 3029 0a20 2020 2070 6c6f 745f 6361 745f  0).    plot_cat_
-00005760: 6361 7428 7472 6169 6e2c 2027 6c61 6265  cat(train, 'labe
-00005770: 6c27 2c20 2763 5f30 272c 206b 3120 3d20  l', 'c_0', k1 = 
-00005780: 3130 2c20 6b32 203d 2031 3030 290a 2020  10, k2 = 100).  
-00005790: 2020 706c 6f74 5f70 6169 7228 7472 6169    plot_pair(trai
-000057a0: 6e2c 2063 6f6c 735f 6361 745b 3a35 5d20  n, cols_cat[:5] 
-000057b0: 2b20 636f 6c73 5f6e 756d 5b3a 355d 2c20  + cols_num[:5], 
-000057c0: 6b20 3d20 3130 2c20 636f 6c5f 6c61 6265  k = 10, col_labe
-000057d0: 6c20 3d20 276c 6162 656c 2729 0a20 2020  l = 'label').   
-000057e0: 2072 0100 0000 7201 0000 0072 0100 0000   r....r....r....
-000057f0: 7201 0000 0072 0200 0000 da0b 706c 6f74  r....r......plot
-00005800: 5f63 6f6c 735f 322a 0200 0073 0200 0000  _cols_2*...s....
-00005810: 0001 7219 0000 0063 0000 0000 0000 0000  ..r....c........
-00005820: 0000 0000 0000 0000 0100 0000 4300 0000  ............C...
-00005830: 7304 0000 0064 0153 0029 024e 61f0 0100  s....d.S.).Na...
-00005840: 000a 2020 2020 6465 6620 706c 6f74 5f64  ..    def plot_d
-00005850: 665f 696d 7028 6466 5f69 6d70 2c20 636f  f_imp(df_imp, co
-00005860: 6c20 3d20 2763 6f6c 272c 2069 6d70 203d  l = 'col', imp =
-00005870: 2027 696d 7027 2c20 6b20 3d20 3230 293a   'imp', k = 20):
-00005880: 0a20 2020 2020 2020 2069 6d70 6f72 7420  .        import 
-00005890: 6d61 7470 6c6f 746c 6962 2e70 7970 6c6f  matplotlib.pyplo
-000058a0: 7420 6173 2070 6c74 0a20 2020 2020 2020  t as plt.       
-000058b0: 2069 6d70 6f72 7420 7365 6162 6f72 6e20   import seaborn 
-000058c0: 6173 2073 6e73 0a20 2020 2020 2020 2070  as sns.        p
-000058d0: 6c74 2e66 6967 7572 6528 6669 6773 697a  lt.figure(figsiz
-000058e0: 653d 2832 302c 206d 6178 2831 302c 206b  e=(20, max(10, k
-000058f0: 202f 2f20 3229 2929 0a20 2020 2020 2020   // 2))).       
-00005900: 2064 665f 696d 705f 736f 7274 203d 2064   df_imp_sort = d
-00005910: 665f 696d 702e 736f 7274 5f76 616c 7565  f_imp.sort_value
-00005920: 7328 6279 203d 2069 6d70 2c20 6173 6365  s(by = imp, asce
-00005930: 6e64 696e 6720 3d20 4661 6c73 6529 2e72  nding = False).r
-00005940: 6573 6574 5f69 6e64 6578 2864 726f 7020  eset_index(drop 
-00005950: 3d20 5472 7565 290a 2020 2020 2020 2020  = True).        
-00005960: 736e 732e 6261 7270 6c6f 7428 783d 696d  sns.barplot(x=im
-00005970: 702c 2079 3d63 6f6c 2c20 6461 7461 3d64  p, y=col, data=d
-00005980: 665f 696d 705f 736f 7274 5b3a 6b5d 290a  f_imp_sort[:k]).
-00005990: 2020 2020 2020 2020 706c 742e 7469 746c          plt.titl
-000059a0: 6528 2764 665f 696d 7027 2c20 666f 6e74  e('df_imp', font
-000059b0: 7369 7a65 203d 2032 3529 0a20 2020 2020  size = 25).     
-000059c0: 2020 2070 6c74 2e74 6967 6874 5f6c 6179     plt.tight_lay
-000059d0: 6f75 7428 290a 2020 2020 2020 2020 706c  out().        pl
-000059e0: 742e 7874 6963 6b73 2866 6f6e 7473 697a  t.xticks(fontsiz
-000059f0: 6520 3d20 3235 290a 2020 2020 2020 2020  e = 25).        
-00005a00: 706c 742e 7974 6963 6b73 2866 6f6e 7473  plt.yticks(fonts
-00005a10: 697a 6520 3d20 3235 290a 2020 2020 2020  ize = 25).      
-00005a20: 2020 706c 742e 7368 6f77 2829 0a20 2020    plt.show().   
-00005a30: 2072 0100 0000 7201 0000 0072 0100 0000   r....r....r....
-00005a40: 7201 0000 0072 0200 0000 da0b 706c 6f74  r....r......plot
-00005a50: 5f64 665f 696d 708d 0200 0073 0200 0000  _df_imp....s....
-00005a60: 0001 721a 0000 0063 0000 0000 0000 0000  ..r....c........
-00005a70: 0000 0000 0000 0000 0100 0000 4300 0000  ............C...
-00005a80: 7304 0000 0064 0153 0029 024e 618f 0200  s....d.S.).Na...
-00005a90: 000a 2020 2020 696d 706f 7274 2070 6c6f  ..    import plo
-00005aa0: 746c 792e 6772 6170 685f 6f62 6a65 6374  tly.graph_object
-00005ab0: 7320 6173 2067 6f0a 2020 2020 6672 6f6d  s as go.    from
-00005ac0: 2070 6c6f 746c 792e 6f66 666c 696e 6520   plotly.offline 
-00005ad0: 696d 706f 7274 2069 706c 6f74 0a20 2020  import iplot.   
-00005ae0: 2064 6566 2070 6c6f 745f 6375 6d73 756d   def plot_cumsum
-00005af0: 2864 665f 6963 5f6c 6973 742c 206d 6f64  (df_ic_list, mod
-00005b00: 656c 5f6c 6973 742c 2063 6f6c 5f64 6174  el_list, col_dat
-00005b10: 652c 2063 6f6c 203d 2027 6963 2729 3a0a  e, col = 'ic'):.
-00005b20: 2020 2020 2020 2020 6669 675f 6c69 7374          fig_list
-00005b30: 203d 205b 5d0a 2020 2020 2020 2020 666f   = [].        fo
-00005b40: 7220 6466 5f69 632c 206e 616d 6520 696e  r df_ic, name in
-00005b50: 207a 6970 2864 665f 6963 5f6c 6973 742c   zip(df_ic_list,
-00005b60: 206d 6f64 656c 5f6c 6973 7429 3a0a 2020   model_list):.  
-00005b70: 2020 2020 2020 2020 2020 6669 6720 3d20            fig = 
-00005b80: 676f 2e53 6361 7474 6572 2878 203d 2064  go.Scatter(x = d
-00005b90: 665f 6963 5b63 6f6c 5f64 6174 655d 2e61  f_ic[col_date].a
-00005ba0: 7374 7970 6528 7374 7229 2c20 0a20 2020  stype(str), .   
-00005bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005bc0: 2020 2020 2020 2020 2079 203d 2064 665f           y = df_
-00005bd0: 6963 5b63 6f6c 5d2e 6375 6d73 756d 2829  ic[col].cumsum()
-00005be0: 202f 206c 656e 2864 665f 6963 292c 0a20   / len(df_ic),. 
+00000770: 0100 0000 4300 0000 7304 0000 0064 0153  ....C...s....d.S
+00000780: 0029 024e 61c6 0300 000a 2020 2020 696d  .).Na.....    im
+00000790: 706f 7274 2073 7973 0a20 2020 2073 7973  port sys.    sys
+000007a0: 2e61 7267 7620 3d20 5b0a 2020 2020 2020  .argv = [.      
+000007b0: 2020 276d 6169 6e2e 7079 272c 200a 2020    'main.py', .  
+000007c0: 2020 2020 2020 276c 6762 272c 200a 2020        'lgb', .  
+000007d0: 2020 2020 2020 272d 2d6c 6162 656c 272c        '--label',
+000007e0: 2027 6c61 6265 6c2e 6e70 7927 2c20 0a20   'label.npy', . 
+000007f0: 2020 2020 2020 2027 2d2d 6e61 6d65 272c         '--name',
+00000800: 2027 4e41 4d45 272c 200a 2020 2020 2020   'NAME', .      
+00000810: 2020 272d 2d6c 7227 2c20 2730 2e31 272c    '--lr', '0.1',
+00000820: 200a 2020 2020 2020 2020 272d 2d6e 5f62   .        '--n_b
+00000830: 6f6f 7374 272c 2027 3130 3027 2c0a 2020  oost', '100',.  
+00000840: 2020 2020 2020 272d 2d64 6562 7567 272c        '--debug',
+00000850: 2023 2731 272c 2732 272c 0a20 2020 2020   #'1','2',.     
+00000860: 2020 2027 2d2d 6c61 7374 272c 2027 4c41     '--last', 'LA
+00000870: 5354 272c 0a20 2020 205d 0a0a 2020 2020  ST',.    ]..    
+00000880: 696d 706f 7274 2061 7267 7061 7273 650a  import argparse.
+00000890: 2020 2020 7061 7273 6572 203d 2061 7267      parser = arg
+000008a0: 7061 7273 652e 4172 6775 6d65 6e74 5061  parse.ArgumentPa
+000008b0: 7273 6572 2829 0a20 2020 2070 6172 7365  rser().    parse
+000008c0: 722e 6164 645f 6172 6775 6d65 6e74 2827  r.add_argument('
+000008d0: 6273 7427 2c20 6368 6f69 6365 733d 5b27  bst', choices=['
+000008e0: 6c67 6227 2c20 2778 6762 272c 2027 6361  lgb', 'xgb', 'ca
+000008f0: 7427 5d29 2023 206f 7264 6572 200a 2020  t']) # order .  
+00000900: 2020 7061 7273 6572 2e61 6464 5f61 7267    parser.add_arg
+00000910: 756d 656e 7428 272d 2d6c 6162 656c 272c  ument('--label',
+00000920: 2074 7970 6520 3d20 7374 722c 2072 6571   type = str, req
+00000930: 7569 7265 643d 5472 7565 2920 2320 7265  uired=True) # re
+00000940: 7175 6972 6564 0a20 2020 2070 6172 7365  quired.    parse
+00000950: 722e 6164 645f 6172 6775 6d65 6e74 2827  r.add_argument('
+00000960: 2d2d 6e61 6d65 272c 2074 7970 653d 7374  --name', type=st
+00000970: 722c 2064 6566 6175 6c74 3d27 6465 6275  r, default='debu
+00000980: 6727 2920 2023 2073 7472 0a20 2020 2070  g')  # str.    p
+00000990: 6172 7365 722e 6164 645f 6172 6775 6d65  arser.add_argume
+000009a0: 6e74 2827 2d2d 6c72 272c 2074 7970 653d  nt('--lr', type=
+000009b0: 666c 6f61 742c 2064 6566 6175 6c74 3d30  float, default=0
+000009c0: 2e30 3129 2020 2020 2023 2066 6c6f 6174  .01)     # float
+000009d0: 0a20 2020 2070 6172 7365 722e 6164 645f  .    parser.add_
+000009e0: 6172 6775 6d65 6e74 2827 2d2d 6e5f 626f  argument('--n_bo
+000009f0: 6f73 7427 2c20 7479 7065 3d69 6e74 2c20  ost', type=int, 
+00000a00: 6465 6661 756c 743d 3130 3030 2920 2023  default=1000)  #
+00000a10: 2069 6e74 0a20 2020 2070 6172 7365 722e   int.    parser.
+00000a20: 6164 645f 6172 6775 6d65 6e74 2827 2d2d  add_argument('--
+00000a30: 6465 6275 6727 2c20 6e61 7267 733d 272a  debug', nargs='*
+00000a40: 272c 2064 6566 6175 6c74 3d5b 5d2c 2068  ', default=[], h
+00000a50: 656c 703d 2768 656c 7020 696e 666f 2729  elp='help info')
+00000a60: 2023 2061 6e79 206e 756d 6265 7220 6f66   # any number of
+00000a70: 0a20 2020 2070 6172 7365 722e 6164 645f  .    parser.add_
+00000a80: 6172 6775 6d65 6e74 2827 2d2d 6c61 7374  argument('--last
+00000a90: 272c 2074 7970 653d 7374 722c 2064 6566  ', type=str, def
+00000aa0: 6175 6c74 3d27 6c61 7374 2729 0a20 2020  ault='last').   
+00000ab0: 2061 7267 7320 3d20 7061 7273 6572 2e70   args = parser.p
+00000ac0: 6172 7365 5f61 7267 7328 290a 2020 2020  arse_args().    
+00000ad0: 7072 696e 7428 6172 6773 290a 2020 2020  print(args).    
+00000ae0: 2320 4e61 6d65 7370 6163 6528 6273 743d  # Namespace(bst=
+00000af0: 276c 6762 272c 206c 6162 656c 3d27 6c61  'lgb', label='la
+00000b00: 6265 6c2e 6e70 7927 2c20 6e61 6d65 3d27  bel.npy', name='
+00000b10: 4e41 4d45 272c 206c 723d 302e 312c 206e  NAME', lr=0.1, n
+00000b20: 5f62 6f6f 7374 3d31 3030 2c20 6465 6275  _boost=100, debu
+00000b30: 673d 5b27 3127 2c20 2732 275d 2c20 6c61  g=['1', '2'], la
+00000b40: 7374 3d27 4c41 5354 2729 0a20 2020 2072  st='LAST').    r
+00000b50: 0100 0000 7201 0000 0072 0100 0000 7201  ....r....r....r.
+00000b60: 0000 0072 0200 0000 da0a 7061 7273 655f  ...r......parse_
+00000b70: 6172 6773 3d00 0000 7302 0000 0000 0172  args=...s......r
+00000b80: 0400 0000 6300 0000 0000 0000 0000 0000  ....c...........
+00000b90: 0000 0000 0001 0000 0043 0000 0073 0400  .........C...s..
+00000ba0: 0000 6401 5300 2902 4e61 c30a 0000 0a20  ..d.S.).Na..... 
+00000bb0: 2020 2070 6174 685f 696e 7075 7420 3d20     path_input = 
+00000bc0: 272e 2e2e 270a 2020 2020 6461 7461 5f6e  '...'.    data_n
+00000bd0: 616d 6520 3d20 2764 6174 612e 6e70 7927  ame = 'data.npy'
+00000be0: 0a20 2020 206d 6173 6b5f 6e61 6d65 203d  .    mask_name =
+00000bf0: 2027 6d61 736b 2e6e 7079 270a 2020 2020   'mask.npy'.    
+00000c00: 7061 7468 5f6c 6162 656c 203d 2066 277b  path_label = f'{
+00000c10: 7061 7468 5f69 6e70 7574 7d2f 6c61 6265  path_input}/labe
+00000c20: 6c73 2e6e 7079 270a 2020 2020 7472 6169  ls.npy'.    trai
+00000c30: 6e5f 7031 7032 203d 205b 302c 2033 305d  n_p1p2 = [0, 30]
+00000c40: 0a20 2020 2074 6573 745f 7031 7032 203d  .    test_p1p2 =
+00000c50: 205b 3330 2c20 3530 5d0a 2020 2020 7061   [30, 50].    pa
+00000c60: 6464 696e 6720 3d20 310a 0a20 2020 2023  dding = 1..    #
+00000c70: 2070 6164 6469 6e67 2061 6e64 2070 3170   padding and p1p
+00000c80: 320a 2020 2020 6966 2070 6164 6469 6e67  2.    if padding
+00000c90: 203d 3d20 313a 0a20 2020 2020 2020 2079   == 1:.        y
+00000ca0: 5f69 6478 203d 2030 0a20 2020 2065 6c69  _idx = 0.    eli
+00000cb0: 6620 7061 6464 696e 6720 3d3d 2035 3a0a  f padding == 5:.
+00000cc0: 2020 2020 2020 2020 795f 6964 7820 3d20          y_idx = 
+00000cd0: 310a 2020 2020 656c 6966 2070 6164 6469  1.    elif paddi
+00000ce0: 6e67 203d 3d20 3230 3a0a 2020 2020 2020  ng == 20:.      
+00000cf0: 2020 795f 6964 7820 3d20 320a 2020 2020    y_idx = 2.    
+00000d00: 7472 6169 6e5f 7031 7032 5b31 5d20 2d3d  train_p1p2[1] -=
+00000d10: 2070 6164 6469 6e67 0a20 2020 2074 7261   padding.    tra
+00000d20: 696e 5f70 3170 3220 3d20 5b78 2025 206e  in_p1p2 = [x % n
+00000d30: 2066 6f72 2078 2069 6e20 7472 6169 6e5f   for x in train_
+00000d40: 7031 7032 5d0a 2020 2020 7465 7374 5f70  p1p2].    test_p
+00000d50: 3170 3220 3d20 5b78 2025 206e 2066 6f72  1p2 = [x % n for
+00000d60: 2078 2069 6e20 7465 7374 5f70 3170 325d   x in test_p1p2]
+00000d70: 0a20 2020 2069 6620 7465 7374 5f70 3170  .    if test_p1p
+00000d80: 325b 315d 203d 3d20 303a 2074 6573 745f  2[1] == 0: test_
+00000d90: 7031 7032 5b31 5d20 3d20 6e0a 2020 2020  p1p2[1] = n.    
+00000da0: 7472 6169 6e5f 7031 7032 5b30 5d20 3d20  train_p1p2[0] = 
+00000db0: 6d61 7828 302c 2074 7261 696e 5f70 3170  max(0, train_p1p
+00000dc0: 325b 305d 290a 0a20 2020 2023 2064 6174  2[0])..    # dat
+00000dd0: 6120 7368 6170 650a 2020 2020 7072 696e  a shape.    prin
+00000de0: 7428 275b 2b5d 202d 2d2d 2d2d 2d2d 2d2d  t('[+] ---------
+00000df0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00000e00: 2d2d 2d2d 2d20 696e 666f 202d 2d2d 2d2d  ----- info -----
+00000e10: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00000e20: 2d2d 2d2d 2d2d 2d2d 2d20 2729 0a20 2020  --------- ').   
+00000e30: 2070 6174 685f 6461 7461 203d 2066 277b   path_data = f'{
+00000e40: 7061 7468 5f69 6e70 7574 7d2f 7b64 6174  path_input}/{dat
+00000e50: 615f 6e61 6d65 7d27 0a20 2020 2064 6174  a_name}'.    dat
+00000e60: 615f 7368 6170 6520 3d20 727a 2e75 7469  a_shape = rz.uti
+00000e70: 6c2e 6e70 792e 7265 6164 5f6e 7079 5f68  l.npy.read_npy_h
+00000e80: 6561 6465 7228 7061 7468 5f64 6174 6129  eader(path_data)
+00000e90: 5b30 5d0a 2020 2020 7072 696e 7428 6627  [0].    print(f'
+00000ea0: 5b2b 5d20 7368 6170 655f 616c 6c20 203d  [+] shape_all  =
+00000eb0: 207b 6461 7461 5f73 6861 7065 7d2c 206d   {data_shape}, m
+00000ec0: 656d 203d 207b 6e70 2e70 726f 6428 6461  em = {np.prod(da
+00000ed0: 7461 5f73 6861 7065 2920 2a20 343a 2c2e  ta_shape) * 4:,.
+00000ee0: 3066 7d27 290a 0a20 2020 2023 206d 6173  0f}')..    # mas
+00000ef0: 6b0a 2020 2020 7061 7468 5f6d 6173 6b20  k.    path_mask 
+00000f00: 3d20 6627 7b70 6174 685f 696e 7075 747d  = f'{path_input}
+00000f10: 2f7b 6d61 736b 5f6e 616d 657d 270a 2020  /{mask_name}'.  
+00000f20: 2020 6d61 736b 203d 206e 702e 6c6f 6164    mask = np.load
+00000f30: 2870 6174 685f 6d61 736b 290a 2020 2020  (path_mask).    
+00000f40: 6e20 3d20 6c65 6e28 6d61 736b 290a 2020  n = len(mask).  
+00000f50: 2020 6d61 736b 5f72 6174 696f 203d 206e    mask_ratio = n
+00000f60: 702e 6e61 6e73 756d 286d 6173 6b29 202f  p.nansum(mask) /
+00000f70: 206e 702e 7072 6f64 286d 6173 6b2e 7368   np.prod(mask.sh
+00000f80: 6170 6529 0a20 2020 206d 656d 5f6d 6178  ape).    mem_max
+00000f90: 203d 2032 5f30 3030 5f30 3030 5f30 3030   = 2_000_000_000
+00000fa0: 0a20 2020 206d 656d 5f6f 6e65 5f74 6920  .    mem_one_ti 
+00000fb0: 3d20 6e70 2e70 726f 6428 6461 7461 5f73  = np.prod(data_s
+00000fc0: 6861 7065 5b2d 323a 5d29 202a 2034 202a  hape[-2:]) * 4 *
+00000fd0: 206d 6173 6b5f 7261 7469 6f0a 2020 2020   mask_ratio.    
+00000fe0: 6e5f 7469 5f74 7261 696e 203d 2069 6e74  n_ti_train = int
+00000ff0: 286d 656d 5f6d 6178 202f 206d 656d 5f6f  (mem_max / mem_o
+00001000: 6e65 5f74 6920 2f2f 2031 3030 202a 2031  ne_ti // 100 * 1
+00001010: 3030 290a 2020 2020 7072 696e 7428 6627  00).    print(f'
+00001020: 5b2b 5d20 6d61 736b 5f72 6174 696f 203d  [+] mask_ratio =
+00001030: 207b 6d61 736b 5f72 6174 696f 3a2e 3466   {mask_ratio:.4f
+00001040: 7d2c 204d 454d 5f4d 4158 203d 207b 6d65  }, MEM_MAX = {me
+00001050: 6d5f 6d61 783a 2c2e 3066 7d2c 206e 5f74  m_max:,.0f}, n_t
+00001060: 695f 7472 6169 6e20 3d20 7b6e 5f74 695f  i_train = {n_ti_
+00001070: 7472 6169 6e7d 2729 0a0a 2020 2020 2320  train}')..    # 
+00001080: 6d61 736b 2c20 7472 6169 6e2c 2074 6573  mask, train, tes
+00001090: 740a 2020 2020 7072 696e 7428 275b 2b5d  t.    print('[+]
+000010a0: 202d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d   ---------------
+000010b0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d20  --------------- 
+000010c0: 6d61 736b 202d 2d2d 2d2d 2d2d 2d2d 2d2d  mask -----------
+000010d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000010e0: 2d2d 2d20 2729 0a20 2020 206d 6173 6b5f  --- ').    mask_
+000010f0: 7472 6169 6e20 3d20 6d61 736b 5b74 7261  train = mask[tra
+00001100: 696e 5f70 3170 325b 305d 3a20 7472 6169  in_p1p2[0]: trai
+00001110: 6e5f 7031 7032 5b31 5d5d 0a20 2020 206d  n_p1p2[1]].    m
+00001120: 6173 6b5f 7465 7374 203d 206d 6173 6b5b  ask_test = mask[
+00001130: 7465 7374 5f70 3170 325b 305d 3a20 7465  test_p1p2[0]: te
+00001140: 7374 5f70 3170 325b 315d 5d0a 2020 2020  st_p1p2[1]].    
+00001150: 6e5f 616c 6c2c 206e 5f74 7261 696e 2c20  n_all, n_train, 
+00001160: 6e5f 7465 7374 203d 2069 6e74 286e 702e  n_test = int(np.
+00001170: 6e61 6e73 756d 286d 6173 6b29 292c 2069  nansum(mask)), i
+00001180: 6e74 286e 702e 6e61 6e73 756d 286d 6173  nt(np.nansum(mas
+00001190: 6b5f 7472 6169 6e29 292c 2069 6e74 286e  k_train)), int(n
+000011a0: 702e 6e61 6e73 756d 286d 6173 6b5f 7465  p.nansum(mask_te
+000011b0: 7374 2929 0a20 2020 2070 7269 6e74 2866  st)).    print(f
+000011c0: 275b 2b5d 2070 6164 6469 6e67 2020 2020  '[+] padding    
+000011d0: 3d20 7b70 6164 6469 6e67 7d2c 2079 5f69  = {padding}, y_i
+000011e0: 6478 203d 207b 795f 6964 787d 2027 290a  dx = {y_idx} ').
+000011f0: 2020 2020 7072 696e 7428 6627 5b2b 5d20      print(f'[+] 
+00001200: 7472 6169 6e5f 7031 7032 203d 207b 7472  train_p1p2 = {tr
+00001210: 6169 6e5f 7031 7032 7d2c 2074 6573 745f  ain_p1p2}, test_
+00001220: 7031 7032 203d 207b 7465 7374 5f70 3170  p1p2 = {test_p1p
+00001230: 327d 2729 0a20 2020 2070 7269 6e74 2866  2}').    print(f
+00001240: 275b 2b5d 206d 6173 6b3a 616c 6c20 2020  '[+] mask:all   
+00001250: 3d20 7b6d 6173 6b2e 7368 6170 657d 203d  = {mask.shape} =
+00001260: 207b 6e5f 616c 6c7d 2729 0a20 2020 2070   {n_all}').    p
+00001270: 7269 6e74 2866 275b 2b5d 206d 6173 6b3a  rint(f'[+] mask:
+00001280: 7472 6169 6e20 3d20 7b6d 6173 6b5f 7472  train = {mask_tr
+00001290: 6169 6e2e 7368 6170 657d 203d 207b 6e5f  ain.shape} = {n_
+000012a0: 7472 6169 6e7d 2c20 7465 7374 203d 207b  train}, test = {
+000012b0: 6d61 736b 5f74 6573 742e 7368 6170 657d  mask_test.shape}
+000012c0: 203d 207b 6e5f 7465 7374 7d27 290a 2020   = {n_test}').  
+000012d0: 2020 727a 2e67 6574 5f6d 656d 5f63 7572    rz.get_mem_cur
+000012e0: 2829 2c20 727a 2e67 6574 5f6d 656d 5f6d  (), rz.get_mem_m
+000012f0: 6178 2829 3b0a 0a20 2020 2023 206c 6f61  ax();..    # loa
+00001300: 6420 582c 2079 0a20 2020 2070 7269 6e74  d X, y.    print
+00001310: 2827 5b2b 5d20 2d2d 2d2d 2d2d 2d2d 2d2d  ('[+] ----------
+00001320: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001330: 2d2d 2d2d 2058 2c20 7920 2d2d 2d2d 2d2d  ---- X, y ------
+00001340: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00001350: 2d2d 2d2d 2d2d 2d2d 2027 290a 2020 2020  -------- ').    
+00001360: 6964 785f 7472 6169 6e20 3d20 727a 2e75  idx_train = rz.u
+00001370: 7469 6c2e 6e70 792e 6d61 736b 5f32 5f69  til.npy.mask_2_i
+00001380: 6478 286d 6173 6b29 5b74 7261 696e 5f70  dx(mask)[train_p
+00001390: 3170 325b 305d 3a20 7472 6169 6e5f 7031  1p2[0]: train_p1
+000013a0: 7032 5b31 5d5d 5b6d 6173 6b5f 7472 6169  p2[1]][mask_trai
+000013b0: 6e20 3d3d 2031 5d0a 2020 2020 585f 7472  n == 1].    X_tr
+000013c0: 6169 6e20 3d20 727a 2e75 7469 6c2e 6e70  ain = rz.util.np
+000013d0: 792e 6c6f 6164 5f6e 7079 5f69 6478 2870  y.load_npy_idx(p
+000013e0: 6174 685f 6461 7461 2c20 6964 785f 7472  ath_data, idx_tr
+000013f0: 6169 6e2e 7261 7665 6c28 292c 2063 6f6c  ain.ravel(), col
+00001400: 7320 3d20 4e6f 6e65 2c20 7665 7262 6f73  s = None, verbos
+00001410: 6520 3d20 5472 7565 290a 2020 2020 795f  e = True).    y_
+00001420: 7472 6169 6e20 3d20 727a 2e75 7469 6c2e  train = rz.util.
+00001430: 6e70 792e 6c6f 6164 5f6e 7079 5f69 6478  npy.load_npy_idx
+00001440: 2870 6174 685f 6461 7461 2c20 6964 785f  (path_data, idx_
+00001450: 7472 6169 6e2e 7261 7665 6c28 292c 2063  train.ravel(), c
+00001460: 6f6c 7320 3d20 5b79 5f69 6478 5d2c 2076  ols = [y_idx], v
+00001470: 6572 626f 7365 203d 2046 616c 7365 290a  erbose = False).
+00001480: 2020 2020 6964 785f 7465 7374 203d 2072      idx_test = r
+00001490: 7a2e 7574 696c 2e6e 7079 2e6d 6173 6b5f  z.util.npy.mask_
+000014a0: 325f 6964 7828 6d61 736b 295b 7465 7374  2_idx(mask)[test
+000014b0: 5f70 3170 325b 305d 3a20 7465 7374 5f70  _p1p2[0]: test_p
+000014c0: 3170 325b 315d 5d5b 6d61 736b 5f74 6573  1p2[1]][mask_tes
+000014d0: 7420 3d3d 2031 5d0a 2020 2020 585f 7465  t == 1].    X_te
+000014e0: 7374 203d 2072 7a2e 7574 696c 2e6e 7079  st = rz.util.npy
+000014f0: 2e6c 6f61 645f 6e70 795f 6964 7828 7061  .load_npy_idx(pa
+00001500: 7468 5f64 6174 612c 2069 6478 5f74 6573  th_data, idx_tes
+00001510: 742e 7261 7665 6c28 292c 2063 6f6c 7320  t.ravel(), cols 
+00001520: 3d20 4e6f 6e65 2c20 7665 7262 6f73 6520  = None, verbose 
+00001530: 3d20 4661 6c73 6529 0a20 2020 2079 5f74  = False).    y_t
+00001540: 6573 7420 3d20 727a 2e75 7469 6c2e 6e70  est = rz.util.np
+00001550: 792e 6c6f 6164 5f6e 7079 5f69 6478 2870  y.load_npy_idx(p
+00001560: 6174 685f 6461 7461 2c20 6964 785f 7465  ath_data, idx_te
+00001570: 7374 2e72 6176 656c 2829 2c20 636f 6c73  st.ravel(), cols
+00001580: 203d 205b 795f 6964 785d 2c20 7665 7262   = [y_idx], verb
+00001590: 6f73 6520 3d20 4661 6c73 6529 0a20 2020  ose = False).   
+000015a0: 2070 7269 6e74 2866 275b 2b5d 2058 5f74   print(f'[+] X_t
+000015b0: 7261 696e 203d 207b 585f 7472 6169 6e2e  rain = {X_train.
+000015c0: 7368 6170 657d 2c20 6d65 6d20 3d20 7b6e  shape}, mem = {n
+000015d0: 702e 7072 6f64 2858 5f74 7261 696e 2e73  p.prod(X_train.s
+000015e0: 6861 7065 2920 2a20 343a 2c2e 3066 7d27  hape) * 4:,.0f}'
+000015f0: 290a 2020 2020 7072 696e 7428 6627 5b2b  ).    print(f'[+
+00001600: 5d20 585f 7465 7374 2020 3d20 7b58 5f74  ] X_test  = {X_t
+00001610: 6573 742e 7368 6170 657d 2c20 6d65 6d20  est.shape}, mem 
+00001620: 3d20 7b6e 702e 7072 6f64 2858 5f74 6573  = {np.prod(X_tes
+00001630: 742e 7368 6170 6529 202a 2034 3a2c 2e30  t.shape) * 4:,.0
+00001640: 667d 2729 0a20 2020 2072 7a2e 6765 745f  f}').    rz.get_
+00001650: 6d65 6d5f 6375 7228 292c 2072 7a2e 6765  mem_cur(), rz.ge
+00001660: 745f 6d65 6d5f 6d61 7828 293b 0a20 2020  t_mem_max();.   
+00001670: 2072 0100 0000 7201 0000 0072 0100 0000   r....r....r....
+00001680: 7201 0000 0072 0200 0000 da09 7265 6164  r....r......read
+00001690: 5f64 6174 6159 0000 0073 0200 0000 0001  _dataY...s......
+000016a0: 7205 0000 0063 0000 0000 0000 0000 0000  r....c..........
+000016b0: 0000 0000 0000 0100 0000 4300 0000 7304  ..........C...s.
+000016c0: 0000 0064 0153 0029 024e 6174 0b00 000a  ...d.S.).Nat....
+000016d0: 2020 2020 636c 6173 7320 4261 7365 4461      class BaseDa
+000016e0: 7461 2829 3a0a 2020 2020 2020 2020 6465  ta():.        de
+000016f0: 6620 6765 745f 6466 2873 656c 662c 2070  f get_df(self, p
+00001700: 6174 685f 696e 7075 742c 2064 6174 655f  ath_input, date_
+00001710: 6265 6769 6e2c 2064 6174 655f 656e 642c  begin, date_end,
+00001720: 206e 5f6a 6f62 7329 3a0a 2020 2020 2020   n_jobs):.      
+00001730: 2020 2020 2020 7261 6973 6520 4e6f 7449        raise NotI
+00001740: 6d70 6c65 6d65 6e74 6564 4572 726f 7228  mplementedError(
+00001750: 2779 6f75 206e 6565 6420 746f 2069 6d70  'you need to imp
+00001760: 6c65 6d65 6e74 2067 6574 5f64 6628 2927  lement get_df()'
+00001770: 290a 0a20 2020 2020 2020 2064 6566 206c  )..        def l
+00001780: 6f61 6428 7365 6c66 2c20 6e5f 6a6f 6273  oad(self, n_jobs
+00001790: 203d 2034 2c20 2a2a 6b77 6172 6773 293a   = 4, **kwargs):
+000017a0: 0a20 2020 2020 2020 2020 2020 2023 2069  .            # i
+000017b0: 6e70 7574 0a20 2020 2020 2020 2020 2020  nput.           
+000017c0: 2070 6174 685f 696e 7075 7420 3d20 6b77   path_input = kw
+000017d0: 6172 6773 5b27 7061 7468 5f69 6e70 7574  args['path_input
+000017e0: 275d 0a20 2020 2020 2020 2020 2020 2064  '].            d
+000017f0: 6174 655f 6469 6374 203d 206b 7761 7267  ate_dict = kwarg
+00001800: 735b 2764 6174 655f 6469 6374 275d 0a20  s['date_dict']. 
+00001810: 2020 2020 2020 2020 2020 2063 6f6c 735f             cols_
+00001820: 6469 6374 203d 206b 7761 7267 735b 2763  dict = kwargs['c
+00001830: 6f6c 735f 6469 6374 275d 0a20 2020 2020  ols_dict'].     
+00001840: 2020 2020 2020 200a 2020 2020 2020 2020         .        
+00001850: 2020 2020 636f 6c5f 6964 203d 2063 6f6c      col_id = col
+00001860: 735f 6469 6374 5b27 636f 6c5f 6964 275d  s_dict['col_id']
+00001870: 0a20 2020 2020 2020 2020 2020 2063 6f6c  .            col
+00001880: 5f6c 6162 656c 203d 2063 6f6c 735f 6469  _label = cols_di
+00001890: 6374 5b27 636f 6c5f 6c61 6265 6c27 5d0a  ct['col_label'].
+000018a0: 2020 2020 2020 2020 2020 2020 636f 6c73              cols
+000018b0: 5f74 6964 203d 2063 6f6c 735f 6469 6374  _tid = cols_dict
+000018c0: 5b27 636f 6c73 5f74 6964 275d 0a20 2020  ['cols_tid'].   
+000018d0: 2020 2020 2020 2020 2069 6620 6c65 6e28           if len(
+000018e0: 636f 6c73 5f74 6964 2920 3d3d 2031 3a0a  cols_tid) == 1:.
+000018f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001900: 636f 6c5f 7469 6420 3d20 636f 6c73 5f74  col_tid = cols_t
+00001910: 6964 5b30 5d0a 2020 2020 2020 2020 2020  id[0].          
+00001920: 2020 656c 7365 3a20 2020 0a20 2020 2020    else:   .     
+00001930: 2020 2020 2020 2020 2020 2063 6f6c 5f74             col_t
+00001940: 6964 203d 2066 2278 287b 272c 2027 2e6a  id = f"x({', '.j
+00001950: 6f69 6e28 636f 6c73 5f74 6964 297d 2922  oin(cols_tid)})"
+00001960: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
+00001970: 646d 0a20 2020 2020 2020 2020 2020 2064  dm.            d
+00001980: 6620 3d20 7365 6c66 2e67 6574 5f64 6628  f = self.get_df(
+00001990: 7061 7468 5f69 6e70 7574 2c20 2a64 6174  path_input, *dat
+000019a0: 655f 6469 6374 5b27 616c 6c27 5d2c 206e  e_dict['all'], n
+000019b0: 5f6a 6f62 7329 0a20 2020 2020 2020 2020  _jobs).         
+000019c0: 2020 2064 6d20 3d20 4461 7461 4d61 7374     dm = DataMast
+000019d0: 6572 2864 662c 2076 6572 626f 7365 203d  er(df, verbose =
+000019e0: 2046 616c 7365 2c20 6b65 6570 5f73 7061   False, keep_spa
+000019f0: 6365 203d 2054 7275 6529 0a20 2020 2020  ce = True).     
+00001a00: 2020 2020 2020 2064 6d2e 736f 7274 5f76         dm.sort_v
+00001a10: 616c 7565 7328 636f 6c73 5f74 6964 202b  alues(cols_tid +
+00001a20: 205b 636f 6c5f 6964 5d29 0a20 2020 2020   [col_id]).     
+00001a30: 2020 2020 2020 2064 6d2e 6665 5f67 6f28         dm.fe_go(
+00001a40: 5b63 6f6c 5f74 6964 5d2c 2076 6572 626f  [col_tid], verbo
+00001a50: 7365 203d 2046 616c 7365 290a 2020 2020  se = False).    
+00001a60: 2020 2020 2020 2020 0a20 2020 2020 2020          .       
+00001a70: 2020 2020 2023 206c 6162 656c 0a20 2020       # label.   
+00001a80: 2020 2020 2020 2020 206e 616d 655f 6c69           name_li
+00001a90: 7374 203d 205b 0a20 2020 2020 2020 2020  st = [.         
+00001aa0: 2020 2020 2020 2066 2776 7761 7020 3d20         f'vwap = 
+00001ab0: 6469 7628 616d 6f75 6e74 2c20 766f 6c29  div(amount, vol)
+00001ac0: 272c 0a20 2020 2020 2020 2020 2020 2020  ',.             
+00001ad0: 2020 2066 2770 7265 5f76 7761 7020 3d20     f'pre_vwap = 
+00001ae0: 726f 6c6c 2873 6869 6674 2c20 7b63 6f6c  roll(shift, {col
+00001af0: 5f69 647d 2c20 7677 6170 2c20 7b63 6f6c  _id}, vwap, {col
+00001b00: 5f74 6964 7d2c 2031 2927 2c0a 2020 2020  _tid}, 1)',.    
+00001b10: 2020 2020 2020 2020 2020 2020 6627 7677              f'vw
+00001b20: 6170 5f72 6574 203d 2072 6574 2870 7265  ap_ret = ret(pre
+00001b30: 5f76 7761 702c 2076 7761 7029 272c 0a20  _vwap, vwap)',. 
+00001b40: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+00001b50: 277b 636f 6c5f 6c61 6265 6c7d 203d 2072  '{col_label} = r
+00001b60: 6f6c 6c28 7368 6966 742c 207b 636f 6c5f  oll(shift, {col_
+00001b70: 6964 7d2c 2076 7761 705f 7265 742c 207b  id}, vwap_ret, {
+00001b80: 636f 6c5f 7469 647d 2c20 2d31 2927 2c0a  col_tid}, -1)',.
+00001b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ba0: 2320 276c 6162 656c 5f72 6177 203d 206f  # 'label_raw = o
+00001bb0: 286c 6162 656c 2927 2c0a 2020 2020 2020  (label)',.      
+00001bc0: 2020 2020 2020 2020 2020 6627 7b63 6f6c            f'{col
+00001bd0: 5f6c 6162 656c 7d20 3d20 6167 6728 7a73  _label} = agg(zs
+00001be0: 636f 7265 2c20 7b63 6f6c 5f74 6964 7d2c  core, {col_tid},
+00001bf0: 207b 636f 6c5f 6c61 6265 6c7d 2927 2023   {col_label})' #
+00001c00: 206d 6173 6b0a 2020 2020 2020 2020 2020   mask.          
+00001c10: 2020 5d0a 2020 2020 2020 2020 2020 2020    ].            
+00001c20: 646d 2e66 655f 676f 286e 616d 655f 6c69  dm.fe_go(name_li
+00001c30: 7374 2c20 7665 7262 6f73 6520 3d20 4661  st, verbose = Fa
+00001c40: 6c73 6529 0a0a 2020 2020 2020 2020 2020  lse)..          
+00001c50: 2020 2320 6d61 736b 0a20 2020 2020 2020    # mask.       
+00001c60: 2020 2020 206d 6173 6b5f 7a64 7420 3d20       mask_zdt = 
+00001c70: 646d 2e64 665f 6469 6374 5b27 5430 275d  dm.df_dict['T0']
+00001c80: 5b27 7063 745f 6368 6727 5d2e 746f 5f70  ['pct_chg'].to_p
+00001c90: 616e 6461 7328 292e 6162 7328 2920 3c20  andas().abs() < 
+00001ca0: 392e 3835 0a20 2020 2020 2020 2020 2020  9.85.           
+00001cb0: 2064 6d2e 7365 745f 6d61 736b 286d 6173   dm.set_mask(mas
+00001cc0: 6b5f 7a64 742c 2027 7a64 7427 290a 2020  k_zdt, 'zdt').  
+00001cd0: 2020 2020 2020 2020 2020 6d61 736b 5f61            mask_a
+00001ce0: 6c6c 203d 2028 7e6e 702e 6973 6e61 6e28  ll = (~np.isnan(
+00001cf0: 646d 2e64 665f 6469 6374 5b27 5430 275d  dm.df_dict['T0']
+00001d00: 5b63 6f6c 5f6c 6162 656c 5d2e 746f 5f6e  [col_label].to_n
+00001d10: 756d 7079 2829 2929 2e61 7374 7970 6528  umpy())).astype(
+00001d20: 6e70 2e69 6e74 3332 290a 2020 2020 2020  np.int32).      
+00001d30: 2020 2020 2020 646d 2e73 6574 5f6d 6173        dm.set_mas
+00001d40: 6b28 6d61 736b 5f61 6c6c 2c20 2761 6c6c  k(mask_all, 'all
+00001d50: 2729 0a20 2020 2020 2020 2020 2020 2070  ').            p
+00001d60: 7269 6e74 2866 275b 2b5d 207a 6474 203d  rint(f'[+] zdt =
+00001d70: 207b 6d61 736b 5f7a 6474 2e73 756d 2829   {mask_zdt.sum()
+00001d80: 7d20 2f20 7b6c 656e 286d 6173 6b5f 7a64  } / {len(mask_zd
+00001d90: 7429 7d2c 207a 6474 5f72 6174 696f 203d  t)}, zdt_ratio =
+00001da0: 207b 6d61 736b 5f7a 6474 2e73 756d 2829   {mask_zdt.sum()
+00001db0: 202f 206c 656e 286d 6173 6b5f 7a64 7429   / len(mask_zdt)
+00001dc0: 7d27 290a 2020 2020 2020 2020 2020 2020  }').            
+00001dd0: 7072 696e 7428 6627 5b2b 5d20 616c 6c20  print(f'[+] all 
+00001de0: 3d20 7b6d 6173 6b5f 616c 6c2e 7375 6d28  = {mask_all.sum(
+00001df0: 297d 202f 207b 6c65 6e28 6d61 736b 5f61  )} / {len(mask_a
+00001e00: 6c6c 297d 2c20 616c 6c5f 7261 7469 6f20  ll)}, all_ratio 
+00001e10: 3d20 7b6d 6173 6b5f 616c 6c2e 7375 6d28  = {mask_all.sum(
+00001e20: 2920 2f20 6c65 6e28 6d61 736b 5f61 6c6c  ) / len(mask_all
+00001e30: 297d 2729 0a20 2020 2020 2020 2020 2020  )}').           
+00001e40: 2078 203d 2064 6d2e 6466 5f64 6963 745b   x = dm.df_dict[
+00001e50: 2754 3027 5d5b 636f 6c5f 7469 645d 2e74  'T0'][col_tid].t
+00001e60: 6f5f 6e75 6d70 7928 290a 2020 2020 2020  o_numpy().      
+00001e70: 2020 2020 2020 666f 7220 6b65 7920 696e        for key in
+00001e80: 2073 6f72 7465 6428 6461 7465 5f64 6963   sorted(date_dic
+00001e90: 742e 6b65 7973 2829 293a 0a20 2020 2020  t.keys()):.     
+00001ea0: 2020 2020 2020 2020 2020 2064 6174 655f             date_
+00001eb0: 6265 6769 6e2c 2064 6174 655f 656e 6420  begin, date_end 
+00001ec0: 3d20 6461 7465 5f64 6963 745b 6b65 795d  = date_dict[key]
+00001ed0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001ee0: 2069 6620 6b65 7920 3d3d 2027 7472 6169   if key == 'trai
+00001ef0: 6e27 3a0a 2020 2020 2020 2020 2020 2020  n':.            
+00001f00: 2020 2020 2020 2020 6d61 736b 203d 2020          mask =  
+00001f10: 2878 203e 3d20 6461 7465 5f62 6567 696e  (x >= date_begin
+00001f20: 2920 2620 2878 203c 2064 6174 655f 656e  ) & (x < date_en
+00001f30: 6429 2023 2064 726f 7020 3120 6461 790a  d) # drop 1 day.
+00001f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001f50: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00001f60: 2020 2020 2020 2020 2020 6d61 736b 203d            mask =
+00001f70: 2020 2878 203e 3d20 6461 7465 5f62 6567    (x >= date_beg
+00001f80: 696e 2920 2620 2878 203c 3d20 6461 7465  in) & (x <= date
+00001f90: 5f65 6e64 290a 0a20 2020 2020 2020 2020  _end)..         
+00001fa0: 2020 2020 2020 2069 6620 6b65 7920 213d         if key !=
+00001fb0: 2027 7465 7374 273a 0a20 2020 2020 2020   'test':.       
+00001fc0: 2020 2020 2020 2020 2020 2020 206d 6173               mas
+00001fd0: 6b20 263d 206d 6173 6b5f 616c 6c2e 6173  k &= mask_all.as
+00001fe0: 7479 7065 2862 6f6f 6c29 0a20 2020 2020  type(bool).     
+00001ff0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+00002000: 6173 6b20 263d 206d 6173 6b5f 7a64 742e  ask &= mask_zdt.
+00002010: 6173 7479 7065 2862 6f6f 6c29 0a20 2020  astype(bool).   
+00002020: 2020 2020 2020 2020 2020 2020 2064 6d2e               dm.
+00002030: 7365 745f 6d61 736b 286d 6173 6b2c 206d  set_mask(mask, m
+00002040: 6173 6b5f 6e61 6d65 203d 206b 6579 290a  ask_name = key).
+00002050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002060: 6966 206c 656e 2878 5b6d 6173 6b5d 2920  if len(x[mask]) 
+00002070: 3e20 303a 0a20 2020 2020 2020 2020 2020  > 0:.           
+00002080: 2020 2020 2020 2020 2070 7269 6e74 2866           print(f
+00002090: 275b 2b5d 206d 6173 6b5f 6e61 6d65 203d  '[+] mask_name =
+000020a0: 207b 6b65 793a 3c31 317d 7c20 7b78 5b6d   {key:<11}| {x[m
+000020b0: 6173 6b5d 2e6d 696e 2829 7d20 2d3e 207b  ask].min()} -> {
+000020c0: 785b 6d61 736b 5d2e 6d61 7828 297d 203d  x[mask].max()} =
+000020d0: 207b 6d61 736b 2e73 756d 2829 7d27 290a   {mask.sum()}').
+000020e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000020f0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00002100: 2020 2020 2020 2020 2020 7072 696e 7428            print(
+00002110: 6627 5b2b 5d20 6d61 736b 5f6e 616d 6520  f'[+] mask_name 
+00002120: 3d20 7b6b 6579 3a3c 3131 7d7c 206c 656e  = {key:<11}| len
+00002130: 203d 2030 2729 0a0a 2020 2020 2020 2020   = 0')..        
+00002140: 2020 2020 2320 7368 6966 745f 310a 2020      # shift_1.  
+00002150: 2020 2020 2020 2020 2020 636f 6c73 5f73            cols_s
+00002160: 6869 6674 5f31 203d 205b 636f 6c20 666f  hift_1 = [col fo
+00002170: 7220 636f 6c20 696e 2064 6d2e 6865 6164  r col in dm.head
+00002180: 2829 2e63 6f6c 756d 6e73 2069 6620 636f  ().columns if co
+00002190: 6c20 6e6f 7420 696e 205b 636f 6c5f 6964  l not in [col_id
+000021a0: 2c20 636f 6c5f 7469 642c 2063 6f6c 5f6c  , col_tid, col_l
+000021b0: 6162 656c 5d20 2b20 636f 6c73 5f74 6964  abel] + cols_tid
+000021c0: 5d0a 2020 2020 2020 2020 2020 2020 646d  ].            dm
+000021d0: 2e66 655f 676f 285b 6627 7b63 6f6c 7d20  .fe_go([f'{col} 
+000021e0: 3d20 726f 6c6c 2873 6869 6674 2c20 7473  = roll(shift, ts
+000021f0: 5f63 6f64 652c 207b 636f 6c7d 2c20 7472  _code, {col}, tr
+00002200: 6164 655f 6461 7465 2c20 3129 2720 666f  ade_date, 1)' fo
+00002210: 7220 636f 6c20 696e 2063 6f6c 735f 7368  r col in cols_sh
+00002220: 6966 745f 315d 290a 0a20 2020 2020 2020  ift_1])..       
+00002230: 2020 2020 2072 6574 7572 6e20 646d 0a20       return dm. 
+00002240: 2020 2072 0100 0000 7201 0000 0072 0100     r....r....r..
+00002250: 0000 7201 0000 0072 0200 0000 da0d 7072  ..r....r......pr
+00002260: 6570 726f 6365 7373 696e 6798 0000 0073  eprocessing....s
+00002270: 0200 0000 0001 7206 0000 0063 0000 0000  ......r....c....
+00002280: 0000 0000 0000 0000 0000 0000 0100 0000  ................
+00002290: 4300 0000 7304 0000 0064 0153 0029 024e  C...s....d.S.).N
+000022a0: 61d7 0300 000a 2020 2020 2320 727a 2e6c  a.....    # rz.l
+000022b0: 6762 0a20 2020 206d 6f64 656c 203d 2072  gb.    model = r
+000022c0: 7a2e 6d6f 6465 6c2e 7472 6565 2e4c 4742  z.model.tree.LGB
+000022d0: 4d6f 6465 6c28 290a 2020 2020 7061 7261  Model().    para
+000022e0: 6d73 203d 2072 7a2e 6f70 742e 6f70 745f  ms = rz.opt.opt_
+000022f0: 7261 6e64 6f6d 2e67 6574 5f70 6172 616d  random.get_param
+00002300: 735f 6c67 6228 290a 2020 2020 2320 7061  s_lgb().    # pa
+00002310: 7261 6d73 203d 204c 4742 4d6f 6465 6c2e  rams = LGBModel.
+00002320: 6765 745f 7061 7261 6d73 2827 7061 7261  get_params('para
+00002330: 6d73 5f31 2729 0a20 2020 2058 795f 6469  ms_1').    Xy_di
+00002340: 6374 203d 207b 2758 5f74 7261 696e 273a  ct = {'X_train':
+00002350: 2058 5f74 7261 696e 2c20 2779 5f74 7261   X_train, 'y_tra
+00002360: 696e 273a 2079 5f74 7261 696e 7d0a 2020  in': y_train}.  
+00002370: 2020 2320 6465 6c20 585f 7472 6169 6e2c    # del X_train,
+00002380: 2079 5f74 7261 696e 3b20 6763 2e63 6f6c   y_train; gc.col
+00002390: 6c65 6374 2829 0a20 2020 206d 6f64 656c  lect().    model
+000023a0: 2e74 7261 696e 287b 2758 5f74 7261 696e  .train({'X_train
+000023b0: 273a 2058 5f74 7261 696e 2c20 2779 5f74  ': X_train, 'y_t
+000023c0: 7261 696e 273a 2079 5f74 7261 696e 7d2c  rain': y_train},
+000023d0: 2070 6172 616d 7320 3d20 7061 7261 6d73   params = params
+000023e0: 2c20 6b77 6172 6773 3d7b 2766 7265 6558  , kwargs={'freeX
+000023f0: 7927 3a20 4661 6c73 652c 2027 7665 7262  y': False, 'verb
+00002400: 6f73 6527 3a20 3530 7d29 0a20 2020 206d  ose': 50}).    m
+00002410: 6f64 656c 2e64 756d 7028 6627 7b70 6174  odel.dump(f'{pat
+00002420: 685f 6f75 7470 7574 7d2f 6d6f 6465 6c2e  h_output}/model.
+00002430: 6269 6e27 290a 2020 2020 6d6f 6465 6c20  bin').    model 
+00002440: 3d20 727a 2e6d 6f64 656c 2e74 7265 652e  = rz.model.tree.
+00002450: 4c47 424d 6f64 656c 2829 2e6c 6f61 6428  LGBModel().load(
+00002460: 6627 7b70 6174 685f 6f75 7470 7574 7d2f  f'{path_output}/
+00002470: 6d6f 6465 6c2e 6269 6e27 290a 2020 2020  model.bin').    
+00002480: 795f 7072 6564 203d 206d 6f64 656c 2e70  y_pred = model.p
+00002490: 7265 6469 6374 2858 290a 0a20 2020 2023  redict(X)..    #
+000024a0: 206c 6762 0a20 2020 2064 7472 6169 6e20   lgb.    dtrain 
+000024b0: 3d20 6c67 622e 4461 7461 7365 7428 585f  = lgb.Dataset(X_
+000024c0: 7472 6169 6e2c 2079 5f74 7261 696e 290a  train, y_train).
+000024d0: 2020 2020 2320 6465 6c20 585f 7472 6169      # del X_trai
+000024e0: 6e2c 2079 5f74 7261 696e 3b20 6763 2e63  n, y_train; gc.c
+000024f0: 6f6c 6c65 6374 2829 0a20 2020 2023 2076  ollect().    # v
+00002500: 6572 626f 7365 203d 2035 300a 2020 2020  erbose = 50.    
+00002510: 6d6f 6465 6c20 3d20 6c67 622e 7472 6169  model = lgb.trai
+00002520: 6e28 0a20 2020 2020 2020 2020 2020 2020  n(.             
+00002530: 2020 2070 6172 616d 732c 200a 2020 2020     params, .    
+00002540: 2020 2020 2020 2020 2020 2020 6474 7261              dtra
+00002550: 696e 2c20 0a20 2020 2020 2020 2020 2020  in, .           
+00002560: 2020 2020 2023 2076 616c 6964 5f73 6574       # valid_set
+00002570: 7320 3d20 5b64 7661 6c69 645d 2c20 0a20  s = [dvalid], . 
+00002580: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+00002590: 2063 616c 6c62 6163 6b73 203d 205b 6c67   callbacks = [lg
+000025a0: 622e 6c6f 675f 6576 616c 7561 7469 6f6e  b.log_evaluation
+000025b0: 2876 6572 626f 7365 2c20 5472 7565 2069  (verbose, True i
+000025c0: 6620 7665 7262 6f73 6520 3e20 3020 656c  f verbose > 0 el
+000025d0: 7365 2046 616c 7365 295d 2c0a 2020 2020  se False)],.    
+000025e0: 2020 2020 2020 2020 290a 2020 2020 6d6f          ).    mo
+000025f0: 6465 6c2e 7361 7665 5f6d 6f64 656c 2866  del.save_model(f
+00002600: 277b 7061 7468 5f6f 7574 7075 747d 2f6d  '{path_output}/m
+00002610: 6f64 656c 2e62 696e 2729 0a20 2020 206d  odel.bin').    m
+00002620: 6f64 656c 203d 206c 6762 2e42 6f6f 7374  odel = lgb.Boost
+00002630: 6572 286d 6f64 656c 5f66 696c 653d 6627  er(model_file=f'
+00002640: 7b70 6174 685f 6f75 7470 7574 7d2f 6d6f  {path_output}/mo
+00002650: 6465 6c2e 6269 6e27 290a 2020 2020 795f  del.bin').    y_
+00002660: 7072 6564 203d 206d 6f64 656c 2e70 7265  pred = model.pre
+00002670: 6469 6374 2858 290a 2020 2020 7201 0000  dict(X).    r...
+00002680: 0072 0100 0000 7201 0000 0072 0100 0000  .r....r....r....
+00002690: 7202 0000 00da 0b74 7261 696e 5f6d 6f64  r......train_mod
+000026a0: 656c dc00 0000 7302 0000 0000 0172 0700  el....s......r..
+000026b0: 0000 6300 0000 0000 0000 0000 0000 0000  ..c.............
+000026c0: 0000 0001 0000 0043 0000 0073 0400 0000  .......C...s....
+000026d0: 6401 5300 2902 4e61 7603 0000 0a20 2020  d.S.).Nav....   
+000026e0: 2064 6566 2066 5f6d 6167 6963 5f6c 6162   def f_magic_lab
+000026f0: 656c 2879 2c20 6d61 6769 635f 6c61 6265  el(y, magic_labe
+00002700: 6c2c 2076 6572 626f 7365 203d 2046 616c  l, verbose = Fal
+00002710: 7365 293a 0a20 2020 2020 2020 2069 6620  se):.        if 
+00002720: 6d61 6769 635f 6c61 6265 6c20 696e 205b  magic_label in [
+00002730: 4e6f 6e65 2c20 274e 6f6e 6527 5d3a 2072  None, 'None']: r
+00002740: 6574 7572 6e20 790a 2020 2020 2020 2020  eturn y.        
+00002750: 6d65 7468 6f64 2c20 7720 3d20 6d61 6769  method, w = magi
+00002760: 635f 6c61 6265 6c2e 7370 6c69 7428 272c  c_label.split(',
+00002770: 2729 0a20 2020 2020 2020 2077 203d 2066  ').        w = f
+00002780: 6c6f 6174 2877 290a 2020 2020 2020 2020  loat(w).        
+00002790: 6966 206d 6574 686f 6420 696e 205b 276c  if method in ['l
+000027a0: 6f67 272c 2027 6578 7027 5d3a 0a20 2020  og', 'exp']:.   
+000027b0: 2020 2020 2020 2020 2079 5f72 6177 203d           y_raw =
+000027c0: 2079 2e63 6f70 7928 290a 2020 2020 2020   y.copy().      
+000027d0: 2020 2020 2020 7369 676e 203d 206e 702e        sign = np.
+000027e0: 7768 6572 6528 7920 3e3d 2030 2c20 312c  where(y >= 0, 1,
+000027f0: 202d 3129 0a20 2020 2020 2020 2020 2020   -1).           
+00002800: 2069 6478 203d 2079 203e 2030 0a20 2020   idx = y > 0.   
+00002810: 2020 2020 2020 2020 2069 6620 6d65 7468           if meth
+00002820: 6f64 203d 3d20 276c 6f67 273a 0a20 2020  od == 'log':.   
+00002830: 2020 2020 2020 2020 2020 2020 2079 5b69               y[i
+00002840: 6478 5d20 3d20 7369 676e 5b69 6478 5d20  dx] = sign[idx] 
+00002850: 2a20 6e70 2e6c 6f67 3130 2831 202b 206e  * np.log10(1 + n
+00002860: 702e 6162 7328 795b 6964 785d 2929 0a20  p.abs(y[idx])). 
+00002870: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+00002880: 6d65 7468 6f64 203d 3d20 2765 7870 273a  method == 'exp':
+00002890: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000028a0: 2079 5b69 6478 5d20 3d20 7369 676e 5b69   y[idx] = sign[i
+000028b0: 6478 5d20 2a20 6e70 2e65 7870 2830 2e30  dx] * np.exp(0.0
+000028c0: 3120 2a20 6e70 2e61 6273 2879 5b69 6478  1 * np.abs(y[idx
+000028d0: 5d29 290a 2020 2020 2020 2020 2020 2020  ])).            
+000028e0: 7920 3d20 7720 2a20 795f 7261 7720 2b20  y = w * y_raw + 
+000028f0: 2831 202d 2077 2920 2a20 790a 2020 2020  (1 - w) * y.    
+00002900: 2020 2020 2020 2020 6966 2076 6572 626f          if verbo
+00002910: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00002920: 2020 2020 7072 696e 7428 6627 5b2b 5d20      print(f'[+] 
+00002930: 6d61 6769 635f 6c61 6265 6c20 3d20 7b6d  magic_label = {m
+00002940: 6167 6963 5f6c 6162 656c 7d27 290a 2020  agic_label}').  
+00002950: 2020 2020 2020 7265 7475 726e 2079 0a0a        return y..
+00002960: 2020 2020 6465 6620 7275 6e5f 6d61 6769      def run_magi
+00002970: 635f 6c61 6265 6c28 792c 206d 6167 6963  c_label(y, magic
+00002980: 5f6c 6162 656c 203d 204e 6f6e 6529 3a0a  _label = None):.
+00002990: 2020 2020 2020 2020 6966 206d 6167 6963          if magic
+000029a0: 5f6c 6162 656c 2069 6e20 5b4e 6f6e 652c  _label in [None,
+000029b0: 2027 4e6f 6e65 275d 3a20 7265 7475 726e   'None']: return
+000029c0: 2079 0a20 2020 2020 2020 2066 6f72 206d   y.        for m
+000029d0: 6167 6963 5f6c 6162 656c 5f69 2069 6e20  agic_label_i in 
+000029e0: 6d61 6769 635f 6c61 6265 6c2e 7370 6c69  magic_label.spli
+000029f0: 7428 273a 2729 5b31 3a5d 3a0a 2020 2020  t(':')[1:]:.    
+00002a00: 2020 2020 2020 2020 7920 3d20 665f 6d61          y = f_ma
+00002a10: 6769 635f 6c61 6265 6c28 792c 206d 6167  gic_label(y, mag
+00002a20: 6963 5f6c 6162 656c 5f69 2c20 7665 7262  ic_label_i, verb
+00002a30: 6f73 6520 3d20 4661 6c73 6529 0a20 2020  ose = False).   
+00002a40: 2020 2020 2072 6574 7572 6e20 790a 2020       return y.  
+00002a50: 2020 7201 0000 0072 0100 0000 7201 0000    r....r....r...
+00002a60: 0072 0100 0000 7202 0000 00da 0e70 6f73  .r....r......pos
+00002a70: 7470 726f 6365 7373 696e 67f8 0000 0073  tprocessing....s
+00002a80: 0200 0000 0001 7208 0000 0063 0000 0000  ......r....c....
+00002a90: 0000 0000 0000 0000 0000 0000 0100 0000  ................
+00002aa0: 4300 0000 7304 0000 0064 0153 0029 024e  C...s....d.S.).N
+00002ab0: 6165 0300 000a 2020 2020 6465 6620 6765  ae....    def ge
+00002ac0: 745f 6466 5f69 6328 646d 2c20 795f 7072  t_df_ic(dm, y_pr
+00002ad0: 6564 2c20 6e61 6d65 5f6c 6973 7420 3d20  ed, name_list = 
+00002ae0: 4e6f 6e65 293a 0a20 2020 2020 2020 2064  None):.        d
+00002af0: 6d2e 7365 745f 6279 5f63 6f6c 2827 7072  m.set_by_col('pr
+00002b00: 6564 272c 2079 5f70 7265 642e 7265 7368  ed', y_pred.resh
+00002b10: 6170 6528 2d31 2929 0a20 2020 2020 2020  ape(-1)).       
+00002b20: 2069 6620 6e61 6d65 5f6c 6973 7420 6973   if name_list is
+00002b30: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+00002b40: 2020 206e 616d 655f 6c69 7374 203d 205b     name_list = [
+00002b50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002b60: 2027 6963 203d 2067 7028 6963 2c20 7469   'ic = gp(ic, ti
+00002b70: 642c 206c 6162 656c 2c20 7072 6564 2c20  d, label, pred, 
+00002b80: 6d61 736b 3d6d 6173 6b29 272c 0a20 2020  mask=mask)',.   
+00002b90: 2020 2020 2020 2020 2020 2020 2027 6963               'ic
+00002ba0: 706d 203d 2067 7028 6963 706d 2c20 7469  pm = gp(icpm, ti
+00002bb0: 642c 206c 6162 656c 2c20 7072 6564 2c20  d, label, pred, 
+00002bc0: 6d61 736b 3d6d 6173 6b29 272c 0a20 2020  mask=mask)',.   
+00002bd0: 2020 2020 2020 2020 2020 2020 2027 6963               'ic
+00002be0: 706d 6720 3d20 6770 2869 6370 6d67 2c20  pmg = gp(icpmg, 
+00002bf0: 7469 642c 206c 6162 656c 2c20 7072 6564  tid, label, pred
+00002c00: 2c20 6d61 736b 3d6d 6173 6b29 272c 0a20  , mask=mask)',. 
+00002c10: 2020 2020 2020 2020 2020 205d 0a20 2020             ].   
+00002c20: 2020 2020 2064 6d2e 6665 5f67 6f28 6e61       dm.fe_go(na
+00002c30: 6d65 5f6c 6973 742c 2076 6572 626f 7365  me_list, verbose
+00002c40: 203d 2046 616c 7365 290a 2020 2020 2020   = False).      
+00002c50: 2020 636f 6c73 203d 2064 6d2e 6e61 6d65    cols = dm.name
+00002c60: 5f6c 6973 745f 325f 636f 6c73 286e 616d  _list_2_cols(nam
+00002c70: 655f 6c69 7374 290a 2020 2020 2020 2020  e_list).        
+00002c80: 6466 5f69 6320 3d20 646d 2e67 6574 5f63  df_ic = dm.get_c
+00002c90: 6f6c 735f 7061 6e64 6173 2863 6f6c 732c  ols_pandas(cols,
+00002ca0: 2064 665f 6e61 6d65 203d 2027 5430 2e74   df_name = 'T0.t
+00002cb0: 6964 2729 0a20 2020 2020 2020 2064 6d2e  id').        dm.
+00002cc0: 6472 6f70 286e 616d 655f 6c69 7374 2c20  drop(name_list, 
+00002cd0: 7665 7262 6f73 6520 3d20 4661 6c73 6529  verbose = False)
+00002ce0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00002cf0: 6466 5f69 630a 0a20 2020 2064 665f 6964  df_ic..    df_id
+00002d00: 203d 2072 7a2e 7574 696c 2e6e 7079 2e67   = rz.util.npy.g
+00002d10: 6574 5f64 665f 6964 5f61 6c6c 285b 7261  et_df_id_all([ra
+00002d20: 6e67 6528 7829 2066 6f72 2078 2069 6e20  nge(x) for x in 
+00002d30: 6d61 736b 5f74 6573 745f 7261 772e 7368  mask_test_raw.sh
+00002d40: 6170 655d 2c20 636f 6c73 5f69 6420 3d20  ape], cols_id = 
+00002d50: 5b27 7469 6427 2c20 2769 6427 5d29 0a20  ['tid', 'id']). 
+00002d60: 2020 2064 6d20 3d20 727a 2e44 6174 614d     dm = rz.DataM
+00002d70: 6173 7465 7228 6466 5f69 6429 0a20 2020  aster(df_id).   
+00002d80: 2064 6d2e 7365 745f 6d61 736b 286d 6173   dm.set_mask(mas
+00002d90: 6b5f 7465 7374 5f72 6177 2e72 6573 6861  k_test_raw.resha
+00002da0: 7065 282d 3129 2c20 276d 6173 6b27 290a  pe(-1), 'mask').
+00002db0: 2020 2020 646d 2e73 6574 5f62 795f 636f      dm.set_by_co
+00002dc0: 6c28 276c 6162 656c 272c 2079 5f74 6573  l('label', y_tes
+00002dd0: 745f 7261 772e 7265 7368 6170 6528 2d31  t_raw.reshape(-1
+00002de0: 2929 0a0a 2020 2020 6466 5f69 6320 3d20  ))..    df_ic = 
+00002df0: 6765 745f 6466 5f69 6328 646d 2c20 795f  get_df_ic(dm, y_
+00002e00: 7072 6564 2923 2e6d 6561 6e28 6178 6973  pred)#.mean(axis
+00002e10: 203d 2030 290a 2020 2020 7201 0000 0072   = 0).    r....r
+00002e20: 0100 0000 7201 0000 0072 0100 0000 7202  ....r....r....r.
+00002e30: 0000 00da 0763 616c 635f 6963 1201 0000  .....calc_ic....
+00002e40: 7302 0000 0000 0172 0900 0000 6300 0000  s......r....c...
+00002e50: 0000 0000 0000 0000 0000 0000 0001 0000  ................
+00002e60: 0043 0000 0073 0400 0000 6400 5300 2901  .C...s....d.S.).
+00002e70: 4e72 0100 0000 7201 0000 0072 0100 0000  Nr....r....r....
+00002e80: 7201 0000 0072 0200 0000 da0d 6d61 696e  r....r......main
+00002e90: 5f70 6970 656c 696e 652b 0100 0073 0200  _pipeline+...s..
+00002ea0: 0000 0001 720a 0000 0063 0000 0000 0000  ....r....c......
+00002eb0: 0000 0000 0000 0000 0000 0100 0000 4300  ..............C.
+00002ec0: 0000 7304 0000 0064 0153 0029 024e 7a3e  ..s....d.S.).Nz>
+00002ed0: 0a20 2020 2070 6c74 2e6d 696e 6f72 7469  .    plt.minorti
+00002ee0: 636b 735f 6f6e 2829 0a20 2020 2070 6c74  cks_on().    plt
+00002ef0: 2e67 7269 6428 5472 7565 2c20 7768 6963  .grid(True, whic
+00002f00: 683d 2762 6f74 6827 290a 2020 2020 7201  h='both').    r.
+00002f10: 0000 0072 0100 0000 7201 0000 0072 0100  ...r....r....r..
+00002f20: 0000 7202 0000 00da 0470 6c6f 7430 0100  ..r......plot0..
+00002f30: 0073 0200 0000 0001 720b 0000 0063 0000  .s......r....c..
+00002f40: 0000 0000 0000 0000 0000 0000 0000 0100  ................
+00002f50: 0000 4300 0000 7304 0000 0064 0153 0029  ..C...s....d.S.)
+00002f60: 024e 611d 0100 000a 2020 2020 2320 2170  .Na.....    # !p
+00002f70: 6970 2069 6e73 7461 6c6c 206d 6973 7369  ip install missi
+00002f80: 6e67 6e6f 0a20 2020 2069 6d70 6f72 7420  ngno.    import 
+00002f90: 6d69 7373 696e 676e 6f20 6173 206d 736e  missingno as msn
+00002fa0: 6f0a 2020 2020 2320 6d73 6e6f 2e6d 6174  o.    # msno.mat
+00002fb0: 7269 7828 7472 6169 6e2e 7361 6d70 6c65  rix(train.sample
+00002fc0: 2831 3030 3030 2929 0a20 2020 2023 206d  (10000)).    # m
+00002fd0: 736e 6f2e 6d61 7472 6978 2874 6573 742e  sno.matrix(test.
+00002fe0: 7361 6d70 6c65 2831 3030 3030 2929 0a20  sample(10000)). 
+00002ff0: 2020 2023 206d 736e 6f2e 6261 7228 7472     # msno.bar(tr
+00003000: 6169 6e2e 7361 6d70 6c65 2831 3030 3030  ain.sample(10000
+00003010: 2929 0a20 2020 2023 206d 736e 6f2e 6261  )).    # msno.ba
+00003020: 7228 7465 7374 2e73 616d 706c 6528 3130  r(test.sample(10
+00003030: 3030 3029 290a 2020 2020 2320 6d73 6e6f  000)).    # msno
+00003040: 2e68 6561 746d 6170 2874 7261 696e 2e73  .heatmap(train.s
+00003050: 616d 706c 6528 3130 3030 3029 290a 2020  ample(10000)).  
+00003060: 2020 2320 6d73 6e6f 2e64 656e 6472 6f67    # msno.dendrog
+00003070: 7261 6d28 636f 6c6c 6973 696f 6e73 290a  ram(collisions).
+00003080: 2020 2020 7201 0000 0072 0100 0000 7201      r....r....r.
+00003090: 0000 0072 0100 0000 7202 0000 00da 0870  ...r....r......p
+000030a0: 6c6f 745f 6e61 6e36 0100 0073 0200 0000  lot_nan6...s....
+000030b0: 0001 720c 0000 0063 0000 0000 0000 0000  ..r....c........
+000030c0: 0000 0000 0000 0000 0100 0000 4300 0000  ............C...
+000030d0: 7304 0000 0064 0153 0029 024e 7aa3 0a20  s....d.S.).Nz.. 
+000030e0: 2020 2023 2021 7069 7020 696e 7374 616c     # !pip instal
+000030f0: 6c20 7061 6e64 6173 5f70 726f 6669 6c69  l pandas_profili
+00003100: 6e67 0a20 2020 2069 6d70 6f72 7420 7061  ng.    import pa
+00003110: 6e64 6173 5f70 726f 6669 6c69 6e67 0a20  ndas_profiling. 
+00003120: 2020 2070 6672 203d 2070 616e 6461 735f     pfr = pandas_
+00003130: 7072 6f66 696c 696e 672e 5072 6f66 696c  profiling.Profil
+00003140: 6552 6570 6f72 7428 7472 6169 6e29 0a20  eReport(train). 
+00003150: 2020 2070 726f 662e 746f 5f66 696c 6528     prof.to_file(
+00003160: 6f75 7470 7574 5f66 696c 653d 2761 7574  output_file='aut
+00003170: 6f5f 4544 412e 6874 6d6c 2729 0a20 2020  o_EDA.html').   
+00003180: 2072 0100 0000 7201 0000 0072 0100 0000   r....r....r....
+00003190: 7201 0000 0072 0200 0000 da08 706c 6f74  r....r......plot
+000031a0: 5f65 6461 4201 0000 7302 0000 0000 0172  _edaB...s......r
+000031b0: 0d00 0000 6300 0000 0000 0000 0000 0000  ....c...........
+000031c0: 0000 0000 0001 0000 0043 0000 0073 0400  .........C...s..
+000031d0: 0000 6401 5300 2902 4e61 8207 0000 0a20  ..d.S.).Na..... 
+000031e0: 2020 2023 2066 756c 6c20 7363 7265 656e     # full screen
+000031f0: 2077 6964 7468 206f 6620 4a75 7079 7465   width of Jupyte
+00003200: 7220 6e6f 7465 626f 6f6b 0a20 2020 2066  r notebook.    f
+00003210: 726f 6d20 4950 7974 686f 6e2e 636f 7265  rom IPython.core
+00003220: 2e64 6973 706c 6179 2069 6d70 6f72 7420  .display import 
+00003230: 6469 7370 6c61 792c 2048 544d 4c0a 2020  display, HTML.  
+00003240: 2020 6469 7370 6c61 7928 4854 4d4c 2822    display(HTML("
+00003250: 3c73 7479 6c65 3e2e 636f 6e74 6169 6e65  <style>.containe
+00003260: 7220 7b20 7769 6474 683a 3130 3025 2021  r { width:100% !
+00003270: 696d 706f 7274 616e 743b 207d 3c2f 7374  important; }</st
+00003280: 796c 653e 2229 2920 0a0a 2020 2020 696d  yle>")) ..    im
+00003290: 706f 7274 206d 6174 706c 6f74 6c69 622e  port matplotlib.
+000032a0: 7079 706c 6f74 2061 7320 706c 740a 2020  pyplot as plt.  
+000032b0: 2020 696d 706f 7274 2073 6561 626f 726e    import seaborn
+000032c0: 2061 7320 736e 730a 2020 2020 696d 706f   as sns.    impo
+000032d0: 7274 206e 756d 7079 2061 7320 6e70 0a20  rt numpy as np. 
+000032e0: 2020 2069 6d70 6f72 7420 7061 6e64 6173     import pandas
+000032f0: 2061 7320 7064 0a20 2020 206e 702e 7365   as pd.    np.se
+00003300: 745f 7072 696e 746f 7074 696f 6e73 2873  t_printoptions(s
+00003310: 7570 7072 6573 733d 5472 7565 290a 0a20  uppress=True).. 
+00003320: 2020 2064 6566 2067 6574 5f65 7870 6563     def get_expec
+00003330: 745f 7363 6f72 6528 782c 2061 203d 2031  t_score(x, a = 1
+00003340: 2c20 6220 3d20 312c 2063 203d 2030 293a  , b = 1, c = 0):
+00003350: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00003360: 6120 2f20 2831 202b 2031 3020 2a2a 2028  a / (1 + 10 ** (
+00003370: 2d31 202a 2020 7820 2f20 6229 2920 2b63  -1 *  x / b)) +c
+00003380: 0a0a 2020 2020 2320 6761 7020 746f 2077  ..    # gap to w
+00003390: 696e 200a 2020 2020 7820 3d20 6e70 2e6c  in .    x = np.l
+000033a0: 696e 7370 6163 6528 2d31 3230 302c 2031  inspace(-1200, 1
+000033b0: 3230 302c 2031 3031 290a 2020 2020 7920  200, 101).    y 
+000033c0: 3d20 6765 745f 6578 7065 6374 5f73 636f  = get_expect_sco
+000033d0: 7265 2878 2c20 6220 3d20 3430 3029 0a20  re(x, b = 400). 
+000033e0: 2020 2070 6c74 2e66 6967 7572 6528 6669     plt.figure(fi
+000033f0: 6773 697a 653d 2831 302c 2035 2929 0a20  gsize=(10, 5)). 
+00003400: 2020 2070 6c74 2e70 6c6f 7428 782c 2079     plt.plot(x, y
+00003410: 290a 2020 2020 706c 742e 6d69 6e6f 7274  ).    plt.minort
+00003420: 6963 6b73 5f6f 6e28 290a 2020 2020 706c  icks_on().    pl
+00003430: 742e 6772 6964 2854 7275 652c 2077 6869  t.grid(True, whi
+00003440: 6368 203d 2027 626f 7468 2729 0a20 2020  ch = 'both').   
+00003450: 2070 6c74 2e79 6c61 6265 6c28 2765 7870   plt.ylabel('exp
+00003460: 6563 7420 7363 6f72 6520 2527 2c20 2066  ect score %',  f
+00003470: 6f6e 7473 697a 6520 3d20 3135 290a 2020  ontsize = 15).  
+00003480: 2020 706c 742e 786c 6162 656c 2827 6761    plt.xlabel('ga
+00003490: 7027 2c20 666f 6e74 7369 7a65 203d 2031  p', fontsize = 1
+000034a0: 3529 0a20 2020 2070 6c74 2e73 686f 7728  5).    plt.show(
+000034b0: 290a 0a20 2020 2023 2077 5f73 636f 7265  )..    # w_score
+000034c0: 0a20 2020 2078 203d 206e 702e 6c69 6e73  .    x = np.lins
+000034d0: 7061 6365 2838 3030 2c20 3230 3030 2c20  pace(800, 2000, 
+000034e0: 3130 3129 0a20 2020 2079 203d 2067 6574  101).    y = get
+000034f0: 5f65 7870 6563 745f 7363 6f72 6528 2d28  _expect_score(-(
+00003500: 7820 2d20 3132 3030 292c 2061 203d 2033  x - 1200), a = 3
+00003510: 322c 2062 203d 2034 3030 2c20 6320 3d20  2, b = 400, c = 
+00003520: 3136 290a 2020 2020 706c 742e 6669 6775  16).    plt.figu
+00003530: 7265 2866 6967 7369 7a65 3d28 3130 2c20  re(figsize=(10, 
+00003540: 3529 290a 2020 2020 706c 742e 706c 6f74  5)).    plt.plot
+00003550: 2878 2c20 7929 0a20 2020 2070 6c74 2e6d  (x, y).    plt.m
+00003560: 696e 6f72 7469 636b 735f 6f6e 2829 0a20  inorticks_on(). 
+00003570: 2020 2070 6c74 2e67 7269 6428 5472 7565     plt.grid(True
+00003580: 2c20 7768 6963 6820 3d20 2762 6f74 6827  , which = 'both'
+00003590: 290a 2020 2020 706c 742e 796c 6162 656c  ).    plt.ylabel
+000035a0: 2827 6b27 2c20 2066 6f6e 7473 697a 6520  ('k',  fontsize 
+000035b0: 3d20 3135 290a 2020 2020 706c 742e 786c  = 15).    plt.xl
+000035c0: 6162 656c 2827 7363 6f72 6527 2c20 666f  abel('score', fo
+000035d0: 6e74 7369 7a65 203d 2031 3529 0a20 2020  ntsize = 15).   
+000035e0: 2070 6c74 2e73 686f 7728 290a 0a20 2020   plt.show()..   
+000035f0: 2023 2077 5f67 6170 0a20 2020 2078 203d   # w_gap.    x =
+00003600: 206e 702e 6c69 6e73 7061 6365 282d 3132   np.linspace(-12
+00003610: 3030 2c20 3132 3030 2c20 3235 290a 2020  00, 1200, 25).  
+00003620: 2020 7920 3d20 2831 3020 2a2a 2028 7820    y = (10 ** (x 
+00003630: 2f20 3136 3030 2929 0a20 2020 2070 6c74  / 1600)).    plt
+00003640: 2e66 6967 7572 6528 6669 6773 697a 653d  .figure(figsize=
+00003650: 2831 302c 2035 2929 0a20 2020 2070 6c74  (10, 5)).    plt
+00003660: 2e70 6c6f 7428 782c 2079 290a 2020 2020  .plot(x, y).    
+00003670: 706c 742e 6d69 6e6f 7274 6963 6b73 5f6f  plt.minorticks_o
+00003680: 6e28 290a 2020 2020 706c 742e 6772 6964  n().    plt.grid
+00003690: 2854 7275 652c 2077 6869 6368 203d 2027  (True, which = '
+000036a0: 626f 7468 2729 0a20 2020 2070 6c74 2e79  both').    plt.y
+000036b0: 6c61 6265 6c28 276b 5f67 6170 272c 2020  label('k_gap',  
+000036c0: 666f 6e74 7369 7a65 203d 2031 3529 0a20  fontsize = 15). 
+000036d0: 2020 2070 6c74 2e78 6c61 6265 6c28 2767     plt.xlabel('g
+000036e0: 6170 272c 2066 6f6e 7473 697a 6520 3d20  ap', fontsize = 
+000036f0: 3135 290a 2020 2020 706c 742e 7368 6f77  15).    plt.show
+00003700: 2829 0a0a 2020 2020 2320 770a 2020 2020  ()..    # w.    
+00003710: 7820 3d20 6e70 2e6c 696e 7370 6163 6528  x = np.linspace(
+00003720: 3830 302c 2032 3030 302c 2032 3529 0a20  800, 2000, 25). 
+00003730: 2020 2079 203d 206e 702e 6c69 6e73 7061     y = np.linspa
+00003740: 6365 2838 3030 2c20 3230 3030 2c20 3235  ce(800, 2000, 25
+00003750: 295b 3a3a 2d31 5d0a 2020 2020 582c 2059  )[::-1].    X, Y
+00003760: 203d 206e 702e 6d65 7368 6772 6964 2878   = np.meshgrid(x
+00003770: 2c20 7929 0a20 2020 2077 696a 203d 2031  , y).    wij = 1
+00003780: 3020 2a2a 2028 2859 202d 2058 2920 2f20  0 ** ((Y - X) / 
+00003790: 3132 3030 290a 2020 2020 7769 203d 2067  1200).    wi = g
+000037a0: 6574 5f65 7870 6563 745f 7363 6f72 6528  et_expect_score(
+000037b0: 2d28 5820 2d20 3132 3030 292c 2061 203d  -(X - 1200), a =
+000037c0: 2033 322c 2062 203d 2034 3030 2c20 6320   32, b = 400, c 
+000037d0: 3d20 3136 290a 2020 2020 5a20 3d20 7769  = 16).    Z = wi
+000037e0: 6a20 2a20 7769 0a0a 2020 2020 662c 2061  j * wi..    f, a
+000037f0: 7820 3d20 706c 742e 7375 6270 6c6f 7473  x = plt.subplots
+00003800: 2866 6967 7369 7a65 3d28 3330 2c20 3132  (figsize=(30, 12
+00003810: 2929 0a20 2020 2073 6e73 2e68 6561 746d  )).    sns.heatm
+00003820: 6170 285a 2c20 6c69 6e65 7769 6474 6873  ap(Z, linewidths
+00003830: 203d 2030 2e35 2c20 6178 203d 2061 782c   = 0.5, ax = ax,
+00003840: 2061 6e6e 6f74 203d 2054 7275 652c 2066   annot = True, f
+00003850: 6d74 3d22 2e30 6622 293b 0a20 2020 2070  mt=".0f");.    p
+00003860: 6c74 2e78 7469 636b 7328 7469 636b 7320  lt.xticks(ticks 
+00003870: 3d20 6e70 2e61 7261 6e67 6528 6c65 6e28  = np.arange(len(
+00003880: 7829 292c 206c 6162 656c 7320 3d20 6c69  x)), labels = li
+00003890: 7374 2878 292c 2072 6f74 6174 696f 6e3d  st(x), rotation=
+000038a0: 2776 6572 7469 6361 6c27 290a 2020 2020  'vertical').    
+000038b0: 706c 742e 7974 6963 6b73 2874 6963 6b73  plt.yticks(ticks
+000038c0: 203d 206e 702e 6172 616e 6765 286c 656e   = np.arange(len
+000038d0: 2879 2929 2c20 6c61 6265 6c73 203d 206c  (y)), labels = l
+000038e0: 6973 7428 7929 2c20 726f 7461 7469 6f6e  ist(y), rotation
+000038f0: 3d27 686f 7269 7a6f 6e74 616c 2729 0a20  ='horizontal'). 
+00003900: 2020 2070 6c74 2e79 6c61 6265 6c28 276f     plt.ylabel('o
+00003910: 7468 6572 272c 2020 666f 6e74 7369 7a65  ther',  fontsize
+00003920: 203d 2031 3529 0a20 2020 2070 6c74 2e78   = 15).    plt.x
+00003930: 6c61 6265 6c28 2773 656c 6627 2c20 666f  label('self', fo
+00003940: 6e74 7369 7a65 203d 2031 3529 0a20 2020  ntsize = 15).   
+00003950: 2070 6c74 2e73 686f 7728 290a 2020 2020   plt.show().    
+00003960: 7201 0000 0072 0100 0000 7201 0000 0072  r....r....r....r
+00003970: 0100 0000 7202 0000 00da 0770 6c6f 745f  ....r......plot_
+00003980: 706b 4a01 0000 7302 0000 0000 0172 0e00  pkJ...s......r..
+00003990: 0000 6300 0000 0000 0000 0000 0000 0000  ..c.............
+000039a0: 0000 0001 0000 0043 0000 0073 0400 0000  .......C...s....
+000039b0: 6401 5300 2902 4e75 8a05 0000 0a20 2020  d.S.).Nu.....   
+000039c0: 2069 6d70 6f72 7420 6d61 7470 6c6f 746c   import matplotl
+000039d0: 6962 2e70 7970 6c6f 7420 6173 2070 6c74  ib.pyplot as plt
+000039e0: 0a20 2020 2069 6d70 6f72 7420 7365 6162  .    import seab
+000039f0: 6f72 6e20 6173 2073 6e73 0a20 2020 2069  orn as sns.    i
+00003a00: 6d70 6f72 7420 6e75 6d70 7920 6173 206e  mport numpy as n
+00003a10: 700a 2020 2020 696d 706f 7274 2070 616e  p.    import pan
+00003a20: 6461 7320 6173 2070 640a 0a20 2020 2078  das as pd..    x
+00003a30: 203d 206e 702e 6c69 6e73 7061 6365 2830   = np.linspace(0
+00003a40: 2c20 312c 2031 3031 290a 2020 2020 7920  , 1, 101).    y 
+00003a50: 3d20 5b31 202f 2028 302e 3520 2b20 302e  = [1 / (0.5 + 0.
+00003a60: 3520 2a20 7869 2920 2a2a 2030 2e35 202d  5 * xi) ** 0.5 -
+00003a70: 2031 2066 6f72 2078 6920 696e 2078 5d0a   1 for xi in x].
+00003a80: 2020 2020 706c 742e 6669 6775 7265 2866      plt.figure(f
+00003a90: 6967 7369 7a65 3d28 3130 2c20 3529 290a  igsize=(10, 5)).
+00003aa0: 2020 2020 706c 742e 706c 6f74 2878 2c20      plt.plot(x, 
+00003ab0: 7929 0a20 2020 2070 6c74 2e6d 696e 6f72  y).    plt.minor
+00003ac0: 7469 636b 735f 6f6e 2829 0a20 2020 2070  ticks_on().    p
+00003ad0: 6c74 2e67 7269 6428 5472 7565 2c20 7768  lt.grid(True, wh
+00003ae0: 6963 6820 3d20 2762 6f74 6827 290a 2020  ich = 'both').  
+00003af0: 2020 706c 742e 796c 6162 656c 2827 696d    plt.ylabel('im
+00003b00: 7072 6f76 656d 656e 7420 2527 2c20 2066  provement %',  f
+00003b10: 6f6e 7473 697a 6520 3d20 3135 290a 2020  ontsize = 15).  
+00003b20: 2020 706c 742e 786c 6162 656c 2827 636f    plt.xlabel('co
+00003b30: 7272 272c 2066 6f6e 7473 697a 6520 3d20  rr', fontsize = 
+00003b40: 3135 290a 2020 2020 706c 742e 7368 6f77  15).    plt.show
+00003b50: 2829 0a0a 0a20 2020 2069 6d70 6f72 7420  ()...    import 
+00003b60: 6d61 7470 6c6f 746c 6962 2e70 7970 6c6f  matplotlib.pyplo
+00003b70: 7420 6173 2070 6c74 0a20 2020 2069 6d70  t as plt.    imp
+00003b80: 6f72 7420 7365 6162 6f72 6e20 6173 2073  ort seaborn as s
+00003b90: 6e73 0a20 2020 2069 6d70 6f72 7420 6e75  ns.    import nu
+00003ba0: 6d70 7920 6173 206e 700a 2020 2020 696d  mpy as np.    im
+00003bb0: 706f 7274 2070 616e 6461 7320 6173 2070  port pandas as p
+00003bc0: 640a 0a20 2020 2023 20e7 9bb8 e585 b3e6  d..    # .......
+00003bd0: 80a7 2c20 307e 31e5 b8a6 e69d a5e7 9a84  .., 0~1.........
+00003be0: e68f 90e5 8d87 0a20 2020 2078 203d 206e  .......    x = n
+00003bf0: 702e 6c69 6e73 7061 6365 2830 2c20 312c  p.linspace(0, 1,
+00003c00: 2032 3129 0a20 2020 2069 6d70 726f 7665   21).    improve
+00003c10: 6d65 6e74 203d 206e 702e 6172 7261 7928  ment = np.array(
+00003c20: 5b31 202f 2028 302e 3520 2b20 302e 3520  [1 / (0.5 + 0.5 
+00003c30: 2a20 7869 2920 2a2a 2030 2e35 202d 2031  * xi) ** 0.5 - 1
+00003c40: 2066 6f72 2078 6920 696e 2078 5d29 0a0a   for xi in x])..
+00003c50: 2020 2020 2320 e89e 8de5 9088 e5af b9e8      # ..........
+00003c60: b1a1 e79a 8449 430a 2020 2020 6963 203d  .....IC.    ic =
+00003c70: 2030 2e30 370a 2020 2020 6963 5f6c 6973   0.07.    ic_lis
+00003c80: 7420 3d20 6963 202b 206e 702e 6c69 6e73  t = ic + np.lins
+00003c90: 7061 6365 2830 2c20 3230 2c20 3231 2920  pace(0, 20, 21) 
+00003ca0: 2f20 3165 3320 2d20 3165 2d32 0a20 2020  / 1e3 - 1e-2.   
+00003cb0: 2069 635f 6c69 7374 203d 2069 635f 6c69   ic_list = ic_li
+00003cc0: 7374 5b3a 3a2d 315d 0a0a 2020 2020 2320  st[::-1]..    # 
+00003cd0: e592 8ce6 af8f e4b8 80e4 b8aa 4943 e89e  ............IC..
+00003ce0: 8de5 9088 2c20 e4b8 8de5 908c e79b b8e5  ...., ..........
+00003cf0: 85b3 e680 a72c 20e5 be97 e588 b0e8 9e8d  ....., .........
+00003d00: e590 88e5 908e e79a 8449 430a 2020 2020  .........IC.    
+00003d10: 656e 5f6c 6973 7420 3d20 5b5d 0a20 2020  en_list = [].   
+00003d20: 2066 6f72 2069 635f 6920 696e 2069 635f   for ic_i in ic_
+00003d30: 6c69 7374 3a0a 2020 2020 2020 2020 656e  list:.        en
+00003d40: 5f69 203d 2028 6963 202b 2069 635f 6929  _i = (ic + ic_i)
+00003d50: 202f 2032 202a 2028 3120 2b20 696d 7072   / 2 * (1 + impr
+00003d60: 6f76 656d 656e 7429 0a20 2020 2020 2020  ovement).       
+00003d70: 2065 6e5f 6c69 7374 2e61 7070 656e 6428   en_list.append(
+00003d80: 656e 5f69 290a 2020 2020 615f 656e 203d  en_i).    a_en =
+00003d90: 206e 702e 7673 7461 636b 2865 6e5f 6c69   np.vstack(en_li
+00003da0: 7374 2920 2020 200a 0a20 2020 2066 2c20  st)    ..    f, 
+00003db0: 6178 203d 2070 6c74 2e73 7562 706c 6f74  ax = plt.subplot
+00003dc0: 7328 6669 6773 697a 653d 2832 302c 2031  s(figsize=(20, 1
+00003dd0: 3229 290a 2020 2020 736e 732e 6865 6174  2)).    sns.heat
+00003de0: 6d61 7028 615f 656e 2c20 6c69 6e65 7769  map(a_en, linewi
+00003df0: 6474 6873 203d 2030 2e35 2c20 6178 203d  dths = 0.5, ax =
+00003e00: 2061 782c 2061 6e6e 6f74 203d 2054 7275   ax, annot = Tru
+00003e10: 652c 2066 6d74 3d22 2e34 6622 293b 0a20  e, fmt=".4f");. 
+00003e20: 2020 2070 6c74 2e78 7469 636b 7328 7469     plt.xticks(ti
+00003e30: 636b 7320 3d20 6e70 2e61 7261 6e67 6528  cks = np.arange(
+00003e40: 3231 292c 206c 6162 656c 7320 3d20 5b66  21), labels = [f
+00003e50: 277b 693a 2e32 667d 2766 6f72 2069 2069  '{i:.2f}'for i i
+00003e60: 6e20 785d 2c20 726f 7461 7469 6f6e 3d27  n x], rotation='
+00003e70: 7665 7274 6963 616c 2729 0a20 2020 2070  vertical').    p
+00003e80: 6c74 2e79 7469 636b 7328 7469 636b 7320  lt.yticks(ticks 
+00003e90: 3d20 6e70 2e61 7261 6e67 6528 3231 292c  = np.arange(21),
+00003ea0: 206c 6162 656c 7320 3d20 5b66 277b 693a   labels = [f'{i:
+00003eb0: 2e34 667d 2766 6f72 2069 2069 6e20 6963  .4f}'for i in ic
+00003ec0: 5f6c 6973 745d 2c20 726f 7461 7469 6f6e  _list], rotation
+00003ed0: 3d27 686f 7269 7a6f 6e74 616c 2729 0a20  ='horizontal'). 
+00003ee0: 2020 2070 6c74 2e79 6c61 6265 6c28 276f     plt.ylabel('o
+00003ef0: 7468 6572 2049 4320 3d20 272c 2020 666f  ther IC = ',  fo
+00003f00: 6e74 7369 7a65 203d 2031 3529 0a20 2020  ntsize = 15).   
+00003f10: 2070 6c74 2e78 6c61 6265 6c28 2763 6f72   plt.xlabel('cor
+00003f20: 7227 2c20 666f 6e74 7369 7a65 203d 2031  r', fontsize = 1
+00003f30: 3529 0a20 2020 2070 6c74 2e73 686f 7728  5).    plt.show(
+00003f40: 290a 2020 2020 7201 0000 0072 0100 0000  ).    r....r....
+00003f50: 7201 0000 0072 0100 0000 7202 0000 00da  r....r....r.....
+00003f60: 0d70 6c6f 745f 656e 7365 6d62 6c65 8b01  .plot_ensemble..
+00003f70: 0000 7302 0000 0000 0172 0f00 0000 6300  ..s......r....c.
+00003f80: 0000 0000 0000 0000 0000 0000 0000 0001  ................
+00003f90: 0000 0043 0000 0073 0400 0000 6401 5300  ...C...s....d.S.
+00003fa0: 2902 4e75 e201 0000 0a20 2020 2073 6e73  ).Nu.....    sns
+00003fb0: 2e46 6163 6574 4772 6964 2874 7261 696e  .FacetGrid(train
+00003fc0: 2c20 6875 653d 2254 4152 4745 5422 2c20  , hue="TARGET", 
+00003fd0: 7369 7a65 3d36 2920 2020 2020 2020 2020  size=6)         
+00003fe0: 2e6d 6170 2873 6e73 2e6b 6465 706c 6f74  .map(sns.kdeplot
+00003ff0: 2c20 2276 6172 3336 2229 2020 2020 2020  , "var36")      
+00004000: 2020 202e 6164 645f 6c65 6765 6e64 2829     .add_legend()
+00004010: 0a20 2020 2020 2020 2070 6c74 2e74 6974  .        plt.tit
+00004020: 6c65 2827 4966 2076 6172 3336 2069 7320  le('If var36 is 
+00004030: 302c 312c 3220 6f72 2033 203d 3e20 6c65  0,1,2 or 3 => le
+00004040: 7373 2075 6e68 6170 7079 2063 7573 746f  ss unhappy custo
+00004050: 6d65 7273 2729 3b0a 0a20 2020 2064 6620  mers');..    df 
+00004060: 3d20 7472 6169 6e2e 636f 7079 2829 0a20  = train.copy(). 
+00004070: 2020 2076 6320 3d20 6466 5b27 635f 3027     vc = df['c_0'
+00004080: 5d2e 7661 6c75 655f 636f 756e 7473 2829  ].value_counts()
+00004090: 2e69 6c6f 635b 3a31 305d 0a20 2020 2064  .iloc[:10].    d
+000040a0: 6620 3d20 6466 5b64 665b 2763 5f30 275d  f = df[df['c_0']
+000040b0: 2e69 7369 6e28 7663 2e69 6e64 6578 295d  .isin(vc.index)]
+000040c0: 0a0a 2020 2020 2320 e99a 94e5 a381 0a20  ..    # ....... 
+000040d0: 2020 2073 6e73 2e63 6f75 6e74 706c 6f74     sns.countplot
+000040e0: 2878 3d27 635f 3027 2c20 6875 653d 276c  (x='c_0', hue='l
+000040f0: 6162 656c 272c 2064 6174 6120 3d20 6466  abel', data = df
+00004100: 290a 0a20 2020 2023 20e9 878d e58f a00a  )..    # .......
+00004110: 2020 2020 736e 732e 4661 6365 7447 7269      sns.FacetGri
+00004120: 6428 6466 2c20 6875 653d 276c 6162 656c  d(df, hue='label
+00004130: 272c 2073 697a 653d 3429 2020 2020 202e  ', size=4)     .
+00004140: 6d61 7028 736e 732e 636f 756e 7470 6c6f  map(sns.countplo
+00004150: 742c 2027 635f 3027 2c20 616c 7068 613d  t, 'c_0', alpha=
+00004160: 302e 3729 2020 2020 202e 6164 645f 6c65  0.7)     .add_le
+00004170: 6765 6e64 2829 0a20 2020 2070 6c74 2e73  gend().    plt.s
+00004180: 686f 7728 290a 2020 2020 7201 0000 0072  how().    r....r
+00004190: 0100 0000 7201 0000 0072 0100 0000 7202  ....r....r....r.
+000041a0: 0000 00da 0870 6c6f 745f 6875 65bb 0100  .....plot_hue...
+000041b0: 0073 0200 0000 0001 7210 0000 0063 0000  .s......r....c..
+000041c0: 0000 0000 0000 0000 0000 0000 0000 0100  ................
+000041d0: 0000 4300 0000 7304 0000 0064 0153 0029  ..C...s....d.S.)
+000041e0: 024e 61b8 0300 000a 2020 2020 7320 3d20  .Na.....    s = 
+000041f0: 6466 5f70 7265 645b 2779 5f70 7265 6427  df_pred['y_pred'
+00004200: 5d5b 3a6b 5d2e 636f 7079 2829 0a20 2020  ][:k].copy().   
+00004210: 2073 202f 3d20 732e 7375 6d28 290a 2020   s /= s.sum().  
+00004220: 2020 706c 742e 6669 6775 7265 2866 6967    plt.figure(fig
+00004230: 7369 7a65 3d28 3230 2c33 2929 0a20 2020  size=(20,3)).   
+00004240: 2028 732e 6375 6d73 756d 2829 202f 2073   (s.cumsum() / s
+00004250: 2e73 756d 2829 292e 706c 6f74 2829 0a20  .sum()).plot(). 
+00004260: 2020 2070 6c74 2e6d 696e 6f72 7469 636b     plt.minortick
+00004270: 735f 6f6e 2829 0a20 2020 2070 6c74 2e67  s_on().    plt.g
+00004280: 7269 6428 5472 7565 2c20 7768 6963 683d  rid(True, which=
+00004290: 2762 6f74 6827 290a 2020 2020 706c 742e  'both').    plt.
+000042a0: 7368 6f77 2829 0a0a 2020 2020 706c 742e  show()..    plt.
+000042b0: 6669 6775 7265 2866 6967 7369 7a65 3d28  figure(figsize=(
+000042c0: 3230 2c33 2929 0a20 2020 2070 6c74 2e62  20,3)).    plt.b
+000042d0: 6172 286e 702e 6172 616e 6765 286c 656e  ar(np.arange(len
+000042e0: 2873 2929 2c20 7329 0a20 2020 2070 6c74  (s)), s).    plt
+000042f0: 2e6d 696e 6f72 7469 636b 735f 6f6e 2829  .minorticks_on()
+00004300: 0a20 2020 2070 6c74 2e67 7269 6428 5472  .    plt.grid(Tr
+00004310: 7565 2c20 7768 6963 683d 2762 6f74 6827  ue, which='both'
+00004320: 290a 2020 2020 706c 742e 7874 6963 6b73  ).    plt.xticks
+00004330: 2874 6963 6b73 203d 206e 702e 6172 616e  (ticks = np.aran
+00004340: 6765 286b 292c 206c 6162 656c 7320 3d20  ge(k), labels = 
+00004350: 636f 6465 732c 2072 6f74 6174 696f 6e3d  codes, rotation=
+00004360: 2776 6572 7469 6361 6c27 290a 2020 2020  'vertical').    
+00004370: 706c 742e 7368 6f77 2829 0a0a 2020 2020  plt.show()..    
+00004380: 6465 6620 6466 5f62 6172 706c 6f74 2864  def df_barplot(d
+00004390: 6629 3a0a 2020 2020 2020 2020 2320 6466  f):.        # df
+000043a0: 2e70 6c6f 7428 6b69 6e64 203d 2027 6261  .plot(kind = 'ba
+000043b0: 7227 2c20 6669 6773 697a 653d 2832 302c  r', figsize=(20,
+000043c0: 3429 293b 0a20 2020 2020 2020 2064 665f  4));.        df_
+000043d0: 706c 6f74 203d 2070 642e 4461 7461 4672  plot = pd.DataFr
+000043e0: 616d 6528 7b27 7827 3a20 6c69 7374 2864  ame({'x': list(d
+000043f0: 662e 696e 6465 7829 202a 2064 662e 7368  f.index) * df.sh
+00004400: 6170 655b 315d 2c20 0a20 2020 2020 2020  ape[1], .       
+00004410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004420: 2020 2020 2020 2020 2027 6875 6527 3a20           'hue': 
+00004430: 6e70 2e72 6176 656c 285b 5b69 5d20 2a20  np.ravel([[i] * 
+00004440: 6466 2e73 6861 7065 5b30 5d20 666f 7220  df.shape[0] for 
+00004450: 6920 696e 2072 616e 6765 2864 662e 7368  i in range(df.sh
+00004460: 6170 655b 315d 295d 292c 0a20 2020 2020  ape[1])]),.     
+00004470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004480: 2020 2020 2020 2020 2020 2027 7927 3a20             'y': 
+00004490: 6466 2e54 2e76 616c 7565 732e 7261 7665  df.T.values.rave
+000044a0: 6c28 297d 290a 2020 2020 2020 2020 706c  l()}).        pl
+000044b0: 742e 6669 6775 7265 2866 6967 7369 7a65  t.figure(figsize
+000044c0: 3d28 3230 2c20 3329 290a 2020 2020 2020  =(20, 3)).      
+000044d0: 2020 736e 732e 6261 7270 6c6f 7428 7820    sns.barplot(x 
+000044e0: 3d20 2778 272c 2079 203d 2027 7927 2c20  = 'x', y = 'y', 
+000044f0: 6875 6520 3d20 2768 7565 272c 2064 6174  hue = 'hue', dat
+00004500: 6120 3d20 6466 5f70 6c6f 742c 2061 6c70  a = df_plot, alp
+00004510: 6861 203d 2030 2e38 290a 2020 2020 2020  ha = 0.8).      
+00004520: 2020 706c 742e 6c65 6765 6e64 2827 272c    plt.legend('',
+00004530: 2066 7261 6d65 6f6e 203d 2046 616c 7365   frameon = False
+00004540: 290a 2020 2020 2020 2020 2320 706c 742e  ).        # plt.
+00004550: 6d69 6e6f 7274 6963 6b73 5f6f 6e28 290a  minorticks_on().
+00004560: 2020 2020 2020 2020 706c 742e 6772 6964          plt.grid
+00004570: 2854 7275 652c 2077 6869 6368 203d 2027  (True, which = '
+00004580: 626f 7468 2729 0a20 2020 2020 2020 2070  both').        p
+00004590: 6c74 2e73 686f 7728 293b 0a20 2020 2072  lt.show();.    r
+000045a0: 0100 0000 7201 0000 0072 0100 0000 7201  ....r....r....r.
+000045b0: 0000 0072 0200 0000 da08 706c 6f74 5f62  ...r......plot_b
+000045c0: 6172 d001 0000 7302 0000 0000 0172 1100  ar....s......r..
+000045d0: 0000 6300 0000 0000 0000 0000 0000 0000  ..c.............
+000045e0: 0000 0001 0000 0043 0000 0073 0400 0000  .......C...s....
+000045f0: 6401 5300 2902 4e61 da05 0000 0a20 2020  d.S.).Na.....   
+00004600: 2064 6566 2062 6f78 706c 6f74 2864 665f   def boxplot(df_
+00004610: 6964 2c20 636f 6c20 3d20 2779 5f74 7275  id, col = 'y_tru
+00004620: 6527 293a 0a20 2020 2020 2020 2070 6c74  e'):.        plt
+00004630: 2e66 6967 7572 6528 6669 6773 697a 653d  .figure(figsize=
+00004640: 2832 302c 2032 2929 0a20 2020 2020 2020  (20, 2)).       
+00004650: 2070 6c74 2e74 6974 6c65 2866 275b 2b5d   plt.title(f'[+]
+00004660: 207b 636f 6c7d 2062 6f78 706c 6f74 2729   {col} boxplot')
+00004670: 0a20 2020 2020 2020 2070 6c74 2e62 6f78  .        plt.box
+00004680: 706c 6f74 2864 665f 6964 5b63 6f6c 5d2c  plot(df_id[col],
+00004690: 2076 6572 7420 3d20 4661 6c73 6529 0a20   vert = False). 
+000046a0: 2020 2020 2020 2070 6c74 2e6d 696e 6f72         plt.minor
+000046b0: 7469 636b 735f 6f6e 2829 0a20 2020 2020  ticks_on().     
+000046c0: 2020 2070 6c74 2e67 7269 6428 5472 7565     plt.grid(True
+000046d0: 2c20 7768 6963 683d 2762 6f74 6827 290a  , which='both').
+000046e0: 2020 2020 2020 2020 706c 742e 7368 6f77          plt.show
+000046f0: 2829 0a20 2020 2020 2020 200a 2020 2020  ().        .    
+00004700: 6465 6620 706c 6f74 2864 662c 2063 6f6c  def plot(df, col
+00004710: 203d 2027 7265 7427 293a 0a20 2020 2020   = 'ret'):.     
+00004720: 2020 2064 6620 3d20 6466 2e63 6f70 7928     df = df.copy(
+00004730: 290a 2020 2020 2020 2020 6466 2e69 6e64  ).        df.ind
+00004740: 6578 203d 2064 662e 696e 6465 782e 6173  ex = df.index.as
+00004750: 7479 7065 2873 7472 290a 0a20 2020 2020  type(str)..     
+00004760: 2020 2070 6c74 2e66 6967 7572 6528 6669     plt.figure(fi
+00004770: 6773 697a 653d 2832 302c 2033 2929 0a20  gsize=(20, 3)). 
+00004780: 2020 2020 2020 2064 665b 636f 6c5d 2e70         df[col].p
+00004790: 6c6f 7428 290a 2020 2020 2020 2020 785f  lot().        x_
+000047a0: 7469 636b 7320 3d20 6c69 7374 2872 616e  ticks = list(ran
+000047b0: 6765 286c 656e 2864 6629 2929 0a20 2020  ge(len(df))).   
+000047c0: 2020 2020 2078 5f6c 6162 656c 7320 3d20       x_labels = 
+000047d0: 6c69 7374 2864 662e 696e 6465 7829 0a20  list(df.index). 
+000047e0: 2020 2020 2020 206b 203d 2035 0a20 2020         k = 5.   
+000047f0: 2020 2020 2078 5f74 6963 6b73 203d 205b       x_ticks = [
+00004800: 785f 7469 636b 735b 695d 2066 6f72 2069  x_ticks[i] for i
+00004810: 2069 6e20 7261 6e67 6528 6c65 6e28 785f   in range(len(x_
+00004820: 7469 636b 7329 2920 6966 2069 2025 206b  ticks)) if i % k
+00004830: 203d 3d20 305d 0a20 2020 2020 2020 2078   == 0].        x
+00004840: 5f6c 6162 656c 7320 3d20 5b78 5f6c 6162  _labels = [x_lab
+00004850: 656c 735b 695d 2066 6f72 2069 2069 6e20  els[i] for i in 
+00004860: 7261 6e67 6528 6c65 6e28 785f 6c61 6265  range(len(x_labe
+00004870: 6c73 2929 2069 6620 6920 2520 6b20 3d3d  ls)) if i % k ==
+00004880: 2030 5d0a 2020 2020 2020 2020 706c 742e   0].        plt.
+00004890: 7874 6963 6b73 2874 6963 6b73 203d 2078  xticks(ticks = x
+000048a0: 5f74 6963 6b73 2c20 6c61 6265 6c73 203d  _ticks, labels =
+000048b0: 2078 5f6c 6162 656c 732c 2072 6f74 6174   x_labels, rotat
+000048c0: 696f 6e20 3d20 2776 6572 7469 6361 6c27  ion = 'vertical'
+000048d0: 2c20 666f 6e74 7369 7a65 3d38 290a 0a20  , fontsize=8).. 
+000048e0: 2020 2020 2020 2070 6c74 2e6d 696e 6f72         plt.minor
+000048f0: 7469 636b 735f 6f6e 2829 0a20 2020 2020  ticks_on().     
+00004900: 2020 2023 2070 6c74 2e67 7269 6428 5472     # plt.grid(Tr
+00004910: 7565 2c20 7768 6963 683d 2762 6f74 6827  ue, which='both'
+00004920: 290a 2020 2020 2020 2020 706c 742e 6772  ).        plt.gr
+00004930: 6964 2854 7275 6529 0a20 2020 2020 2020  id(True).       
+00004940: 2070 6c74 2e73 686f 7728 290a 0a20 2020   plt.show()..   
+00004950: 2064 6566 2070 6c6f 745f 6e75 6d28 782c   def plot_num(x,
+00004960: 2070 6c6f 745f 6f75 746c 6965 7220 3d20   plot_outlier = 
+00004970: 5472 7565 293a 0a20 2020 2020 2020 2070  True):.        p
+00004980: 7269 6e74 2827 3d3d 3d3d 3d3d 3d3d 3d3d  rint('==========
+00004990: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000049a0: 3d3d 3d3d 2070 6c6f 745f 6e75 6d20 3d3d  ==== plot_num ==
+000049b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000049c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 2729 0a20  ============'). 
+000049d0: 2020 2020 2020 2070 7269 6e74 2827 6e20         print('n 
+000049e0: 3d20 7b7d 2c20 6e75 6c6c 203d 207b 7d27  = {}, null = {}'
+000049f0: 2e66 6f72 6d61 7428 6c65 6e28 7829 2c20  .format(len(x), 
+00004a00: 7064 2e69 736e 756c 6c28 7829 2e73 756d  pd.isnull(x).sum
+00004a10: 2829 2929 0a20 2020 2020 2020 2064 6573  ())).        des
+00004a20: 203d 2078 2e64 6573 6372 6962 6528 290a   = x.describe().
+00004a30: 2020 2020 2020 2020 6465 735b 276e 756e          des['nun
+00004a40: 6971 7565 275d 203d 2078 2e6e 756e 6971  ique'] = x.nuniq
+00004a50: 7565 2829 0a20 2020 2020 2020 2070 7269  ue().        pri
+00004a60: 6e74 2864 6573 290a 2020 2020 2020 2020  nt(des).        
+00004a70: 0a20 2020 2020 2020 2023 2064 6973 740a  .        # dist.
+00004a80: 2020 2020 2020 2020 736e 732e 6469 7374          sns.dist
+00004a90: 706c 6f74 2878 293b 0a20 2020 2020 2020  plot(x);.       
+00004aa0: 2070 6c74 2e73 686f 7728 293b 0a0a 2020   plt.show();..  
+00004ab0: 2020 2020 2020 2320 626f 780a 2020 2020        # box.    
+00004ac0: 2020 2020 6120 3d20 706c 742e 626f 7870      a = plt.boxp
+00004ad0: 6c6f 7428 782c 2073 796d 3d27 2b27 293b  lot(x, sym='+');
+00004ae0: 0a20 2020 2020 2020 2070 6c74 2e73 686f  .        plt.sho
+00004af0: 7728 293b 0a20 2020 2020 2020 200a 2020  w();.        .  
+00004b00: 2020 2020 2020 7072 696e 7428 273d 3d3d        print('===
+00004b10: 3d3d 3d3d 3d3d 3d20 6f75 746c 6965 7220  ======= outlier 
+00004b20: 3d3d 3d3d 3d3d 3d3d 3d3d 2729 0a20 2020  ==========').   
+00004b30: 2020 2020 2078 5f6f 7574 6c69 6572 203d       x_outlier =
+00004b40: 2070 642e 5365 7269 6573 2828 615b 2766   pd.Series((a['f
+00004b50: 6c69 6572 7327 5d5b 305d 2e67 6574 5f64  liers'][0].get_d
+00004b60: 6174 6128 295b 315d 2929 0a20 2020 2020  ata()[1])).     
+00004b70: 2020 2069 6620 6c65 6e28 785f 6f75 746c     if len(x_outl
+00004b80: 6965 7229 2021 3d20 3020 616e 6420 706c  ier) != 0 and pl
+00004b90: 6f74 5f6f 7574 6c69 6572 3a0a 2020 2020  ot_outlier:.    
+00004ba0: 2020 2020 2020 2020 706c 6f74 5f6e 756d          plot_num
+00004bb0: 2878 5f6f 7574 6c69 6572 2c20 706c 6f74  (x_outlier, plot
+00004bc0: 5f6f 7574 6c69 6572 203d 2046 616c 7365  _outlier = False
+00004bd0: 290a 2020 2020 7201 0000 0072 0100 0000  ).    r....r....
+00004be0: 7201 0000 0072 0100 0000 7202 0000 00da  r....r....r.....
+00004bf0: 0c70 6c6f 745f 626f 7870 6c6f 74ee 0100  .plot_boxplot...
+00004c00: 0073 0200 0000 0001 7212 0000 0063 0000  .s......r....c..
+00004c10: 0000 0000 0000 0000 0000 0000 0000 0100  ................
+00004c20: 0000 4300 0000 7304 0000 0064 0153 0029  ..C...s....d.S.)
+00004c30: 024e 61e2 0400 000a 2020 2020 6465 6620  .Na.....    def 
+00004c40: 7375 6270 6c6f 745f 6b64 655f 6875 6528  subplot_kde_hue(
+00004c50: 7472 6169 6e2c 2074 7261 696e 5f6c 6162  train, train_lab
+00004c60: 656c 2c20 636f 6c5f 6665 612c 206e 203d  el, col_fea, n =
+00004c70: 2032 3029 3a0a 2020 2020 2020 2020 6e5f   20):.        n_
+00004c80: 636f 6c20 3d20 340a 2020 2020 2020 2020  col = 4.        
+00004c90: 6e5f 726f 7720 3d20 696e 7428 6e70 2e63  n_row = int(np.c
+00004ca0: 6569 6c28 312e 3020 2a20 6e20 2f20 6e5f  eil(1.0 * n / n_
+00004cb0: 636f 6c29 290a 0a20 2020 2020 2020 2066  col))..        f
+00004cc0: 6967 2c20 6178 6573 203d 2070 6c74 2e73  ig, axes = plt.s
+00004cd0: 7562 706c 6f74 7328 6e5f 726f 772c 206e  ubplots(n_row, n
+00004ce0: 5f63 6f6c 2c20 6669 6773 697a 653d 2831  _col, figsize=(1
+00004cf0: 362c 2038 292c 2073 6861 7265 7820 3d20  6, 8), sharex = 
+00004d00: 5472 7565 290a 2020 2020 2020 2020 666f  True).        fo
+00004d10: 7220 6920 696e 2072 616e 6765 286e 293a  r i in range(n):
+00004d20: 0a20 2020 2020 2020 2020 2020 2063 6f6c  .            col
+00004d30: 203d 2063 6f6c 5f66 6561 5b69 5d0a 2020   = col_fea[i].  
+00004d40: 2020 2020 2020 2020 2020 695f 726f 772c            i_row,
+00004d50: 2069 5f63 6f6c 203d 2069 6e74 2869 202f   i_col = int(i /
+00004d60: 206e 5f63 6f6c 292c 2069 2025 206e 5f63   n_col), i % n_c
+00004d70: 6f6c 0a20 2020 2020 2020 2020 2020 2061  ol.            a
+00004d80: 785f 6920 3d20 6178 6573 5b69 5f72 6f77  x_i = axes[i_row
+00004d90: 2c20 695f 636f 6c5d 0a20 2020 2020 2020  , i_col].       
+00004da0: 2020 2020 2073 6e73 2e6b 6465 706c 6f74       sns.kdeplot
+00004db0: 2874 7261 696e 5b74 7261 696e 5f6c 6162  (train[train_lab
+00004dc0: 656c 203d 3d20 315d 5b63 6f6c 5d2c 2061  el == 1][col], a
+00004dd0: 783d 6178 5f69 290a 2020 2020 2020 2020  x=ax_i).        
+00004de0: 2020 2020 736e 732e 6b64 6570 6c6f 7428      sns.kdeplot(
+00004df0: 7472 6169 6e5b 7472 6169 6e5f 6c61 6265  train[train_labe
+00004e00: 6c20 3d3d 2030 5d5b 636f 6c5d 2c20 6178  l == 0][col], ax
+00004e10: 3d61 785f 6929 0a20 2020 2020 2020 2020  =ax_i).         
+00004e20: 2020 2061 785f 692e 6c65 6765 6e64 285b     ax_i.legend([
+00004e30: 2731 272c 2730 275d 290a 2020 2020 2020  '1','0']).      
+00004e40: 2020 2020 2020 6178 5f69 2e73 6574 5f74        ax_i.set_t
+00004e50: 6974 6c65 2863 6f6c 290a 2020 2020 2020  itle(col).      
+00004e60: 2020 2020 2020 6178 5f69 2e67 7269 6428        ax_i.grid(
+00004e70: 290a 0a20 2020 2020 2020 2070 6c74 2e73  )..        plt.s
+00004e80: 686f 7728 290a 2020 2020 7375 6270 6c6f  how().    subplo
+00004e90: 745f 6b64 655f 6875 6528 7472 6169 6e32  t_kde_hue(train2
+00004ea0: 2c20 7472 6169 6e5f 6c61 6265 6c2c 2064  , train_label, d
+00004eb0: 665f 696d 705f 6469 7374 5b3a 3230 5d5b  f_imp_dist[:20][
+00004ec0: 2766 6561 275d 290a 0a20 2020 2064 6566  'fea'])..    def
+00004ed0: 2073 7562 706c 6f74 5f70 6c6f 745f 7663   subplot_plot_vc
+00004ee0: 2874 7261 696e 2c20 7465 7374 2c20 636f  (train, test, co
+00004ef0: 6c5f 6665 612c 206e 203d 2032 3029 3a0a  l_fea, n = 20):.
+00004f00: 2020 2020 2020 2020 6e5f 636f 6c20 3d20          n_col = 
+00004f10: 340a 2020 2020 2020 2020 6e5f 726f 7720  4.        n_row 
+00004f20: 3d20 696e 7428 6e70 2e63 6569 6c28 312e  = int(np.ceil(1.
+00004f30: 3020 2a20 6e20 2f20 6e5f 636f 6c29 290a  0 * n / n_col)).
+00004f40: 0a20 2020 2020 2020 2066 6967 2c20 6178  .        fig, ax
+00004f50: 6573 203d 2070 6c74 2e73 7562 706c 6f74  es = plt.subplot
+00004f60: 7328 6e5f 726f 772c 206e 5f63 6f6c 2c20  s(n_row, n_col, 
+00004f70: 6669 6773 697a 653d 2831 362c 2038 292c  figsize=(16, 8),
+00004f80: 2073 6861 7265 7820 3d20 5472 7565 290a   sharex = True).
+00004f90: 2020 2020 2020 2020 666f 7220 6920 696e          for i in
+00004fa0: 2072 616e 6765 286e 293a 0a20 2020 2020   range(n):.     
+00004fb0: 2020 2020 2020 2063 6f6c 203d 2063 6f6c         col = col
+00004fc0: 5f66 6561 5b69 5d0a 2020 2020 2020 2020  _fea[i].        
+00004fd0: 2020 2020 695f 726f 772c 2069 5f63 6f6c      i_row, i_col
+00004fe0: 203d 2069 6e74 2869 202f 206e 5f63 6f6c   = int(i / n_col
+00004ff0: 292c 2069 2025 206e 5f63 6f6c 0a20 2020  ), i % n_col.   
+00005000: 2020 2020 2020 2020 2061 785f 6920 3d20           ax_i = 
+00005010: 6178 6573 5b69 5f72 6f77 2c20 695f 636f  axes[i_row, i_co
+00005020: 6c5d 0a20 2020 2020 2020 2020 2020 200a  l].            .
+00005030: 2020 2020 2020 2020 2020 2020 6178 5f69              ax_i
+00005040: 2e70 6c6f 7428 7472 6169 6e5b 636f 6c5d  .plot(train[col]
+00005050: 2e76 616c 7565 5f63 6f75 6e74 7328 292e  .value_counts().
+00005060: 7661 6c75 6573 290a 2020 2020 2020 2020  values).        
+00005070: 2020 2020 6178 5f69 2e70 6c6f 7428 7465      ax_i.plot(te
+00005080: 7374 5b63 6f6c 5d2e 7661 6c75 655f 636f  st[col].value_co
+00005090: 756e 7473 2829 2e76 616c 7565 7329 0a20  unts().values). 
+000050a0: 2020 2020 2020 2020 2020 2061 785f 692e             ax_i.
+000050b0: 6c65 6765 6e64 285b 2774 7261 696e 272c  legend(['train',
+000050c0: 2774 6573 7427 5d29 0a20 2020 2020 2020  'test']).       
+000050d0: 2020 2020 2061 785f 692e 7365 745f 7469       ax_i.set_ti
+000050e0: 746c 6528 636f 6c29 0a20 2020 2020 2020  tle(col).       
+000050f0: 2020 2020 2061 785f 692e 6772 6964 2829       ax_i.grid()
+00005100: 0a20 2020 2020 2020 2070 6c74 2e73 686f  .        plt.sho
+00005110: 7728 293b 0a20 2020 2072 0100 0000 7201  w();.    r....r.
+00005120: 0000 0072 0100 0000 7201 0000 0072 0200  ...r....r....r..
+00005130: 0000 da0c 706c 6f74 5f73 7562 706c 6f74  ....plot_subplot
+00005140: 1f02 0000 7302 0000 0000 0172 1300 0000  ....s......r....
+00005150: 6300 0000 0000 0000 0000 0000 0000 0000  c...............
+00005160: 0001 0000 0043 0000 0073 0400 0000 6401  .....C...s....d.
+00005170: 5300 2902 4e61 ab02 0000 0a20 2020 2064  S.).Na.....    d
+00005180: 6566 2070 6c6f 745f 7265 6728 6466 2c20  ef plot_reg(df, 
+00005190: 636f 6c2c 2063 6f6c 5f6c 6162 656c 293a  col, col_label):
+000051a0: 0a20 2020 2020 2020 2066 6967 2c20 6178  .        fig, ax
+000051b0: 203d 2070 6c74 2e73 7562 706c 6f74 7328   = plt.subplots(
+000051c0: 312c 2031 2c20 6669 6773 697a 653d 2832  1, 1, figsize=(2
+000051d0: 302c 2032 2929 0a20 2020 2020 2020 2073  0, 2)).        s
+000051e0: 6e73 2e72 6567 706c 6f74 280a 2020 2020  ns.regplot(.    
+000051f0: 2020 2020 2020 2020 7820 3d20 636f 6c2c          x = col,
+00005200: 0a20 2020 2020 2020 2020 2020 2079 203d  .            y =
+00005210: 2063 6f6c 5f6c 6162 656c 2c0a 2020 2020   col_label,.    
+00005220: 2020 2020 2020 2020 6461 7461 203d 2064          data = d
+00005230: 662c 0a20 2020 2020 2020 2020 2020 2023  f,.            #
+00005240: 206c 6f67 6973 7469 6320 3d20 5472 7565   logistic = True
+00005250: 2069 6620 6466 5b63 6f6c 5f6c 6162 656c   if df[col_label
+00005260: 5d2e 6e75 6e69 7175 6528 2920 3d3d 2032  ].nunique() == 2
+00005270: 2065 6c73 6520 4661 6c73 652c 0a20 2020   else False,.   
+00005280: 2020 2020 2020 2020 206c 6f67 6973 7469           logisti
+00005290: 6320 3d20 4661 6c73 652c 0a20 2020 2020  c = False,.     
+000052a0: 2020 2020 2020 206e 5f62 6f6f 7420 3d20         n_boot = 
+000052b0: 3130 302c 0a20 2020 2020 2020 2020 2020  100,.           
+000052c0: 2079 5f6a 6974 7465 7220 3d20 2e31 2c0a   y_jitter = .1,.
+000052d0: 2020 2020 2020 2020 2020 2020 7363 6174              scat
+000052e0: 7465 725f 6b77 7320 3d20 7b27 616c 7068  ter_kws = {'alph
+000052f0: 6127 3a30 2e31 2c20 2765 6467 6563 6f6c  a':0.1, 'edgecol
+00005300: 6f72 273a 276e 6f6e 6527 7d2c 0a20 2020  or':'none'},.   
+00005310: 2020 2020 2020 2020 2061 7820 3d20 6178           ax = ax
+00005320: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+00005330: 2020 2070 6c74 2e73 686f 7728 290a 2020     plt.show().  
+00005340: 2020 2020 2020 0a20 2020 2020 2020 2069        .        i
+00005350: 6620 6466 5b63 6f6c 5f6c 6162 656c 5d2e  f df[col_label].
+00005360: 6e75 6e69 7175 6528 2920 3d3d 2032 3a0a  nunique() == 2:.
+00005370: 2020 2020 2020 2020 2020 2020 706c 742e              plt.
+00005380: 6669 6775 7265 2866 6967 7369 7a65 3d28  figure(figsize=(
+00005390: 3230 2c20 3229 290a 2020 2020 2020 2020  20, 2)).        
+000053a0: 2020 2020 736e 732e 6b64 6570 6c6f 7428      sns.kdeplot(
+000053b0: 6466 2e6c 6f63 5b64 665b 636f 6c5f 6c61  df.loc[df[col_la
+000053c0: 6265 6c5d 203d 3d20 302c 2063 6f6c 5d29  bel] == 0, col])
+000053d0: 0a20 2020 2020 2020 2020 2020 2073 6e73  .            sns
+000053e0: 2e6b 6465 706c 6f74 2864 662e 6c6f 635b  .kdeplot(df.loc[
+000053f0: 6466 5b63 6f6c 5f6c 6162 656c 5d20 3d3d  df[col_label] ==
+00005400: 2031 2c20 636f 6c5d 290a 2020 2020 2020   1, col]).      
+00005410: 2020 2020 2020 706c 742e 7368 6f77 2829        plt.show()
+00005420: 0a20 2020 2072 0100 0000 7201 0000 0072  .    r....r....r
+00005430: 0100 0000 7201 0000 0072 0200 0000 da08  ....r....r......
+00005440: 706c 6f74 5f72 6567 4502 0000 7302 0000  plot_regE...s...
+00005450: 0000 0172 1400 0000 6300 0000 0000 0000  ...r....c.......
+00005460: 0000 0000 0000 0000 0001 0000 0043 0000  .............C..
+00005470: 0073 0400 0000 6401 5300 2902 4e61 ac05  .s....d.S.).Na..
+00005480: 0000 0a20 2020 2064 6566 2070 6c6f 745f  ...    def plot_
+00005490: 636f 7272 2864 662c 2063 6f6c 735f 7365  corr(df, cols_se
+000054a0: 6c20 3d20 4e6f 6e65 293a 0a20 2020 2020  l = None):.     
+000054b0: 2020 2063 6f6c 735f 7365 6c20 3d20 636f     cols_sel = co
+000054c0: 6c73 5f73 656c 2069 6620 636f 6c73 5f73  ls_sel if cols_s
+000054d0: 656c 2069 7320 6e6f 7420 4e6f 6e65 2065  el is not None e
+000054e0: 6c73 6520 6466 2e63 6f6c 756d 6e73 2e74  lse df.columns.t
+000054f0: 6f6c 6973 7428 290a 2020 2020 2020 2020  olist().        
+00005500: 636f 6c73 5f73 656c 203d 205b 636f 6c20  cols_sel = [col 
+00005510: 666f 7220 636f 6c20 696e 2064 6620 6966  for col in df if
+00005520: 2064 665b 636f 6c5d 2e64 7479 7065 7320   df[col].dtypes 
+00005530: 213d 2027 6f62 6a65 6374 275d 0a20 2020  != 'object'].   
+00005540: 2020 2020 2069 6d70 6f72 7420 7363 6970       import scip
+00005550: 790a 2020 2020 2020 2020 6e5f 636f 6c20  y.        n_col 
+00005560: 3d20 6c65 6e28 636f 6c73 5f73 656c 290a  = len(cols_sel).
+00005570: 2020 2020 2020 2020 6466 5f63 6f72 725f          df_corr_
+00005580: 7020 3d20 6e70 2e7a 6572 6f73 2828 6e5f  p = np.zeros((n_
+00005590: 636f 6c2c 206e 5f63 6f6c 2929 0a20 2020  col, n_col)).   
+000055a0: 2020 2020 2064 665f 636f 7272 5f73 7020       df_corr_sp 
+000055b0: 3d20 6e70 2e7a 6572 6f73 2828 6e5f 636f  = np.zeros((n_co
+000055c0: 6c2c 206e 5f63 6f6c 2929 0a20 2020 2020  l, n_col)).     
+000055d0: 2020 2066 6f72 2069 2069 6e20 7261 6e67     for i in rang
+000055e0: 6528 6e5f 636f 6c29 3a0a 2020 2020 2020  e(n_col):.      
+000055f0: 2020 2020 2020 666f 7220 6a20 696e 2072        for j in r
+00005600: 616e 6765 2869 2c20 6e5f 636f 6c29 3a0a  ange(i, n_col):.
+00005610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005620: 6331 2c20 6332 203d 2064 665b 636f 6c73  c1, c2 = df[cols
+00005630: 5f73 656c 5b69 5d5d 2c20 6466 5b63 6f6c  _sel[i]], df[col
+00005640: 735f 7365 6c5b 6a5d 5d0a 2020 2020 2020  s_sel[j]].      
+00005650: 2020 2020 2020 2020 2020 6466 5f63 6f72            df_cor
+00005660: 725f 705b 692c 206a 5d20 3d20 6e70 2e63  r_p[i, j] = np.c
+00005670: 6f72 7263 6f65 6628 6331 2c20 6332 295b  orrcoef(c1, c2)[
+00005680: 305d 5b31 5d0a 2020 2020 2020 2020 2020  0][1].          
+00005690: 2020 2020 2020 6466 5f63 6f72 725f 705b        df_corr_p[
+000056a0: 6a2c 2069 5d20 3d20 6466 5f63 6f72 725f  j, i] = df_corr_
+000056b0: 705b 692c 206a 5d0a 0a20 2020 2020 2020  p[i, j]..       
+000056c0: 2020 2020 2020 2020 2064 665f 636f 7272           df_corr
+000056d0: 5f73 705b 692c 206a 5d20 3d20 7363 6970  _sp[i, j] = scip
+000056e0: 792e 7374 6174 732e 7370 6561 726d 616e  y.stats.spearman
+000056f0: 7228 6331 2c20 6332 295b 305d 0a20 2020  r(c1, c2)[0].   
+00005700: 2020 2020 2020 2020 2020 2020 2064 665f               df_
+00005710: 636f 7272 5f73 705b 6a2c 2069 5d20 3d20  corr_sp[j, i] = 
+00005720: 6466 5f63 6f72 725f 7370 5b69 2c20 6a5d  df_corr_sp[i, j]
+00005730: 0a20 2020 2020 2020 200a 2020 2020 2020  .        .      
+00005740: 2020 6466 5f63 6f72 725f 7020 3d20 7064    df_corr_p = pd
+00005750: 2e44 6174 6146 7261 6d65 2864 665f 636f  .DataFrame(df_co
+00005760: 7272 5f70 2c20 696e 6465 7820 3d20 636f  rr_p, index = co
+00005770: 6c73 5f73 656c 2c20 636f 6c75 6d6e 7320  ls_sel, columns 
+00005780: 3d20 636f 6c73 5f73 656c 2920 2020 2020  = cols_sel)     
+00005790: 200a 2020 2020 2020 2020 6466 5f63 6f72   .        df_cor
+000057a0: 725f 7370 203d 2070 642e 4461 7461 4672  r_sp = pd.DataFr
+000057b0: 616d 6528 6466 5f63 6f72 725f 7370 2c20  ame(df_corr_sp, 
+000057c0: 696e 6465 7820 3d20 636f 6c73 5f73 656c  index = cols_sel
+000057d0: 2c20 636f 6c75 6d6e 7320 3d20 636f 6c73  , columns = cols
+000057e0: 5f73 656c 2920 2020 2020 200a 2020 2020  _sel)      .    
+000057f0: 2020 2020 2020 2020 0a20 2020 2020 2020          .       
+00005800: 2023 2070 6c6f 7420 2020 200a 2020 2020   # plot    .    
+00005810: 2020 2020 706c 742e 6669 6775 7265 2866      plt.figure(f
+00005820: 6967 7369 7a65 3d28 3230 2c20 3729 290a  igsize=(20, 7)).
+00005830: 2020 2020 2020 2020 706c 742e 7375 6270          plt.subp
+00005840: 6c6f 7428 312c 2032 2c20 3129 0a20 2020  lot(1, 2, 1).   
+00005850: 2020 2020 2073 6e73 2e68 6561 746d 6170       sns.heatmap
+00005860: 2864 665f 636f 7272 5f70 2c20 6c69 6e65  (df_corr_p, line
+00005870: 7769 6474 6873 203d 2030 2e35 2c20 7371  widths = 0.5, sq
+00005880: 7561 7265 3d54 7275 652c 0a20 2020 2020  uare=True,.     
+00005890: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+000058a0: 6e6e 6f74 3d54 7275 652c 2066 6d74 3d27  nnot=True, fmt='
+000058b0: 2e32 6627 2c20 616e 6e6f 745f 6b77 733d  .2f', annot_kws=
+000058c0: 7b27 7369 7a65 273a 3130 7d29 3b0a 2020  {'size':10});.  
+000058d0: 2020 2020 2020 706c 742e 7469 746c 6528        plt.title(
+000058e0: 2763 6f72 7263 6f65 6627 290a 2020 2020  'corrcoef').    
+000058f0: 2020 2020 0a20 2020 2020 2020 2070 6c74      .        plt
+00005900: 2e73 7562 706c 6f74 2831 2c20 322c 2032  .subplot(1, 2, 2
+00005910: 290a 2020 2020 2020 2020 736e 732e 6865  ).        sns.he
+00005920: 6174 6d61 7028 6466 5f63 6f72 725f 7370  atmap(df_corr_sp
+00005930: 2c20 6c69 6e65 7769 6474 6873 203d 2030  , linewidths = 0
+00005940: 2e35 2c20 7371 7561 7265 3d54 7275 652c  .5, square=True,
+00005950: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005960: 2020 2020 2061 6e6e 6f74 3d54 7275 652c       annot=True,
+00005970: 2066 6d74 3d27 2e32 6627 2c20 616e 6e6f   fmt='.2f', anno
+00005980: 745f 6b77 733d 7b27 7369 7a65 273a 3130  t_kws={'size':10
+00005990: 7d29 3b0a 2020 2020 2020 2020 706c 742e  });.        plt.
+000059a0: 7469 746c 6528 2773 7065 6172 6d61 6e72  title('spearmanr
+000059b0: 2729 0a20 2020 2020 2020 2070 6c74 2e73  ').        plt.s
+000059c0: 686f 7728 2920 2020 2020 2020 200a 2020  how()        .  
+000059d0: 2020 2020 2020 0a20 2020 2023 2070 6c6f        .    # plo
+000059e0: 745f 636f 7272 2874 7261 696e 2c20 636f  t_corr(train, co
+000059f0: 6c73 5f73 656c 203d 2063 6f6c 735f 6361  ls_sel = cols_ca
+00005a00: 7420 2b20 636f 6c73 5f6e 756d 290a 2020  t + cols_num).  
+00005a10: 2020 2320 706c 6f74 5f63 6f72 7228 6261    # plot_corr(ba
+00005a20: 7369 635f 696e 666f 290a 2020 2020 7201  sic_info).    r.
+00005a30: 0000 0072 0100 0000 7201 0000 0072 0100  ...r....r....r..
+00005a40: 0000 7202 0000 00da 0970 6c6f 745f 636f  ..r......plot_co
+00005a50: 7272 5d02 0000 7302 0000 0000 0172 1500  rr]...s......r..
+00005a60: 0000 6300 0000 0000 0000 0000 0000 0000  ..c.............
+00005a70: 0000 0001 0000 0043 0000 0073 0400 0000  .......C...s....
+00005a80: 6401 5300 2902 4e75 4207 0000 0a20 2020  d.S.).NuB....   
+00005a90: 2064 6566 2070 6c6f 745f 6f6e 7428 6331   def plot_ont(c1
+00005aa0: 2c20 6332 293a 0a20 2020 2020 2020 2070  , c2):.        p
+00005ab0: 6c74 2e66 6967 7572 6528 6669 6773 697a  lt.figure(figsiz
+00005ac0: 653d 2837 2c20 3729 290a 2020 2020 2020  e=(7, 7)).      
+00005ad0: 2020 6466 5f69 203d 2064 665b 6466 5b27    df_i = df[df['
+00005ae0: 7265 6769 6f6e 275d 2e69 7369 6e28 5b31  region'].isin([1
+00005af0: 5d29 5d0a 2020 2020 2020 2020 736e 732e  ])].        sns.
+00005b00: 7265 6770 6c6f 7428 6466 5f69 5b63 315d  regplot(df_i[c1]
+00005b10: 2c20 6466 5f69 5b63 325d 2c0a 2020 2020  , df_i[c2],.    
+00005b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005b30: 6d61 726b 6572 3d27 7827 2c20 0a20 2020  marker='x', .   
+00005b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005b50: 2073 6361 7474 6572 5f6b 7773 3d7b 2761   scatter_kws={'a
+00005b60: 6c70 6861 273a 302e 3735 7d2c 0a20 2020  lpha':0.75},.   
+00005b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005b80: 206c 696e 655f 6b77 733d 7b27 616c 7068   line_kws={'alph
+00005b90: 6127 3a30 2e37 357d 290a 0a20 2020 2020  a':0.75})..     
+00005ba0: 2020 2064 665f 6920 3d20 6466 5b64 665b     df_i = df[df[
+00005bb0: 2772 6567 696f 6e27 5d2e 6973 696e 285b  'region'].isin([
+00005bc0: 322c 335d 295d 0a20 2020 2020 2020 2073  2,3])].        s
+00005bd0: 6e73 2e72 6567 706c 6f74 2864 665f 695b  ns.regplot(df_i[
+00005be0: 6331 5d2c 2064 665f 695b 6332 5d2c 200a  c1], df_i[c2], .
 00005bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005c00: 2020 2020 2020 2020 2020 206d 6f64 6520             mode 
-00005c10: 3d20 276c 696e 6573 272c 0a20 2020 2020  = 'lines',.     
-00005c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005c30: 2020 2020 2020 206e 616d 6520 3d20 6e61         name = na
-00005c40: 6d65 290a 2020 2020 2020 2020 2020 2020  me).            
-00005c50: 6669 675f 6c69 7374 2e61 7070 656e 6428  fig_list.append(
-00005c60: 6669 6729 0a20 2020 2020 2020 206c 6179  fig).        lay
-00005c70: 6f75 7420 3d20 6469 6374 2874 6974 6c65  out = dict(title
-00005c80: 203d 2063 6f6c 2c20 7961 7869 7320 3d20   = col, yaxis = 
-00005c90: 6469 6374 2874 6963 6b30 203d 2030 2c20  dict(tick0 = 0, 
-00005ca0: 6474 6963 6b3d 302e 3031 2929 0a20 2020  dtick=0.01)).   
-00005cb0: 2020 2020 2069 706c 6f74 2864 6963 7428       iplot(dict(
-00005cc0: 6461 7461 203d 2066 6967 5f6c 6973 742c  data = fig_list,
-00005cd0: 206c 6179 6f75 7420 3d20 6c61 796f 7574   layout = layout
-00005ce0: 2929 0a20 2020 2020 706c 6f74 5f63 756d  )).     plot_cum
-00005cf0: 7375 6d28 5b64 665f 6963 5d2c 205b 276c  sum([df_ic], ['l
-00005d00: 6762 275d 2c20 636f 6c5f 6461 7465 2c20  gb'], col_date, 
-00005d10: 636f 6c20 3d20 2769 6327 290a 2020 2020  col = 'ic').    
-00005d20: 7201 0000 0072 0100 0000 7201 0000 0072  r....r....r....r
-00005d30: 0100 0000 7202 0000 00da 0b70 6c6f 745f  ....r......plot_
-00005d40: 6375 6d73 756d 9c02 0000 7302 0000 0000  cumsum....s.....
-00005d50: 0172 1b00 0000 4e29 1872 0300 0000 7205  .r....N).r....r.
-00005d60: 0000 0072 0600 0000 7207 0000 0072 0800  ...r....r....r..
-00005d70: 0000 7209 0000 0072 0a00 0000 720b 0000  ..r....r....r...
-00005d80: 0072 0c00 0000 720d 0000 0072 0e00 0000  .r....r....r....
-00005d90: 720f 0000 0072 1000 0000 7211 0000 0072  r....r....r....r
-00005da0: 1200 0000 7213 0000 0072 1400 0000 7215  ....r....r....r.
-00005db0: 0000 0072 1600 0000 7217 0000 0072 1800  ...r....r....r..
-00005dc0: 0000 7219 0000 0072 1a00 0000 721b 0000  ..r....r....r...
-00005dd0: 0072 0100 0000 7201 0000 0072 0100 0000  .r....r....r....
-00005de0: 7202 0000 00da 083c 6d6f 6475 6c65 3e03  r......<module>.
-00005df0: 0000 0073 2e00 0000 083a 0803 0803 0803  ...s.....:......
-00005e00: 0803 0803 0803 0805 0806 080c 0808 0841  ...............A
-00005e10: 0830 0815 081e 0831 0826 0818 0826 0833  .0.....1.&...&.3
-00005e20: 0850 0863 080f                           .P.c..
+00005c00: 2020 2020 6d61 726b 6572 3d27 6f27 2c20      marker='o', 
+00005c10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005c20: 2020 2020 2073 6361 7474 6572 5f6b 7773       scatter_kws
+00005c30: 3d7b 2761 6c70 6861 273a 302e 367d 2c20  ={'alpha':0.6}, 
+00005c40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005c50: 2020 2020 206c 696e 655f 6b77 733d 7b27       line_kws={'
+00005c60: 616c 7068 6127 3a30 2e36 2c20 276c 696e  alpha':0.6, 'lin
+00005c70: 6573 7479 6c65 273a 2764 6173 6865 6427  estyle':'dashed'
+00005c80: 7d29 0a20 2020 2020 2020 2070 6c74 2e78  }).        plt.x
+00005c90: 6c61 6265 6c28 6331 2c20 7369 7a65 203d  label(c1, size =
+00005ca0: 2032 3029 0a20 2020 2020 2020 2070 6c74   20).        plt
+00005cb0: 2e79 6c61 6265 6c28 6332 5b3a 2d31 5d2c  .ylabel(c2[:-1],
+00005cc0: 2073 697a 6520 3d20 3230 290a 2020 2020   size = 20).    
+00005cd0: 2020 2020 706c 742e 6c65 6765 6e64 285b      plt.legend([
+00005ce0: 27e4 b89c e983 a827 2c20 27e4 b8ad e8a5  '......', '.....
+00005cf0: bfe9 83a8 275d 290a 2020 2020 2020 2020  ....']).        
+00005d00: 706c 742e 7361 7665 6669 6728 6627 2e2f  plt.savefig(f'./
+00005d10: 666f 725f 6d7a 792f 7b63 317d 5f7b 6332  for_mzy/{c1}_{c2
+00005d20: 5b3a 2d31 5d7d 2e6a 7065 6727 2c20 6470  [:-1]}.jpeg', dp
+00005d30: 6920 3d20 3230 3029 0a20 2020 2020 2020  i = 200).       
+00005d40: 2070 6c74 2e73 686f 7728 290a 0a20 2020   plt.show()..   
+00005d50: 204b 203d 2035 0a20 2020 2066 6f72 2069   K = 5.    for i
+00005d60: 2c20 636f 6c5f 7820 696e 2065 6e75 6d65  , col_x in enume
+00005d70: 7261 7465 2863 6f6c 735f 7829 3a0a 2020  rate(cols_x):.  
+00005d80: 2020 2020 2020 6966 2069 2025 204b 203d        if i % K =
+00005d90: 3d20 303a 0a20 2020 2020 2020 2020 2020  = 0:.           
+00005da0: 2070 6c74 2e66 6967 7572 6528 6669 6773   plt.figure(figs
+00005db0: 697a 6520 3d20 2832 302c 2035 2929 0a20  ize = (20, 5)). 
+00005dc0: 2020 2020 2020 2070 6c74 2e73 7562 706c         plt.subpl
+00005dd0: 6f74 2831 2c20 4b2c 2020 6920 2520 4b20  ot(1, K,  i % K 
+00005de0: 2b20 3129 0a20 2020 2020 2020 2078 2c20  + 1).        x, 
+00005df0: 7920 3d20 7465 7374 5f74 656d 705b 636f  y = test_temp[co
+00005e00: 6c5f 785d 2c20 7465 7374 5f74 656d 705b  l_x], test_temp[
+00005e10: 636f 6c5f 795d 0a20 2020 2020 2020 2023  col_y].        #
+00005e20: 2070 6c74 2e73 6361 7474 6572 2878 203d   plt.scatter(x =
+00005e30: 2078 2c20 7920 3d20 792c 2073 203d 2031   x, y = y, s = 1
+00005e40: 2c20 6d61 726b 6572 203d 2027 6f27 2c20  , marker = 'o', 
+00005e50: 616c 7068 6120 3d20 302e 3529 0a20 2020  alpha = 0.5).   
+00005e60: 2020 2020 2073 6e73 2e73 6361 7474 6572       sns.scatter
+00005e70: 706c 6f74 2878 203d 2078 2c20 7920 3d20  plot(x = x, y = 
+00005e80: 792c 2061 6c70 6861 203d 2030 2e37 3529  y, alpha = 0.75)
+00005e90: 232c 2073 203d 2031 2c20 6d61 726b 6572  #, s = 1, marker
+00005ea0: 203d 2027 6f27 2c20 616c 7068 6120 3d20   = 'o', alpha = 
+00005eb0: 302e 3529 0a20 2020 2020 2020 2070 6c74  0.5).        plt
+00005ec0: 2e67 7269 6428 290a 2020 2020 2020 2020  .grid().        
+00005ed0: 6966 2069 2025 204b 203d 3d20 4b20 2d20  if i % K == K - 
+00005ee0: 313a 0a20 2020 2020 2020 2020 2020 2070  1:.            p
+00005ef0: 6c74 2e73 686f 7728 290a 0a20 2020 2069  lt.show()..    i
+00005f00: 6d70 6f72 7420 6d61 7470 6c6f 746c 6962  mport matplotlib
+00005f10: 2e70 7970 6c6f 7420 6173 2070 6c74 0a20  .pyplot as plt. 
+00005f20: 2020 2069 6d70 6f72 7420 7365 6162 6f72     import seabor
+00005f30: 6e20 6173 2073 6e73 0a20 2020 2064 6566  n as sns.    def
+00005f40: 2073 6361 7474 6572 5f63 6f6c 6f72 5f73   scatter_color_s
+00005f50: 697a 6528 6466 2c20 782c 2079 2c20 632c  ize(df, x, y, c,
+00005f60: 2073 293a 0a20 2020 2020 2020 2063 6f6c   s):.        col
+00005f70: 6f72 7320 3d20 736e 732e 636f 6c6f 725f  ors = sns.color_
+00005f80: 7061 6c65 7474 6528 2776 6972 6964 6973  palette('viridis
+00005f90: 272c 2064 665b 635d 2e6e 756e 6971 7565  ', df[c].nunique
+00005fa0: 2829 290a 2020 2020 2020 2020 736e 732e  ()).        sns.
+00005fb0: 7265 6c70 6c6f 7428 7820 3d20 782c 2079  relplot(x = x, y
+00005fc0: 203d 2079 2c20 6875 6520 3d20 632c 2073   = y, hue = c, s
+00005fd0: 697a 6520 3d20 732c 200a 2020 2020 2020  ize = s, .      
+00005fe0: 2020 2020 2020 2020 2020 2020 2020 616c                al
+00005ff0: 7068 6120 3d20 302e 362c 2073 697a 6573  pha = 0.6, sizes
+00006000: 203d 2028 352c 2033 3030 292c 2023 20e7   = (5, 300), # .
+00006010: 82b9 e79a 84e9 808f e698 8ee5 9bbe e592  ................
+00006020: 8ce7 82b9 e79a 84e5 a4a7 e5b0 8fe8 8c83  ................
+00006030: e59b b40a 2020 2020 2020 2020 2020 2020  ....            
+00006040: 2020 2020 2020 2020 6461 7461 203d 2064          data = d
+00006050: 662c 2070 616c 6574 7465 203d 2063 6f6c  f, palette = col
+00006060: 6f72 732c 206c 6567 656e 6420 3d20 4661  ors, legend = Fa
+00006070: 6c73 6529 0a20 2020 2020 2020 2070 6c74  lse).        plt
+00006080: 2e70 6c6f 7428 6466 5b78 5d2c 2064 665b  .plot(df[x], df[
+00006090: 795d 2c20 6c69 6e65 7769 6474 6820 3d20  y], linewidth = 
+000060a0: 3129 0a20 2020 2020 2020 2070 6c74 2e74  1).        plt.t
+000060b0: 6974 6c65 2827 7469 746c 6527 290a 2020  itle('title').  
+000060c0: 2020 2020 2020 706c 742e 7368 6f77 2829        plt.show()
+000060d0: 0a20 2020 2020 2020 200a 2020 2020 6466  .        .    df
+000060e0: 203d 2074 7261 696e 5b74 7261 696e 5b27   = train[train['
+000060f0: 6964 275d 203d 3d20 305d 0a20 2020 2078  id'] == 0].    x
+00006100: 2c20 7920 3d20 2778 272c 2027 7927 0a20  , y = 'x', 'y'. 
+00006110: 2020 2063 203d 2027 7927 2023 20e6 a0b9     c = 'y' # ...
+00006120: e68d ae63 e588 86e7 bb84 efbc 8ce6 af8f  ...c............
+00006130: e4b8 aae7 bb84 31e7 a78d e9a2 9ce8 89b2  ......1.........
+00006140: efbc 8c20 2320 e58f aae6 9c89 e4b8 80e7  ... # ..........
+00006150: a78d e9a2 9ce8 89b2 e79a 84e7 94bb efbc  ................
+00006160: 8c64 665b 635d 203d 2031 e5b8 b8e6 95b0  .df[c] = 1......
+00006170: e5b0 b1e8 a18c 0a20 2020 2073 203d 2027  .......    s = '
+00006180: 7627 2023 20e5 86b3 e5ae 9ae7 82b9 e79a  v' # ...........
+00006190: 84e5 a4a7 e5b0 8f0a 2020 2020 7363 6174  ........    scat
+000061a0: 7465 725f 636f 6c6f 725f 7369 7a65 2864  ter_color_size(d
+000061b0: 662c 2078 2c20 792c 2063 2c20 7329 2020  f, x, y, c, s)  
+000061c0: 2020 2020 2020 2020 200a 2020 2020 7201           .    r.
+000061d0: 0000 0072 0100 0000 7201 0000 0072 0100  ...r....r....r..
+000061e0: 0000 7202 0000 00da 0c70 6c6f 745f 7363  ..r......plot_sc
+000061f0: 6174 7465 7283 0200 0073 0200 0000 0001  atter....s......
+00006200: 7216 0000 0063 0000 0000 0000 0000 0000  r....c..........
+00006210: 0000 0000 0000 0100 0000 4300 0000 7304  ..........C...s.
+00006220: 0000 0064 0153 0029 024e 6164 0b00 000a  ...d.S.).Nad....
+00006230: 2020 2020 696d 706f 7274 206e 756d 7079      import numpy
+00006240: 2061 7320 6e70 0a20 2020 2069 6d70 6f72   as np.    impor
+00006250: 7420 7061 6e64 6173 2061 7320 7064 0a20  t pandas as pd. 
+00006260: 2020 2069 6d70 6f72 7420 7761 726e 696e     import warnin
+00006270: 6773 200a 2020 2020 7761 726e 696e 6773  gs .    warnings
+00006280: 2e66 696c 7465 7277 6172 6e69 6e67 7328  .filterwarnings(
+00006290: 2269 676e 6f72 6522 290a 2020 2020 696d  "ignore").    im
+000062a0: 706f 7274 206d 6174 706c 6f74 6c69 622e  port matplotlib.
+000062b0: 7079 706c 6f74 2061 7320 706c 740a 2020  pyplot as plt.  
+000062c0: 2020 696d 706f 7274 2073 6561 626f 726e    import seaborn
+000062d0: 2061 7320 736e 730a 2020 2020 736e 732e   as sns.    sns.
+000062e0: 7365 7428 7374 796c 653d 2277 6869 7465  set(style="white
+000062f0: 222c 2063 6f6c 6f72 5f63 6f64 6573 3d54  ", color_codes=T
+00006300: 7275 6529 0a0a 2020 2020 6465 6620 706c  rue)..    def pl
+00006310: 6f74 5f6e 756d 2878 2c20 6465 6570 203d  ot_num(x, deep =
+00006320: 2030 2c20 706c 6f74 5f6f 7574 6c69 6572   0, plot_outlier
+00006330: 203d 2046 616c 7365 2c20 7072 696e 745f   = False, print_
+00006340: 696e 666f 203d 2046 616c 7365 293a 0a20  info = False):. 
+00006350: 2020 2020 2020 2069 6620 6465 6570 203d         if deep =
+00006360: 3d20 3020 616e 6420 7072 696e 745f 696e  = 0 and print_in
+00006370: 666f 3a0a 2020 2020 2020 2020 2020 2020  fo:.            
+00006380: 7072 696e 7428 273d 3d3d 3d3d 3d3d 3d3d  print('=========
+00006390: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000063a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d20  =============== 
+000063b0: 706c 6f74 5f6e 756d 203d 3d3d 3d3d 3d3d  plot_num =======
+000063c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000063d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000063e0: 3d27 290a 2020 2020 2020 2020 7072 696e  =').        prin
+000063f0: 7428 276e 203d 207b 7d2c 206e 756c 6c20  t('n = {}, null 
+00006400: 3d20 7b7d 272e 666f 726d 6174 286c 656e  = {}'.format(len
+00006410: 2878 292c 2070 642e 6973 6e75 6c6c 2878  (x), pd.isnull(x
+00006420: 292e 7375 6d28 2929 290a 2020 2020 2020  ).sum())).      
+00006430: 2020 6465 7320 3d20 782e 6465 7363 7269    des = x.descri
+00006440: 6265 2829 0a20 2020 2020 2020 2064 6573  be().        des
+00006450: 5b27 6e75 6e69 7175 6527 5d20 3d20 782e  ['nunique'] = x.
+00006460: 6e75 6e69 7175 6528 290a 2020 2020 2020  nunique().      
+00006470: 2020 6966 2070 7269 6e74 5f69 6e66 6f3a    if print_info:
+00006480: 0a20 2020 2020 2020 2020 2020 2070 7269  .            pri
+00006490: 6e74 2864 6573 290a 2020 2020 2020 2020  nt(des).        
+000064a0: 0a20 2020 2020 2020 2070 6c74 2e66 6967  .        plt.fig
+000064b0: 7572 6528 6669 6773 697a 6520 3d20 2832  ure(figsize = (2
+000064c0: 302c 2032 2929 0a20 2020 2020 2020 2070  0, 2)).        p
+000064d0: 6c74 2e73 7562 706c 6f74 2831 2c20 332c  lt.subplot(1, 3,
+000064e0: 2031 290a 2020 2020 2020 2020 706c 742e   1).        plt.
+000064f0: 706c 6f74 286e 702e 6172 616e 6765 286c  plot(np.arange(l
+00006500: 656e 2878 2929 2c20 6e70 2e73 6f72 7428  en(x)), np.sort(
+00006510: 7829 290a 2020 2020 2020 2020 0a20 2020  x)).        .   
+00006520: 2020 2020 2070 6c74 2e73 7562 706c 6f74       plt.subplot
+00006530: 2831 2c20 332c 2032 290a 2020 2020 2020  (1, 3, 2).      
+00006540: 2020 736e 732e 6469 7374 706c 6f74 2878    sns.distplot(x
+00006550: 293b 0a0a 2020 2020 2020 2020 706c 742e  );..        plt.
+00006560: 7375 6270 6c6f 7428 312c 2033 2c20 3329  subplot(1, 3, 3)
+00006570: 0a20 2020 2020 2020 2061 203d 2070 6c74  .        a = plt
+00006580: 2e62 6f78 706c 6f74 2878 2c20 7379 6d20  .boxplot(x, sym 
+00006590: 3d20 272b 272c 2076 6572 7420 3d20 4661  = '+', vert = Fa
+000065a0: 6c73 6529 3b0a 2020 2020 2020 2020 706c  lse);.        pl
+000065b0: 742e 7368 6f77 2829 3b0a 2020 2020 2020  t.show();.      
+000065c0: 2020 0a20 2020 2020 2020 2078 5f6f 7574    .        x_out
+000065d0: 6c69 6572 203d 2070 642e 5365 7269 6573  lier = pd.Series
+000065e0: 2828 615b 2766 6c69 6572 7327 5d5b 305d  ((a['fliers'][0]
+000065f0: 2e67 6574 5f64 6174 6128 295b 315d 2929  .get_data()[1]))
+00006600: 0a20 2020 2020 2020 2069 6620 706c 6f74  .        if plot
+00006610: 5f6f 7574 6c69 6572 2061 6e64 206c 656e  _outlier and len
+00006620: 2878 5f6f 7574 6c69 6572 2920 213d 2030  (x_outlier) != 0
+00006630: 2061 6e64 2064 6565 7020 3d3d 2030 3a0a   and deep == 0:.
+00006640: 2020 2020 2020 2020 2020 2020 6966 2070              if p
+00006650: 7269 6e74 5f69 6e66 6f3a 0a20 2020 2020  rint_info:.     
+00006660: 2020 2020 2020 2020 2020 2070 7269 6e74             print
+00006670: 2827 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ('==============
+00006680: 3d3d 3d3d 3d3d 206f 7574 6c69 6572 203d  ====== outlier =
+00006690: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000066a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d27 290a  =============').
+000066b0: 2020 2020 2020 2020 2020 2020 706c 6f74              plot
+000066c0: 5f6e 756d 2878 5f6f 7574 6c69 6572 2c20  _num(x_outlier, 
+000066d0: 6465 6570 202b 2031 290a 2020 2020 2020  deep + 1).      
+000066e0: 2020 2020 2020 0a20 2020 2064 6566 2070        .    def p
+000066f0: 6c6f 745f 6361 7428 782c 206b 203d 2031  lot_cat(x, k = 1
+00006700: 3030 2c20 7072 696e 745f 696e 666f 203d  00, print_info =
+00006710: 2046 616c 7365 293a 0a20 2020 2020 2020   False):.       
+00006720: 2076 6320 3d20 782e 7661 6c75 655f 636f   vc = x.value_co
+00006730: 756e 7473 2829 5b3a 6b5d 0a20 2020 2020  unts()[:k].     
+00006740: 2020 2069 6620 7072 696e 745f 696e 666f     if print_info
+00006750: 3a0a 2020 2020 2020 2020 2020 2020 7072  :.            pr
+00006760: 696e 7428 273d 3d3d 3d3d 3d3d 3d3d 3d3d  int('===========
+00006770: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00006780: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d20 706c  ============= pl
+00006790: 6f74 5f63 6174 203d 3d3d 3d3d 3d3d 3d3d  ot_cat =========
+000067a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000067b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d27  ==============='
+000067c0: 290a 2020 2020 2020 2020 2020 2020 7072  ).            pr
+000067d0: 696e 7428 2764 7479 7065 732e 7661 6c75  int('dtypes.valu
+000067e0: 655f 636f 756e 7473 2829 203d 200a 7b7d  e_counts() = .{}
+000067f0: 272e 666f 726d 6174 2876 632e 6865 6164  '.format(vc.head
+00006800: 2831 3029 2929 0a20 2020 2020 2020 200a  (10))).        .
+00006810: 2020 2020 2020 2020 2320 3d3d 3d3d 3d3d          # ======
+00006820: 3d3d 3d3d 2063 756d 7375 6d20 3d3d 3d3d  ==== cumsum ====
+00006830: 3d3d 3d3d 3d3d 0a20 2020 2020 2020 2076  ======.        v
+00006840: 6320 3d20 7663 2e73 6f72 745f 696e 6465  c = vc.sort_inde
+00006850: 7828 290a 2020 2020 2020 2020 2320 7072  x().        # pr
+00006860: 696e 7428 2773 6f72 7420 6279 2069 6e64  int('sort by ind
+00006870: 6578 2729 0a20 2020 2020 2020 2070 6c74  ex').        plt
+00006880: 2e66 6967 7572 6528 6669 6773 697a 653d  .figure(figsize=
+00006890: 2832 302c 2032 2929 0a20 2020 2020 2020  (20, 2)).       
+000068a0: 2070 6c74 2e73 7562 706c 6f74 2831 2c20   plt.subplot(1, 
+000068b0: 332c 2031 290a 2020 2020 2020 2020 736e  3, 1).        sn
+000068c0: 732e 6261 7270 6c6f 7428 6e70 2e61 7261  s.barplot(np.ara
+000068d0: 6e67 6528 6c65 6e28 7663 2929 2c20 7663  nge(len(vc)), vc
+000068e0: 2e76 616c 7565 7329 3b0a 2020 2020 2020  .values);.      
+000068f0: 2020 706c 742e 706c 6f74 286e 702e 6172    plt.plot(np.ar
+00006900: 616e 6765 286c 656e 2876 6329 292c 2076  ange(len(vc)), v
+00006910: 632e 7661 6c75 6573 2c20 2762 2d27 293b  c.values, 'b-');
+00006920: 0a20 2020 2020 2020 2070 6c74 2e70 6c6f  .        plt.plo
+00006930: 7428 6e70 2e61 7261 6e67 6528 6c65 6e28  t(np.arange(len(
+00006940: 7663 2929 2c20 7663 2e76 616c 7565 732c  vc)), vc.values,
+00006950: 2027 7278 2729 3b0a 2020 2020 2020 2020   'rx');.        
+00006960: 706c 742e 7874 6963 6b73 286e 702e 6172  plt.xticks(np.ar
+00006970: 616e 6765 286c 656e 2876 6329 292c 2076  ange(len(vc)), v
+00006980: 632e 696e 6465 7829 0a20 2020 2020 2020  c.index).       
+00006990: 2070 6c74 2e74 6974 6c65 2827 736f 7274   plt.title('sort
+000069a0: 2062 7920 696e 6465 7827 290a 2020 2020   by index').    
+000069b0: 2020 2020 2370 6c74 2e73 686f 7728 293b      #plt.show();
+000069c0: 0a0a 2020 2020 2020 2020 2320 7072 696e  ..        # prin
+000069d0: 7428 2773 6f72 7420 6279 2076 616c 7565  t('sort by value
+000069e0: 7327 290a 2020 2020 2020 2020 706c 742e  s').        plt.
+000069f0: 7375 6270 6c6f 7428 312c 2033 2c20 3229  subplot(1, 3, 2)
+00006a00: 0a20 2020 2020 2020 2076 6320 3d20 7663  .        vc = vc
+00006a10: 2e73 6f72 745f 7661 6c75 6573 2861 7363  .sort_values(asc
+00006a20: 656e 6469 6e67 203d 2046 616c 7365 290a  ending = False).
+00006a30: 2020 2020 2020 2020 736e 732e 6261 7270          sns.barp
+00006a40: 6c6f 7428 6e70 2e61 7261 6e67 6528 6c65  lot(np.arange(le
+00006a50: 6e28 7663 2929 2c20 7663 2e76 616c 7565  n(vc)), vc.value
+00006a60: 7329 3b0a 2020 2020 2020 2020 706c 742e  s);.        plt.
+00006a70: 706c 6f74 286e 702e 6172 616e 6765 286c  plot(np.arange(l
+00006a80: 656e 2876 6329 292c 2076 632e 7661 6c75  en(vc)), vc.valu
+00006a90: 6573 2c20 2762 2d27 293b 0a20 2020 2020  es, 'b-');.     
+00006aa0: 2020 2070 6c74 2e70 6c6f 7428 6e70 2e61     plt.plot(np.a
+00006ab0: 7261 6e67 6528 6c65 6e28 7663 2929 2c20  range(len(vc)), 
+00006ac0: 7663 2e76 616c 7565 732c 2027 7278 2729  vc.values, 'rx')
+00006ad0: 3b0a 2020 2020 2020 2020 706c 742e 7874  ;.        plt.xt
+00006ae0: 6963 6b73 286e 702e 6172 616e 6765 286c  icks(np.arange(l
+00006af0: 656e 2876 6329 292c 2076 632e 696e 6465  en(vc)), vc.inde
+00006b00: 7829 0a20 2020 2020 2020 2070 6c74 2e74  x).        plt.t
+00006b10: 6974 6c65 2827 736f 7274 2062 7920 7661  itle('sort by va
+00006b20: 6c75 6573 2729 0a20 2020 2020 2020 2023  lues').        #
+00006b30: 706c 742e 7368 6f77 2829 3b0a 0a20 2020  plt.show();..   
+00006b40: 2020 2020 2023 203d 3d3d 3d3d 3d3d 3d3d       # =========
+00006b50: 3d20 6375 6d73 756d 203d 3d3d 3d3d 3d3d  = cumsum =======
+00006b60: 3d3d 3d0a 2020 2020 2020 2020 2320 7072  ===.        # pr
+00006b70: 696e 7428 2763 756d 7375 6d27 290a 2020  int('cumsum').  
+00006b80: 2020 2020 2020 706c 742e 7375 6270 6c6f        plt.subplo
+00006b90: 7428 312c 2033 2c20 3329 0a20 2020 2020  t(1, 3, 3).     
+00006ba0: 2020 2076 6320 3d20 782e 7661 6c75 655f     vc = x.value_
+00006bb0: 636f 756e 7473 2829 0a20 2020 2020 2020  counts().       
+00006bc0: 2076 635f 6375 6d73 756d 203d 2076 632e   vc_cumsum = vc.
+00006bd0: 6375 6d73 756d 2829 2e72 6573 6574 5f69  cumsum().reset_i
+00006be0: 6e64 6578 2864 726f 7020 3d20 5472 7565  ndex(drop = True
+00006bf0: 290a 2020 2020 2020 2020 7663 5f63 756d  ).        vc_cum
+00006c00: 7375 6d20 2f3d 2076 635f 6375 6d73 756d  sum /= vc_cumsum
+00006c10: 2e6d 6178 2829 0a20 2020 2020 2020 2070  .max().        p
+00006c20: 6c74 2e70 6c6f 7428 7663 5f63 756d 7375  lt.plot(vc_cumsu
+00006c30: 6d2c 2027 622d 2729 0a20 2020 2020 2020  m, 'b-').       
+00006c40: 2070 6c74 2e70 6c6f 7428 7663 5f63 756d   plt.plot(vc_cum
+00006c50: 7375 6d2c 2027 7278 2729 0a20 2020 2020  sum, 'rx').     
+00006c60: 2020 2078 795f 3039 203d 2076 635f 6375     xy_09 = vc_cu
+00006c70: 6d73 756d 5b76 635f 6375 6d73 756d 203e  msum[vc_cumsum >
+00006c80: 3d20 302e 395d 5b3a 315d 0a20 2020 2020  = 0.9][:1].     
+00006c90: 2020 2078 5f30 392c 2079 5f30 3920 3d20     x_09, y_09 = 
+00006ca0: 7879 5f30 392e 696e 6465 782e 7661 6c75  xy_09.index.valu
+00006cb0: 6573 5b30 5d2c 2078 795f 3039 2e76 616c  es[0], xy_09.val
+00006cc0: 7565 735b 305d 0a20 2020 2020 2020 2070  ues[0].        p
+00006cd0: 6c74 2e61 7868 6c69 6e65 2879 5f30 392c  lt.axhline(y_09,
+00006ce0: 2063 6f6c 6f72 203d 2027 7227 290a 2020   color = 'r').  
+00006cf0: 2020 2020 2020 706c 742e 6178 766c 696e        plt.axvlin
+00006d00: 6528 785f 3039 2c20 636f 6c6f 7220 3d20  e(x_09, color = 
+00006d10: 2772 2729 0a20 2020 2020 2020 2070 6c74  'r').        plt
+00006d20: 2e74 6974 6c65 2827 785f 3039 203d 207b  .title('x_09 = {
+00006d30: 7d2c 2078 5f25 203d 207b 3a2e 3466 7d2c  }, x_% = {:.4f},
+00006d40: 2079 5f30 3920 3d20 7b3a 2e34 667d 272e   y_09 = {:.4f}'.
+00006d50: 666f 726d 6174 2878 5f30 392c 2078 5f30  format(x_09, x_0
+00006d60: 3920 2f20 6c65 6e28 7663 5f63 756d 7375  9 / len(vc_cumsu
+00006d70: 6d29 2c20 795f 3039 2929 0a20 2020 2020  m), y_09)).     
+00006d80: 2020 2070 6c74 2e73 686f 7728 293b 0a20     plt.show();. 
+00006d90: 2020 2072 0100 0000 7201 0000 0072 0100     r....r....r..
+00006da0: 0000 7201 0000 0072 0200 0000 da0b 706c  ..r....r......pl
+00006db0: 6f74 5f63 6f6c 735f 31b6 0200 0073 0200  ot_cols_1....s..
+00006dc0: 0000 0001 7217 0000 0063 0000 0000 0000  ....r....c......
+00006dd0: 0000 0000 0000 0000 0000 0100 0000 4300  ..............C.
+00006de0: 0000 7304 0000 0064 0153 0029 024e 61af  ..s....d.S.).Na.
+00006df0: 0e00 000a 2020 2020 6465 6620 706c 6f74  ....    def plot
+00006e00: 5f6b 6579 5f63 6f6c 2864 662c 206b 6579  _key_col(df, key
+00006e10: 2c20 636f 6c2c 206b 203d 2031 3029 3a0a  , col, k = 10):.
+00006e20: 2020 2020 2020 2020 7663 203d 2064 665b          vc = df[
+00006e30: 6b65 795d 2e76 616c 7565 5f63 6f75 6e74  key].value_count
+00006e40: 7328 292e 696c 6f63 5b3a 6b5d 0a20 2020  s().iloc[:k].   
+00006e50: 2020 2020 2023 2070 7269 6e74 2876 6329       # print(vc)
+00006e60: 0a20 2020 2020 2020 2064 6620 3d20 6466  .        df = df
+00006e70: 5b64 665b 6b65 795d 2e69 7369 6e28 7663  [df[key].isin(vc
+00006e80: 2e69 6e64 6578 295d 2e72 6573 6574 5f69  .index)].reset_i
+00006e90: 6e64 6578 2864 726f 7020 3d20 5472 7565  ndex(drop = True
+00006ea0: 290a 2020 2020 2020 2020 706c 742e 6669  ).        plt.fi
+00006eb0: 6775 7265 2866 6967 7369 7a65 203d 2028  gure(figsize = (
+00006ec0: 3230 2c20 3329 290a 2020 2020 2020 2020  20, 3)).        
+00006ed0: 736e 732e 626f 7870 6c6f 7428 783d 6b65  sns.boxplot(x=ke
+00006ee0: 792c 2079 3d63 6f6c 2c20 6461 7461 203d  y, y=col, data =
+00006ef0: 2064 665b 5b6b 6579 2c20 636f 6c5d 5d29   df[[key, col]])
+00006f00: 0a20 2020 2020 2020 2070 6c74 2e6c 6567  .        plt.leg
+00006f10: 656e 6428 5b27 7b7d 203d 207b 7d27 2e66  end(['{} = {}'.f
+00006f20: 6f72 6d61 7428 692c 2076 632e 6c6f 635b  ormat(i, vc.loc[
+00006f30: 695d 2920 666f 7220 6920 696e 2076 632e  i]) for i in vc.
+00006f40: 696e 6465 785d 290a 2020 2020 2020 2020  index]).        
+00006f50: 706c 742e 7469 746c 6528 2770 6c6f 745f  plt.title('plot_
+00006f60: 6b65 795f 636f 6c27 290a 2020 2020 2020  key_col').      
+00006f70: 2020 706c 742e 7368 6f77 2829 3b0a 0a20    plt.show();.. 
+00006f80: 2020 2064 6566 2070 6c6f 745f 6361 745f     def plot_cat_
+00006f90: 6e75 6d28 6466 2c20 6b65 792c 2063 6f6c  num(df, key, col
+00006fa0: 2c20 6b20 3d20 3130 293a 0a20 2020 2020  , k = 10):.     
+00006fb0: 2020 2023 206b 6579 5f63 6f6c 0a20 2020     # key_col.   
+00006fc0: 2020 2020 2070 6c6f 745f 6b65 795f 636f       plot_key_co
+00006fd0: 6c28 6466 2c20 6b65 792c 2063 6f6c 2c20  l(df, key, col, 
+00006fe0: 6b20 3d20 6b29 0a20 2020 2020 2020 200a  k = k).        .
+00006ff0: 2020 2020 2020 2020 2320 7661 6c75 655f          # value_
+00007000: 636f 756e 7473 0a20 2020 2020 2020 2076  counts.        v
+00007010: 6320 3d20 6466 5b6b 6579 5d2e 7661 6c75  c = df[key].valu
+00007020: 655f 636f 756e 7473 2829 2e69 6c6f 635b  e_counts().iloc[
+00007030: 3a6b 5d0a 2020 2020 2020 2020 7663 203d  :k].        vc =
+00007040: 2076 632e 736f 7274 5f69 6e64 6578 2829   vc.sort_index()
+00007050: 0a20 2020 2020 2020 2070 6c74 2e66 6967  .        plt.fig
+00007060: 7572 6528 6669 6773 697a 6520 3d20 2832  ure(figsize = (2
+00007070: 302c 2033 2929 0a20 2020 2020 2020 2070  0, 3)).        p
+00007080: 6c74 2e73 7562 706c 6f74 2831 2c20 332c  lt.subplot(1, 3,
+00007090: 2031 290a 2020 2020 2020 2020 736e 732e   1).        sns.
+000070a0: 6261 7270 6c6f 7428 6e70 2e61 7261 6e67  barplot(np.arang
+000070b0: 6528 6c65 6e28 7663 2929 2c20 7663 2e76  e(len(vc)), vc.v
+000070c0: 616c 7565 7329 3b0a 2020 2020 2020 2020  alues);.        
+000070d0: 706c 742e 706c 6f74 286e 702e 6172 616e  plt.plot(np.aran
+000070e0: 6765 286c 656e 2876 6329 292c 2076 632e  ge(len(vc)), vc.
+000070f0: 7661 6c75 6573 2c20 2762 2d27 293b 0a20  values, 'b-');. 
+00007100: 2020 2020 2020 2070 6c74 2e70 6c6f 7428         plt.plot(
+00007110: 6e70 2e61 7261 6e67 6528 6c65 6e28 7663  np.arange(len(vc
+00007120: 2929 2c20 7663 2e76 616c 7565 732c 2027  )), vc.values, '
+00007130: 722b 2729 3b0a 2020 2020 2020 2020 706c  r+');.        pl
+00007140: 742e 7874 6963 6b73 286e 702e 6172 616e  t.xticks(np.aran
+00007150: 6765 286c 656e 2876 6329 292c 2076 632e  ge(len(vc)), vc.
+00007160: 696e 6465 7829 0a20 2020 2020 2020 2070  index).        p
+00007170: 6c74 2e74 6974 6c65 2827 7661 6c75 655f  lt.title('value_
+00007180: 636f 756e 7473 2729 0a20 2020 2020 2020  counts').       
+00007190: 200a 2020 2020 2020 2020 2320 7472 656e   .        # tren
+000071a0: 640a 2020 2020 2020 2020 706c 742e 7375  d.        plt.su
+000071b0: 6270 6c6f 7428 312c 2033 2c20 3229 0a20  bplot(1, 3, 2). 
+000071c0: 2020 2020 2020 2066 6f72 2076 6920 696e         for vi in
+000071d0: 2076 632e 696e 6465 783a 0a20 2020 2020   vc.index:.     
+000071e0: 2020 2020 2020 2078 203d 2064 662e 6c6f         x = df.lo
+000071f0: 635b 6466 5b6b 6579 5d20 3d3d 2076 692c  c[df[key] == vi,
+00007200: 2063 6f6c 5d0a 2020 2020 2020 2020 2020   col].          
+00007210: 2020 706c 742e 706c 6f74 286e 702e 6172    plt.plot(np.ar
+00007220: 616e 6765 286c 656e 2878 2929 2c20 6e70  ange(len(x)), np
+00007230: 2e73 6f72 7428 7829 290a 2020 2020 2020  .sort(x)).      
+00007240: 2020 706c 742e 6c65 6765 6e64 286c 6973    plt.legend(lis
+00007250: 7428 7663 2e69 6e64 6578 2929 0a20 2020  t(vc.index)).   
+00007260: 2020 2020 2070 6c74 2e74 6974 6c65 2827       plt.title('
+00007270: 7472 656e 6427 290a 2020 2020 2020 2020  trend').        
+00007280: 2020 2020 0a20 2020 2020 2020 2023 2064      .        # d
+00007290: 6973 7470 6c6f 7420 2020 200a 2020 2020  istplot    .    
+000072a0: 2020 2020 706c 742e 7375 6270 6c6f 7428      plt.subplot(
+000072b0: 312c 2033 2c20 3329 0a20 2020 2020 2020  1, 3, 3).       
+000072c0: 2066 6f72 2076 6920 696e 2076 632e 696e   for vi in vc.in
+000072d0: 6465 783a 0a20 2020 2020 2020 2020 2020  dex:.           
+000072e0: 2078 203d 2064 662e 6c6f 635b 6466 5b6b   x = df.loc[df[k
+000072f0: 6579 5d20 3d3d 2076 692c 2063 6f6c 5d0a  ey] == vi, col].
+00007300: 2020 2020 2020 2020 2020 2020 736e 732e              sns.
+00007310: 6469 7374 706c 6f74 2878 2c20 6269 6e73  distplot(x, bins
+00007320: 203d 2031 3029 0a20 2020 2020 2020 2070   = 10).        p
+00007330: 6c74 2e6c 6567 656e 6428 6c69 7374 2876  lt.legend(list(v
+00007340: 632e 696e 6465 7829 290a 2020 2020 2020  c.index)).      
+00007350: 2020 706c 742e 7469 746c 6528 2764 6973    plt.title('dis
+00007360: 7470 6c6f 7427 290a 2020 2020 2020 2020  tplot').        
+00007370: 706c 742e 786c 6162 656c 2827 2729 0a20  plt.xlabel(''). 
+00007380: 2020 2020 2020 2070 6c74 2e73 686f 7728         plt.show(
+00007390: 290a 2020 2020 2020 2020 0a20 2020 2020  ).        .     
+000073a0: 2020 200a 2020 2020 6465 6620 706c 6f74     .    def plot
+000073b0: 5f63 6174 5f63 6174 2864 662c 206b 6579  _cat_cat(df, key
+000073c0: 2c20 636f 6c2c 206b 3120 3d20 3130 2c20  , col, k1 = 10, 
+000073d0: 6b32 203d 2031 3030 293a 0a20 2020 2020  k2 = 100):.     
+000073e0: 2020 2070 6c74 2e66 6967 7572 6528 6669     plt.figure(fi
+000073f0: 6773 697a 653d 2832 302c 2033 2929 0a20  gsize=(20, 3)). 
+00007400: 2020 2020 2020 2078 5f6c 6973 7420 3d20         x_list = 
+00007410: 5b5d 0a20 2020 2020 2020 2066 6f72 2076  [].        for v
+00007420: 6920 696e 206c 6973 7428 6466 5b6b 6579  i in list(df[key
+00007430: 5d2e 7661 6c75 655f 636f 756e 7473 2829  ].value_counts()
+00007440: 2e69 6e64 6578 295b 3a6b 315d 3a0a 2020  .index)[:k1]:.  
+00007450: 2020 2020 2020 2020 2020 7820 3d20 6466            x = df
+00007460: 2e6c 6f63 5b64 665b 6b65 795d 203d 3d20  .loc[df[key] == 
+00007470: 7669 2c20 636f 6c5d 0a20 2020 2020 2020  vi, col].       
+00007480: 2020 2020 2076 6320 3d20 782e 7661 6c75       vc = x.valu
+00007490: 655f 636f 756e 7473 2829 2e69 6c6f 635b  e_counts().iloc[
+000074a0: 3a6b 5d0a 2020 2020 2020 2020 2020 2020  :k].            
+000074b0: 2320 3d3d 3d3d 3d3d 3d3d 3d3d 2076 616c  # ========== val
+000074c0: 7565 5f63 6f75 6e74 7320 3d3d 3d3d 3d3d  ue_counts ======
+000074d0: 3d3d 3d3d 0a20 2020 2020 2020 2020 2020  ====.           
+000074e0: 2070 6c74 2e73 7562 706c 6f74 2831 2c20   plt.subplot(1, 
+000074f0: 332c 2031 290a 2020 2020 2020 2020 2020  3, 1).          
+00007500: 2020 7663 203d 2076 632e 736f 7274 5f69    vc = vc.sort_i
+00007510: 6e64 6578 2829 0a20 2020 2020 2020 2020  ndex().         
+00007520: 2020 2023 2073 6e73 2e62 6172 706c 6f74     # sns.barplot
+00007530: 286e 702e 6172 616e 6765 286c 656e 2876  (np.arange(len(v
+00007540: 6329 292c 2076 632e 7661 6c75 6573 293b  c)), vc.values);
+00007550: 0a20 2020 2020 2020 2020 2020 2070 6c74  .            plt
+00007560: 2e70 6c6f 7428 6e70 2e61 7261 6e67 6528  .plot(np.arange(
+00007570: 6c65 6e28 7663 2929 2c20 7663 2e76 616c  len(vc)), vc.val
+00007580: 7565 732c 2027 2d27 293b 0a20 2020 2020  ues, '-');.     
+00007590: 2020 2020 2020 2070 6c74 2e70 6c6f 7428         plt.plot(
+000075a0: 6e70 2e61 7261 6e67 6528 6c65 6e28 7663  np.arange(len(vc
+000075b0: 2929 2c20 7663 2e76 616c 7565 732c 2027  )), vc.values, '
+000075c0: 2b27 293b 0a20 2020 2020 2020 2020 2020  +');.           
+000075d0: 2070 6c74 2e78 7469 636b 7328 6e70 2e61   plt.xticks(np.a
+000075e0: 7261 6e67 6528 6c65 6e28 7663 2929 2c20  range(len(vc)), 
+000075f0: 7663 2e69 6e64 6578 290a 2020 2020 2020  vc.index).      
+00007600: 2020 2020 2020 706c 742e 7469 746c 6528        plt.title(
+00007610: 2773 6f72 7420 6279 2069 6e64 6578 2729  'sort by index')
+00007620: 0a0a 2020 2020 2020 2020 2020 2020 706c  ..            pl
+00007630: 742e 7375 6270 6c6f 7428 312c 2033 2c20  t.subplot(1, 3, 
+00007640: 3229 0a20 2020 2020 2020 2020 2020 2076  2).            v
+00007650: 6320 3d20 7663 2e73 6f72 745f 7661 6c75  c = vc.sort_valu
+00007660: 6573 2861 7363 656e 6469 6e67 203d 2046  es(ascending = F
+00007670: 616c 7365 290a 2020 2020 2020 2020 2020  alse).          
+00007680: 2020 2320 736e 732e 6261 7270 6c6f 7428    # sns.barplot(
+00007690: 6e70 2e61 7261 6e67 6528 6c65 6e28 7663  np.arange(len(vc
+000076a0: 2929 2c20 7663 2e76 616c 7565 7329 3b0a  )), vc.values);.
+000076b0: 2020 2020 2020 2020 2020 2020 706c 742e              plt.
+000076c0: 706c 6f74 286e 702e 6172 616e 6765 286c  plot(np.arange(l
+000076d0: 656e 2876 6329 292c 2076 632e 7661 6c75  en(vc)), vc.valu
+000076e0: 6573 2c20 272d 2729 3b0a 2020 2020 2020  es, '-');.      
+000076f0: 2020 2020 2020 706c 742e 706c 6f74 286e        plt.plot(n
+00007700: 702e 6172 616e 6765 286c 656e 2876 6329  p.arange(len(vc)
+00007710: 292c 2076 632e 7661 6c75 6573 2c20 272b  ), vc.values, '+
+00007720: 2729 3b0a 2020 2020 2020 2020 2020 2020  ');.            
+00007730: 706c 742e 7874 6963 6b73 286e 702e 6172  plt.xticks(np.ar
+00007740: 616e 6765 286c 656e 2876 6329 292c 2076  ange(len(vc)), v
+00007750: 632e 696e 6465 7829 0a20 2020 2020 2020  c.index).       
+00007760: 2020 2020 2070 6c74 2e74 6974 6c65 2827       plt.title('
+00007770: 736f 7274 2062 7920 7661 6c75 6573 2729  sort by values')
+00007780: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
+00007790: 3d3d 3d3d 3d3d 3d3d 3d3d 2063 756d 7375  ========== cumsu
+000077a0: 6d20 3d3d 3d3d 3d3d 3d3d 3d3d 0a20 2020  m ==========.   
+000077b0: 2020 2020 2020 2020 2070 6c74 2e73 7562           plt.sub
+000077c0: 706c 6f74 2831 2c20 332c 2033 290a 2020  plot(1, 3, 3).  
+000077d0: 2020 2020 2020 2020 2020 7663 203d 2078            vc = x
+000077e0: 2e76 616c 7565 5f63 6f75 6e74 7328 290a  .value_counts().
+000077f0: 2020 2020 2020 2020 2020 2020 7663 5f63              vc_c
+00007800: 756d 7375 6d20 3d20 7663 2e63 756d 7375  umsum = vc.cumsu
+00007810: 6d28 292e 7265 7365 745f 696e 6465 7828  m().reset_index(
+00007820: 6472 6f70 203d 2054 7275 6529 0a20 2020  drop = True).   
+00007830: 2020 2020 2020 2020 2076 635f 6375 6d73           vc_cums
+00007840: 756d 202f 3d20 7663 5f63 756d 7375 6d2e  um /= vc_cumsum.
+00007850: 6d61 7828 290a 2020 2020 2020 2020 2020  max().          
+00007860: 2020 706c 742e 706c 6f74 2876 635f 6375    plt.plot(vc_cu
+00007870: 6d73 756d 2c20 272d 2729 0a20 2020 2020  msum, '-').     
+00007880: 2020 2020 2020 2070 6c74 2e70 6c6f 7428         plt.plot(
+00007890: 7663 5f63 756d 7375 6d2c 2027 2b27 290a  vc_cumsum, '+').
+000078a0: 2020 2020 2020 2020 2020 2020 7879 5f30              xy_0
+000078b0: 3920 3d20 7663 5f63 756d 7375 6d5b 7663  9 = vc_cumsum[vc
+000078c0: 5f63 756d 7375 6d20 3e3d 2030 2e39 5d5b  _cumsum >= 0.9][
+000078d0: 3a31 5d0a 2020 2020 2020 2020 2020 2020  :1].            
+000078e0: 785f 3039 2c20 795f 3039 203d 2078 795f  x_09, y_09 = xy_
+000078f0: 3039 2e69 6e64 6578 2e76 616c 7565 735b  09.index.values[
+00007900: 305d 2c20 7879 5f30 392e 7661 6c75 6573  0], xy_09.values
+00007910: 5b30 5d0a 2020 2020 2020 2020 2020 2020  [0].            
+00007920: 2320 706c 742e 6178 686c 696e 6528 795f  # plt.axhline(y_
+00007930: 3039 2c20 636f 6c6f 7220 3d20 2772 2729  09, color = 'r')
+00007940: 0a20 2020 2020 2020 2020 2020 2070 6c74  .            plt
+00007950: 2e61 7876 6c69 6e65 2878 5f30 392c 2063  .axvline(x_09, c
+00007960: 6f6c 6f72 203d 2027 7227 290a 2020 2020  olor = 'r').    
+00007970: 2020 2020 2020 2020 785f 6c69 7374 2e61          x_list.a
+00007980: 7070 656e 6428 785f 3039 202f 206c 656e  ppend(x_09 / len
+00007990: 2876 635f 6375 6d73 756d 2929 0a20 2020  (vc_cumsum)).   
+000079a0: 2020 2020 2070 6c74 2e74 6974 6c65 2827       plt.title('
+000079b0: 7820 3d20 7b7d 272e 666f 726d 6174 285b  x = {}'.format([
+000079c0: 277b 3a2e 3066 7d27 2e66 6f72 6d61 7428  '{:.0f}'.format(
+000079d0: 6929 2066 6f72 2069 2069 6e20 785f 6c69  i) for i in x_li
+000079e0: 7374 5d29 290a 2020 2020 2020 2020 7072  st])).        pr
+000079f0: 696e 7428 290a 2020 2020 2020 2020 706c  int().        pl
+00007a00: 742e 7368 6f77 2829 2020 2020 0a20 2020  t.show()    .   
+00007a10: 2020 2020 200a 2020 2020 6465 6620 706c       .    def pl
+00007a20: 6f74 5f70 6169 7228 6466 2c20 636f 6c73  ot_pair(df, cols
+00007a30: 5f73 656c 2c20 6b20 3d20 3130 2c20 636f  _sel, k = 10, co
+00007a40: 6c5f 6c61 6265 6c20 3d20 4e6f 6e65 293a  l_label = None):
+00007a50: 0a20 2020 2020 2020 2063 6f6c 735f 7365  .        cols_se
+00007a60: 6c20 3d20 636f 6c73 5f73 656c 5b3a 6b5d  l = cols_sel[:k]
+00007a70: 0a20 2020 2020 2020 2063 6f6c 735f 7365  .        cols_se
+00007a80: 6c20 2b3d 205b 636f 6c5f 6c61 6265 6c5d  l += [col_label]
+00007a90: 2069 6620 636f 6c5f 6c61 6265 6c20 6973   if col_label is
+00007aa0: 206e 6f74 204e 6f6e 6520 656c 7365 205b   not None else [
+00007ab0: 5d0a 2020 2020 2020 2020 6966 2063 6f6c  ].        if col
+00007ac0: 5f6c 6162 656c 2069 7320 4e6f 6e65 3a0a  _label is None:.
+00007ad0: 2020 2020 2020 2020 2020 2020 736e 732e              sns.
+00007ae0: 7061 6972 706c 6f74 2864 665b 636f 6c73  pairplot(df[cols
+00007af0: 5f73 656c 5d2c 2068 7565 203d 2063 6f6c  _sel], hue = col
+00007b00: 5f6c 6162 656c 2c20 7369 7a65 3d32 2c20  _label, size=2, 
+00007b10: 6b69 6e64 3d27 7363 6174 7465 7227 2c64  kind='scatter',d
+00007b20: 6961 675f 6b69 6e64 3d22 6869 7374 2229  iag_kind="hist")
+00007b30: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+00007b40: 2020 2020 2020 2020 2020 2073 6e73 2e70             sns.p
+00007b50: 6169 7270 6c6f 7428 6466 5b63 6f6c 735f  airplot(df[cols_
+00007b60: 7365 6c5d 2c20 6875 6520 3d20 636f 6c5f  sel], hue = col_
+00007b70: 6c61 6265 6c2c 2073 697a 653d 322c 206b  label, size=2, k
+00007b80: 696e 643d 2773 6361 7474 6572 272c 6469  ind='scatter',di
+00007b90: 6167 5f6b 696e 643d 2268 6973 7422 290a  ag_kind="hist").
+00007ba0: 2020 2020 2020 2020 706c 742e 7368 6f77          plt.show
+00007bb0: 2829 3b0a 2020 2020 706c 6f74 5f6b 6579  ();.    plot_key
+00007bc0: 5f63 6f6c 2874 7261 696e 2c20 276c 6162  _col(train, 'lab
+00007bd0: 656c 272c 2027 635f 3027 2c20 6b20 3d20  el', 'c_0', k = 
+00007be0: 3130 290a 2020 2020 706c 6f74 5f63 6174  10).    plot_cat
+00007bf0: 5f6e 756d 2874 7261 696e 2c20 276c 6162  _num(train, 'lab
+00007c00: 656c 272c 2027 635f 3027 2c20 6b20 3d20  el', 'c_0', k = 
+00007c10: 3130 290a 2020 2020 706c 6f74 5f63 6174  10).    plot_cat
+00007c20: 5f63 6174 2874 7261 696e 2c20 276c 6162  _cat(train, 'lab
+00007c30: 656c 272c 2027 635f 3027 2c20 6b31 203d  el', 'c_0', k1 =
+00007c40: 2031 302c 206b 3220 3d20 3130 3029 0a20   10, k2 = 100). 
+00007c50: 2020 2070 6c6f 745f 7061 6972 2874 7261     plot_pair(tra
+00007c60: 696e 2c20 636f 6c73 5f63 6174 5b3a 355d  in, cols_cat[:5]
+00007c70: 202b 2063 6f6c 735f 6e75 6d5b 3a35 5d2c   + cols_num[:5],
+00007c80: 206b 203d 2031 302c 2063 6f6c 5f6c 6162   k = 10, col_lab
+00007c90: 656c 203d 2027 6c61 6265 6c27 290a 2020  el = 'label').  
+00007ca0: 2020 7201 0000 0072 0100 0000 7201 0000    r....r....r...
+00007cb0: 0072 0100 0000 7202 0000 00da 0b70 6c6f  .r....r......plo
+00007cc0: 745f 636f 6c73 5f32 0603 0000 7302 0000  t_cols_2....s...
+00007cd0: 0000 0172 1800 0000 6300 0000 0000 0000  ...r....c.......
+00007ce0: 0000 0000 0000 0000 0001 0000 0043 0000  .............C..
+00007cf0: 0073 0400 0000 6401 5300 2902 4e61 f001  .s....d.S.).Na..
+00007d00: 0000 0a20 2020 2064 6566 2070 6c6f 745f  ...    def plot_
+00007d10: 6466 5f69 6d70 2864 665f 696d 702c 2063  df_imp(df_imp, c
+00007d20: 6f6c 203d 2027 636f 6c27 2c20 696d 7020  ol = 'col', imp 
+00007d30: 3d20 2769 6d70 272c 206b 203d 2032 3029  = 'imp', k = 20)
+00007d40: 3a0a 2020 2020 2020 2020 696d 706f 7274  :.        import
+00007d50: 206d 6174 706c 6f74 6c69 622e 7079 706c   matplotlib.pypl
+00007d60: 6f74 2061 7320 706c 740a 2020 2020 2020  ot as plt.      
+00007d70: 2020 696d 706f 7274 2073 6561 626f 726e    import seaborn
+00007d80: 2061 7320 736e 730a 2020 2020 2020 2020   as sns.        
+00007d90: 706c 742e 6669 6775 7265 2866 6967 7369  plt.figure(figsi
+00007da0: 7a65 3d28 3230 2c20 6d61 7828 3130 2c20  ze=(20, max(10, 
+00007db0: 6b20 2f2f 2032 2929 290a 2020 2020 2020  k // 2))).      
+00007dc0: 2020 6466 5f69 6d70 5f73 6f72 7420 3d20    df_imp_sort = 
+00007dd0: 6466 5f69 6d70 2e73 6f72 745f 7661 6c75  df_imp.sort_valu
+00007de0: 6573 2862 7920 3d20 696d 702c 2061 7363  es(by = imp, asc
+00007df0: 656e 6469 6e67 203d 2046 616c 7365 292e  ending = False).
+00007e00: 7265 7365 745f 696e 6465 7828 6472 6f70  reset_index(drop
+00007e10: 203d 2054 7275 6529 0a20 2020 2020 2020   = True).       
+00007e20: 2073 6e73 2e62 6172 706c 6f74 2878 3d69   sns.barplot(x=i
+00007e30: 6d70 2c20 793d 636f 6c2c 2064 6174 613d  mp, y=col, data=
+00007e40: 6466 5f69 6d70 5f73 6f72 745b 3a6b 5d29  df_imp_sort[:k])
+00007e50: 0a20 2020 2020 2020 2070 6c74 2e74 6974  .        plt.tit
+00007e60: 6c65 2827 6466 5f69 6d70 272c 2066 6f6e  le('df_imp', fon
+00007e70: 7473 697a 6520 3d20 3235 290a 2020 2020  tsize = 25).    
+00007e80: 2020 2020 706c 742e 7469 6768 745f 6c61      plt.tight_la
+00007e90: 796f 7574 2829 0a20 2020 2020 2020 2070  yout().        p
+00007ea0: 6c74 2e78 7469 636b 7328 666f 6e74 7369  lt.xticks(fontsi
+00007eb0: 7a65 203d 2032 3529 0a20 2020 2020 2020  ze = 25).       
+00007ec0: 2070 6c74 2e79 7469 636b 7328 666f 6e74   plt.yticks(font
+00007ed0: 7369 7a65 203d 2032 3529 0a20 2020 2020  size = 25).     
+00007ee0: 2020 2070 6c74 2e73 686f 7728 290a 2020     plt.show().  
+00007ef0: 2020 7201 0000 0072 0100 0000 7201 0000    r....r....r...
+00007f00: 0072 0100 0000 7202 0000 00da 0b70 6c6f  .r....r......plo
+00007f10: 745f 6466 5f69 6d70 6903 0000 7302 0000  t_df_impi...s...
+00007f20: 0000 0172 1900 0000 6300 0000 0000 0000  ...r....c.......
+00007f30: 0000 0000 0000 0000 0001 0000 0043 0000  .............C..
+00007f40: 0073 0400 0000 6401 5300 2902 4e61 8f02  .s....d.S.).Na..
+00007f50: 0000 0a20 2020 2069 6d70 6f72 7420 706c  ...    import pl
+00007f60: 6f74 6c79 2e67 7261 7068 5f6f 626a 6563  otly.graph_objec
+00007f70: 7473 2061 7320 676f 0a20 2020 2066 726f  ts as go.    fro
+00007f80: 6d20 706c 6f74 6c79 2e6f 6666 6c69 6e65  m plotly.offline
+00007f90: 2069 6d70 6f72 7420 6970 6c6f 740a 2020   import iplot.  
+00007fa0: 2020 6465 6620 706c 6f74 5f63 756d 7375    def plot_cumsu
+00007fb0: 6d28 6466 5f69 635f 6c69 7374 2c20 6d6f  m(df_ic_list, mo
+00007fc0: 6465 6c5f 6c69 7374 2c20 636f 6c5f 6461  del_list, col_da
+00007fd0: 7465 2c20 636f 6c20 3d20 2769 6327 293a  te, col = 'ic'):
+00007fe0: 0a20 2020 2020 2020 2066 6967 5f6c 6973  .        fig_lis
+00007ff0: 7420 3d20 5b5d 0a20 2020 2020 2020 2066  t = [].        f
+00008000: 6f72 2064 665f 6963 2c20 6e61 6d65 2069  or df_ic, name i
+00008010: 6e20 7a69 7028 6466 5f69 635f 6c69 7374  n zip(df_ic_list
+00008020: 2c20 6d6f 6465 6c5f 6c69 7374 293a 0a20  , model_list):. 
+00008030: 2020 2020 2020 2020 2020 2066 6967 203d             fig =
+00008040: 2067 6f2e 5363 6174 7465 7228 7820 3d20   go.Scatter(x = 
+00008050: 6466 5f69 635b 636f 6c5f 6461 7465 5d2e  df_ic[col_date].
+00008060: 6173 7479 7065 2873 7472 292c 200a 2020  astype(str), .  
+00008070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008080: 2020 2020 2020 2020 2020 7920 3d20 6466            y = df
+00008090: 5f69 635b 636f 6c5d 2e63 756d 7375 6d28  _ic[col].cumsum(
+000080a0: 2920 2f20 6c65 6e28 6466 5f69 6329 2c0a  ) / len(df_ic),.
+000080b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000080c0: 2020 2020 2020 2020 2020 2020 6d6f 6465              mode
+000080d0: 203d 2027 6c69 6e65 7327 2c0a 2020 2020   = 'lines',.    
+000080e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000080f0: 2020 2020 2020 2020 6e61 6d65 203d 206e          name = n
+00008100: 616d 6529 0a20 2020 2020 2020 2020 2020  ame).           
+00008110: 2066 6967 5f6c 6973 742e 6170 7065 6e64   fig_list.append
+00008120: 2866 6967 290a 2020 2020 2020 2020 6c61  (fig).        la
+00008130: 796f 7574 203d 2064 6963 7428 7469 746c  yout = dict(titl
+00008140: 6520 3d20 636f 6c2c 2079 6178 6973 203d  e = col, yaxis =
+00008150: 2064 6963 7428 7469 636b 3020 3d20 302c   dict(tick0 = 0,
+00008160: 2064 7469 636b 3d30 2e30 3129 290a 2020   dtick=0.01)).  
+00008170: 2020 2020 2020 6970 6c6f 7428 6469 6374        iplot(dict
+00008180: 2864 6174 6120 3d20 6669 675f 6c69 7374  (data = fig_list
+00008190: 2c20 6c61 796f 7574 203d 206c 6179 6f75  , layout = layou
+000081a0: 7429 290a 2020 2020 2070 6c6f 745f 6375  t)).     plot_cu
+000081b0: 6d73 756d 285b 6466 5f69 635d 2c20 5b27  msum([df_ic], ['
+000081c0: 6c67 6227 5d2c 2063 6f6c 5f64 6174 652c  lgb'], col_date,
+000081d0: 2063 6f6c 203d 2027 6963 2729 0a20 2020   col = 'ic').   
+000081e0: 2072 0100 0000 7201 0000 0072 0100 0000   r....r....r....
+000081f0: 7201 0000 0072 0200 0000 da0b 706c 6f74  r....r......plot
+00008200: 5f63 756d 7375 6d78 0300 0073 0200 0000  _cumsumx...s....
+00008210: 0001 721a 0000 004e 2918 7203 0000 0072  ..r....N).r....r
+00008220: 0400 0000 7205 0000 0072 0600 0000 7207  ....r....r....r.
+00008230: 0000 0072 0800 0000 7209 0000 0072 0a00  ...r....r....r..
+00008240: 0000 720b 0000 0072 0c00 0000 720d 0000  ..r....r....r...
+00008250: 0072 0e00 0000 720f 0000 0072 1000 0000  .r....r....r....
+00008260: 7211 0000 0072 1200 0000 7213 0000 0072  r....r....r....r
+00008270: 1400 0000 7215 0000 0072 1600 0000 7217  ....r....r....r.
+00008280: 0000 0072 1800 0000 7219 0000 0072 1a00  ...r....r....r..
+00008290: 0000 7201 0000 0072 0100 0000 7201 0000  ..r....r....r...
+000082a0: 0072 0200 0000 da08 3c6d 6f64 756c 653e  .r......<module>
+000082b0: 0300 0000 732e 0000 0008 3a08 1c08 3f08  ....s.....:...?.
+000082c0: 4408 1c08 1a08 1908 0508 0608 0c08 0808  D...............
+000082d0: 4108 3008 1508 1e08 3108 2608 1808 2608  A.0.....1.&...&.
+000082e0: 3308 5008 6308 0f                        3.P.c..
```

## Comparing `runningz-0.11.3.6.dist-info/RECORD` & `runningz-0.11.3.7.dist-info/RECORD`

 * *Files 4% similar despite different names*

```diff
@@ -1,20 +1,20 @@
-runningz/__init__.pyc,sha256=M3Ip4dQIqKizYSK3Ak-uWn4OPSvt_fVQkIDojNEidKI,1219
+runningz/__init__.pyc,sha256=7FH4-tQLFJjVrAP0jKSVZd2cTpSpMfO8o8V8sNWg2Pk,1207
 runningz/api.pyc,sha256=RKrNXhZAbCuq7RJX1EcSVYzjVgAew4Eo3JhdLCYloyU,186
 runningz/core/DataMaster.pyc,sha256=vkROsAiaEdSPKiWN2aB5TpAX8tAG4X-KAwPUrZGywB8,11303
 runningz/core/__init__.pyc,sha256=QCBebMNvhe3fWRkv8vWOA0yerZUrPPO6jwXFDmU3dKg,151
 runningz/core/api.pyc,sha256=9yuog5sCSp2AyJjTrnXZ_azwcS57SuRLiJlT1Z_JicQ,3831
 runningz/core/er/__init__.pyc,sha256=X_qSA5MvcnWpGi_boqjQZ6kSfAmGgjUXpvkqa-6kwuQ,154
 runningz/core/er/idxer.pyc,sha256=UtRjQIG1gYD1zGwS4BeTAUUKumeztGIVex0ZPrspQYc,651
 runningz/core/er/masker.pyc,sha256=JkbKeuW68AtDP-4jW8CAx-NQUa2yvrPv2uDDf3b2Jyg,573
 runningz/core/er/namer.pyc,sha256=bn-BuqCcqb6-p3KrR7LzLoidz8dw3203GqqWfPormhE,4354
 runningz/core/er/scaler.pyc,sha256=z-77F9YAX5zJXYGJFkFsfTxVS0br2uAojZfTMmBs414,550
 runningz/core/op/OPMaster.pyc,sha256=3jrJVRX1oj5xy1bcgVv2PHM1nEPdCkahX6y14cxcdxI,6986
 runningz/core/op/__init__.pyc,sha256=03IsIiN0XZfwV6USoQMkTgjJLya0o_zQp6xBS0qpdqs,5207
-runningz/core/op/_numba.pyc,sha256=imkVXxYPFo3jD1sFDPZ9BWE1iwV2MGlt72t5ArYYk-A,5817
+runningz/core/op/_numba.pyc,sha256=PUloSMXMkHq4XqLxsxLJ20PSbpLz1sPLBkwqEHIMuy8,5817
 runningz/core/op/_numba_1.pyc,sha256=8Gig4oeuCyvTinv8LJiN27PuaVCHHizCDsXb6pMrH7I,10530
 runningz/core/op/_numba_2.pyc,sha256=EfWQcMyJJWrx1U3kF6UyJC37zQde68HyyFHiE-ZSgYo,13681
 runningz/core/op/_numba_merge_roll.pyc,sha256=CyHC_kvltA46QvFMw2p0IUBelt-d_BMxCEP9z-AzJLA,5930
 runningz/core/op/op_1.pyc,sha256=dyMfvSYpII9YxVQEdMiEwL2CAsjmYyOn-muL_ubGREs,6788
 runningz/core/op/op_1_numba.pyc,sha256=NlLIJxBOdPMqHNtRhCiwaM4KhKOTKvbdYrYQdh6KQnw,1856
 runningz/core/op/op_2.pyc,sha256=hK9KOCOAxnZNspu4UsxcA8MJe1jDMZEe8ptQVUS38aw,4302
 runningz/core/op/op_groupby.pyc,sha256=RMg0bngU_RUDFYL2ZnrAHwMx0R7JVkkxi7A9xfnYbyI,3176
@@ -29,15 +29,15 @@
 runningz/fe/er/__init__.pyc,sha256=Bs1H8Vfbt_VM9mvyoJ1X4r-qC1ZuJJQAufVRylgqznQ,298
 runningz/fe/er/pather.pyc,sha256=OwKRr8aPABRc-A8PfiIs66lWXouyckhwFjv32YASN2g,2968
 runningz/fe/er/pooler.pyc,sha256=HtT8yJyQaVc1IhONDCNsOcOQ0c9IyXaas2wAN5WeH4Q,4557
 runningz/fe/er/pooler_old.pyc,sha256=awu_BFakgJJY2hHxRWQaSWgvoGJROP2FhqhfObAvGgI,17200
 runningz/fe/er/ranker.pyc,sha256=icJujGSVdffEbt3Er_2tScpGx7AdeqygZ_K1bPXIu3A,5121
 runningz/fe/er/typer.pyc,sha256=heupG_rk8d0BiHqBXTb6DbuEbzgX2P-Y3Q6ZzMR_t08,4739
 runningz/fe/prepare_data/__init__.pyc,sha256=blGZQ6BoJMvuFphXVYdT21vyAjv4X1PhZ7QhJduDYjE,162
-runningz/fe/prepare_data/base_data.pyc,sha256=8vH-8q4FAKLwpyVJfuCCTp5l4Jx5ivoKwrAR0S_6eEE,2978
+runningz/fe/prepare_data/base_data.pyc,sha256=TTvItWN7WwrBCf_VpEluMEOrtzyDyDI-PD4gFWtDpZc,2978
 runningz/fe/prepare_data/basic_data.pyc,sha256=X-IiTJMjwyp00fKw_IPkFfom54wJ8lGDt0X4k6WIpDI,1319
 runningz/fe/status/__init__.pyc,sha256=c6UCJqWddjdl6cy1fyu0WOBrYWirQejtL8OkuFxNgjQ,193
 runningz/fe/status/status.pyc,sha256=NhK6Scp39KUJbBXXBGvAD7MJpr-mbIazzyMGjxy1ffg,5981
 runningz/fe/util/__init__.pyc,sha256=glKAXhLTfBtMxBnasGohn-b5wfUZhr2Myy11I6jNW78,154
 runningz/fe/util/util.pyc,sha256=R8tGdcf5cOUHZKnmf3A-Phaj-_dAN5LhYnTzIn0h4ec,1612
 runningz/metric/__init__.pyc,sha256=Y5BORv7xzSRLCsg1rXmwdKfyX_FdAXTbFSQ0pFPP2Bs,269
 runningz/metric/get_score_metric.pyc,sha256=BdS3XJJAKW_nQR8XPK3N8eyCmAij65k0xbDeRYs6Pc4,2080
@@ -66,35 +66,35 @@
 runningz/model/nn/model_moe.pyc,sha256=EtyRdfnefqcA-e1SqWtC5CN_ADjanrd4rp75UziBg7o,156
 runningz/model/nn/model_rxnet.pyc,sha256=0FPdUOlEZ7178NeLmBsVcwEhquANr45szA439UimOdY,158
 runningz/model/nn/model_tabnet.pyc,sha256=ZM9IBlnHETCEEErcxK6Y84NmoqzQO-cFuwv2gVyuW5I,159
 runningz/model/nn/nn_util.pyc,sha256=Tycy7-VjRuzBSSA7dtrY4gJvjNjAK8ME_uXUC-w7A2U,7503
 runningz/model/tree/__init__.pyc,sha256=xkzPRkgdncRr8BI0U0x8RYAj6h_iHwSjB7zS04-5sgM,365
 runningz/model/tree/model_cat.pyc,sha256=pkdr7N43UJgt-FMeFk9mbhgqBJLO3ncsCEt2KTjD55w,3608
 runningz/model/tree/model_erf.pyc,sha256=8UGVA4nUsKGnapEIXgn59-w_11kEpEEE1YTPmo5usBg,2868
-runningz/model/tree/model_lgb.pyc,sha256=kAYLmMujihPyVcKWEuEauc8gglqp2yiivOZRvKfor7Q,6358
+runningz/model/tree/model_lgb.pyc,sha256=V8FUCB1F0c3WWIJd3wzyyJMUhVyEnphd7wirxWEkVaw,7715
 runningz/model/tree/model_rf.pyc,sha256=2X4owUAUiZcD_b_FHvWu68Jv_zzm4NFeltTvJtNeZNg,2882
 runningz/model/tree/model_xgb.pyc,sha256=RhlF-9oSSczFcfUzoSbupJGP0ihTTYk8daK6CBjwhk0,3692
 runningz/opt/__init__.pyc,sha256=u2wdHAljgvyfwoazHDwCf0_34cQUCU4qQ4kqbJiWbrE,349
 runningz/opt/opt_convex.pyc,sha256=Tpt_lMeAMTfURZQ99nP_psn2LwAPueSgXI8AXtOIb78,152
 runningz/opt/opt_elo.pyc,sha256=h1b3-iYFWZvSrj3JuJn_z0vm9d4q5p2WNQRraFa4OHo,12130
 runningz/opt/opt_optuna.pyc,sha256=4vMQYuDsDIMlWjg2REhV85LZJxlFYOTyiryUjjjw8e8,152
 runningz/opt/opt_random.pyc,sha256=Cm8XwhUJ-5KBKeQag7eAfiP3ed9Hme3sH0sd56Qe920,5600
 runningz/opt/opt_sgd.pyc,sha256=P2euHvWJP6wLbRM6bQ7UdjlcMyYVl9sQFsrRU5fZ9Fc,149
 runningz/util/__init__.pyc,sha256=YtFcSjnc7TDswwLg7pUyD1Uw_9iOydpx3difGt79a0g,172
 runningz/util/api.pyc,sha256=O2OoU9hqE0gbDPq_bQobnDx_qY77WokKFJDH8tffBk8,1141
 runningz/util/clss.pyc,sha256=jsj_HHemzsF4PEM7HaUiiPmqA7mms7Tpf01t-5uDFAc,2062
-runningz/util/code.pyc,sha256=75TkidCJcUL1NNqVv2aHVva_i0elYnpA5RGE7G2rHxc,24102
+runningz/util/code.pyc,sha256=WhndNXBXIEyFSGnn9Km6M9kHi0Hqc9sbD5h1DeAvEck,33511
 runningz/util/const.pyc,sha256=9c-0_y3eNj8F19IuA4x0brL3QEw6TLt20_dXIRsL2m0,325
 runningz/util/csv.pyc,sha256=BAmocGDK9piCIaCvSbQ98MdwXnWfXQokUuD6yjUfZPM,1263
 runningz/util/dist.pyc,sha256=fL9GQIPHaB6T1hzc4M2bjfpialWkR22zN8-WGdvOn6w,5416
 runningz/util/mem.pyc,sha256=xPRK-N8YCaEmlLvbUhhTP00KPiAzwi-N4w89hydzrXg,4867
 runningz/util/npy.pyc,sha256=rz4a6cgE780Uu2oAgwMtKJmXhS5Htw1Hum5k3hcc82E,9774
 runningz/util/run.pyc,sha256=I45GKt60jE3bD4TVH7uo8KORptjUyq2vMumpZGmsvjg,8898
 runningz/util/test.pyc,sha256=rTG-GGsIA8Ue8bhVt7nicUv3HFNDS7gtdRrL9BmIWXI,2491
 runningz/util/util.pyc,sha256=efeIOzC5uucZS9LXotOePO0c53VZhxFsckRyrl6jA9c,12607
 runningz/util/temp/__init__.pyc,sha256=riZY9noDfq5zOxfSHKR_W2QIOhEaLafBvvessFfJ074,156
 runningz/util/temp/main.pyc,sha256=A5M2waDjLYpsf0KhEzOH5VcL2Hhl4JxfwbRYJfYTssY,1211
-runningz-0.11.3.6.dist-info/METADATA,sha256=k-cVOwM9x4-EuJR_Q_VA3Hs52ZR5bUcr3X2V_pGKVNE,446
-runningz-0.11.3.6.dist-info/WHEEL,sha256=mzt24jmB6onkp8K8M-0bHGtbssTH2r_o1Dey-oJvff8,82
-runningz-0.11.3.6.dist-info/entry_points.txt,sha256=xRyDezAQfzQeE97t4wke38tl4qHJ613W1xSFGgezkzY,52
-runningz-0.11.3.6.dist-info/top_level.txt,sha256=qEVJqYeVqhub8a5GjohmAzV8iHDFesibNKxTpCqsOBQ,9
-runningz-0.11.3.6.dist-info/RECORD,,
+runningz-0.11.3.7.dist-info/METADATA,sha256=M5sunDZlYPsM0-99H_jjb3AvwRgk50u95vjnvaGSxiU,446
+runningz-0.11.3.7.dist-info/WHEEL,sha256=mzt24jmB6onkp8K8M-0bHGtbssTH2r_o1Dey-oJvff8,82
+runningz-0.11.3.7.dist-info/entry_points.txt,sha256=xRyDezAQfzQeE97t4wke38tl4qHJ613W1xSFGgezkzY,52
+runningz-0.11.3.7.dist-info/top_level.txt,sha256=qEVJqYeVqhub8a5GjohmAzV8iHDFesibNKxTpCqsOBQ,9
+runningz-0.11.3.7.dist-info/RECORD,,
```

