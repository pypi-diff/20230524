# Comparing `tmp/odoo14_addon_pricelist_cache-14.0.1.2.0-py3-none-any.whl.zip` & `tmp/odoo14_addon_pricelist_cache-14.0.1.3.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,41 +1,41 @@
-Zip file size: 47733 bytes, number of entries: 39
--rw-r--r--  2.0 unx     3482 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/README.rst
--rw-r--r--  2.0 unx       97 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/__init__.py
--rw-r--r--  2.0 unx     1096 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/__manifest__.py
--rw-r--r--  2.0 unx      937 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/hooks.py
--rw-r--r--  2.0 unx     2177 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/data/base_automation.xml
--rw-r--r--  2.0 unx     5358 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/data/demo.xml
--rw-r--r--  2.0 unx      816 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/data/ir_cron.xml
--rw-r--r--  2.0 unx      373 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/data/ir_filters_data.xml
--rw-r--r--  2.0 unx      686 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/data/queue_job.xml
--rw-r--r--  2.0 unx     8943 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/i18n/pricelist_cache.pot
--rw-r--r--  2.0 unx      454 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/migrations/14.0.1.1.0/README.rst
--rw-r--r--  2.0 unx     1046 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/migrations/14.0.1.1.0/post-migrate.py
--rw-r--r--  2.0 unx     1754 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/migrations/14.0.1.1.0/pre-migrate.py
--rw-r--r--  2.0 unx      163 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/models/__init__.py
--rw-r--r--  2.0 unx     6970 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/models/product_pricelist.py
--rw-r--r--  2.0 unx    10508 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/models/product_pricelist_cache.py
--rw-r--r--  2.0 unx     2155 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/models/product_pricelist_item.py
--rw-r--r--  2.0 unx     3164 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/models/product_product.py
--rw-r--r--  2.0 unx     2402 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/models/res_partner.py
--rw-r--r--  2.0 unx      304 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx       50 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/readme/CREDITS.rst
--rw-r--r--  2.0 unx      563 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      477 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/security/ir.model.access.csv
--rw-r--r--  2.0 unx     9455 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/static/description/icon.png
--rw-r--r--  2.0 unx    13488 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/static/description/index.html
--rw-r--r--  2.0 unx       78 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/tests/__init__.py
--rw-r--r--  2.0 unx     4484 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/tests/common.py
--rw-r--r--  2.0 unx     5077 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/tests/test_partner_pricelist_cache.py
--rw-r--r--  2.0 unx    20577 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/tests/test_pricelist_cache.py
--rw-r--r--  2.0 unx      835 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/views/product_pricelist.xml
--rw-r--r--  2.0 unx      913 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/views/product_pricelist_cache.xml
--rw-r--r--  2.0 unx      961 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/views/res_partner.xml
--rw-r--r--  2.0 unx       37 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/wizards/__init__.py
--rw-r--r--  2.0 unx     2210 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/wizards/pricelist_cache_wizard.py
--rw-r--r--  2.0 unx     2083 b- defN 23-Feb-21 08:31 odoo/addons/pricelist_cache/wizards/pricelist_cache_wizard.xml
--rw-r--r--  2.0 unx     4179 b- defN 23-Feb-21 08:31 odoo14_addon_pricelist_cache-14.0.1.2.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Feb-21 08:31 odoo14_addon_pricelist_cache-14.0.1.2.0.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Feb-21 08:31 odoo14_addon_pricelist_cache-14.0.1.2.0.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     4195 b- defN 23-Feb-21 08:31 odoo14_addon_pricelist_cache-14.0.1.2.0.dist-info/RECORD
-39 files, 122644 bytes uncompressed, 40651 bytes compressed:  66.9%
+Zip file size: 47788 bytes, number of entries: 39
+-rw-r--r--  2.0 unx     3482 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/README.rst
+-rw-r--r--  2.0 unx       97 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/__init__.py
+-rw-r--r--  2.0 unx     1096 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/__manifest__.py
+-rw-r--r--  2.0 unx      937 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/hooks.py
+-rw-r--r--  2.0 unx     2177 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/data/base_automation.xml
+-rw-r--r--  2.0 unx     5358 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/data/demo.xml
+-rw-r--r--  2.0 unx      816 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/data/ir_cron.xml
+-rw-r--r--  2.0 unx      373 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/data/ir_filters_data.xml
+-rw-r--r--  2.0 unx      686 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/data/queue_job.xml
+-rw-r--r--  2.0 unx     8943 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/i18n/pricelist_cache.pot
+-rw-r--r--  2.0 unx      454 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/migrations/14.0.1.1.0/README.rst
+-rw-r--r--  2.0 unx     1046 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/migrations/14.0.1.1.0/post-migrate.py
+-rw-r--r--  2.0 unx     1754 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/migrations/14.0.1.1.0/pre-migrate.py
+-rw-r--r--  2.0 unx      163 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/models/__init__.py
+-rw-r--r--  2.0 unx     7087 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/models/product_pricelist.py
+-rw-r--r--  2.0 unx    10508 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/models/product_pricelist_cache.py
+-rw-r--r--  2.0 unx     2155 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/models/product_pricelist_item.py
+-rw-r--r--  2.0 unx     3164 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/models/product_product.py
+-rw-r--r--  2.0 unx     2402 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/models/res_partner.py
+-rw-r--r--  2.0 unx      304 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx       50 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/readme/CREDITS.rst
+-rw-r--r--  2.0 unx      563 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      477 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/security/ir.model.access.csv
+-rw-r--r--  2.0 unx     9455 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/static/description/icon.png
+-rw-r--r--  2.0 unx    13488 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/static/description/index.html
+-rw-r--r--  2.0 unx       78 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/tests/__init__.py
+-rw-r--r--  2.0 unx     4484 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/tests/common.py
+-rw-r--r--  2.0 unx     5077 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/tests/test_partner_pricelist_cache.py
+-rw-r--r--  2.0 unx    20577 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/tests/test_pricelist_cache.py
+-rw-r--r--  2.0 unx      835 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/views/product_pricelist.xml
+-rw-r--r--  2.0 unx      913 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/views/product_pricelist_cache.xml
+-rw-r--r--  2.0 unx      961 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/views/res_partner.xml
+-rw-r--r--  2.0 unx       37 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/wizards/__init__.py
+-rw-r--r--  2.0 unx     2210 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/wizards/pricelist_cache_wizard.py
+-rw-r--r--  2.0 unx     2083 b- defN 23-May-24 06:36 odoo/addons/pricelist_cache/wizards/pricelist_cache_wizard.xml
+-rw-r--r--  2.0 unx     4179 b- defN 23-May-24 06:36 odoo14_addon_pricelist_cache-14.0.1.3.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-May-24 06:36 odoo14_addon_pricelist_cache-14.0.1.3.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-May-24 06:36 odoo14_addon_pricelist_cache-14.0.1.3.0.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     4195 b- defN 23-May-24 06:36 odoo14_addon_pricelist_cache-14.0.1.3.0.dist-info/RECORD
+39 files, 122761 bytes uncompressed, 40706 bytes compressed:  66.8%
```

## zipnote {}

```diff
@@ -99,20 +99,20 @@
 
 Filename: odoo/addons/pricelist_cache/wizards/pricelist_cache_wizard.py
 Comment: 
 
 Filename: odoo/addons/pricelist_cache/wizards/pricelist_cache_wizard.xml
 Comment: 
 
-Filename: odoo14_addon_pricelist_cache-14.0.1.2.0.dist-info/METADATA
+Filename: odoo14_addon_pricelist_cache-14.0.1.3.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_pricelist_cache-14.0.1.2.0.dist-info/WHEEL
+Filename: odoo14_addon_pricelist_cache-14.0.1.3.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_pricelist_cache-14.0.1.2.0.dist-info/top_level.txt
+Filename: odoo14_addon_pricelist_cache-14.0.1.3.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_pricelist_cache-14.0.1.2.0.dist-info/RECORD
+Filename: odoo14_addon_pricelist_cache-14.0.1.3.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/pricelist_cache/__manifest__.py

```diff
@@ -2,15 +2,15 @@
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl.html).
 {
     "name": "Pricelist Cache",
     "summary": """
         Provide a new model to cache price lists and update it,
         to make it easier to retrieve them.
     """,
-    "version": "14.0.1.2.0",
+    "version": "14.0.1.3.0",
     "category": "Hidden",
     "author": "Camptocamp, Odoo Community Association (OCA)",
     "license": "AGPL-3",
     "depends": [
         "partner_pricelist_search",
         "base_automation",
         "product",
```

## odoo/addons/pricelist_cache/models/product_pricelist.py

```diff
@@ -128,22 +128,24 @@
     def _get_parent_pricelists(self):
         """Returns the parent pricelists.
 
         The parent pricelist is defined on a pricelist_item when it's applied
         globally, and based on another pricelist
         """
         self.ensure_one()
-        parent_pricelist_items = self.item_ids.filtered(
-            lambda i: (
-                i.applied_on == "3_global"
-                and i.base == "pricelist"
-                and i.base_pricelist_id
-            )
-        )
-        return parent_pricelist_items.mapped("base_pricelist_id")
+        query = """
+            SELECT base_pricelist_id
+            FROM product_pricelist_item
+            WHERE applied_on = '3_global'
+            AND base = 'pricelist'
+            AND base_pricelist_id IS NOT NULL
+            AND pricelist_id = %(pricelist_id)s
+        """
+        self.env.cr.execute(query, {"pricelist_id": self.id})
+        return self.browse([row[0] for row in self.env.cr.fetchall()])
 
     def _is_factor_pricelist(self):
         """Returns whether a pricelist is a factor pricelist.
 
         A factor pricelist is applied globally and refers to another pricelist.
         It also alters the "parent's price" by applying a discount or a surcharge
         on it.
```

## Comparing `odoo14_addon_pricelist_cache-14.0.1.2.0.dist-info/METADATA` & `odoo14_addon_pricelist_cache-14.0.1.3.0.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-pricelist-cache
-Version: 14.0.1.2.0
+Version: 14.0.1.3.0
 Summary: Provide a new model to cache price lists and update it, to make it easier to retrieve them.
 Home-page: https://github.com/OCA/sale-workflow
 Author: Camptocamp, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo14_addon_pricelist_cache-14.0.1.2.0.dist-info/RECORD` & `odoo14_addon_pricelist_cache-14.0.1.3.0.dist-info/RECORD`

 * *Files 6% similar despite different names*

```diff
@@ -1,22 +1,22 @@
 odoo/addons/pricelist_cache/README.rst,sha256=2ibTQOkzXYcX4fbtBNxXMi_iJ2-W7OOn0VStZH9MfLs,3482
 odoo/addons/pricelist_cache/__init__.py,sha256=h4cs7WFQTjdauIb8fmy8D1sGjWG16Tx13lRL0_maLOU,97
-odoo/addons/pricelist_cache/__manifest__.py,sha256=ldO_hBfDzKaI_lodM5HZC3ygc9DufCzhJaQhLLFN8RA,1096
+odoo/addons/pricelist_cache/__manifest__.py,sha256=HgPfoEVf9IP0ErMmIi-75N3JusRSl7Yz7qSgATgyuBw,1096
 odoo/addons/pricelist_cache/hooks.py,sha256=ZWLJ3Wv9HZKgEot9s9tLBs9W9AkZXWK11L60wF5R74c,937
 odoo/addons/pricelist_cache/data/base_automation.xml,sha256=0XQ0LOM9AyiUqeuK4r2DTtBsfaeX6kCQLUg7cNf9GCY,2177
 odoo/addons/pricelist_cache/data/demo.xml,sha256=kiMyZfbhPFzzXL9W0BJYTPAjJjSI4vQDpZZsrYahlnM,5358
 odoo/addons/pricelist_cache/data/ir_cron.xml,sha256=7PiAFxlZGbedsu9v4VYnkyTn2thJXijj398MF02tC1g,816
 odoo/addons/pricelist_cache/data/ir_filters_data.xml,sha256=lfw_BhAy3Kd3stoNjKmQXbfuEjbBQQwdxmwyNSRgTFo,373
 odoo/addons/pricelist_cache/data/queue_job.xml,sha256=SBBI5_bmVFw6x06-RnzfRM0LBjFaImOzKFKqNI7t1oc,686
 odoo/addons/pricelist_cache/i18n/pricelist_cache.pot,sha256=IjJQnfKT8LEXJ56wgubD5R9AD4Cz3vMOkkWQEavHUls,8943
 odoo/addons/pricelist_cache/migrations/14.0.1.1.0/README.rst,sha256=BRt9uSq1k13Y5ueBl3PYnecrfwS-Ego9FZL0scNHWPc,454
 odoo/addons/pricelist_cache/migrations/14.0.1.1.0/post-migrate.py,sha256=qr3Amoq4MaO4mqsrjUVPHJzGMtVFklABvVbRJ93hRvg,1046
 odoo/addons/pricelist_cache/migrations/14.0.1.1.0/pre-migrate.py,sha256=fhaPXig3QW_XuJd0tkAgrezsiR0_AlUmes3ckF0gvNo,1754
 odoo/addons/pricelist_cache/models/__init__.py,sha256=OErDYZppfTkHAFJznhsz3zsZmL_v7rdJc4dVcqiHNfg,163
-odoo/addons/pricelist_cache/models/product_pricelist.py,sha256=Ds6UKUxXHW5zWAu2nLa-wNtrXHLdO69HUbViKL3TEc4,6970
+odoo/addons/pricelist_cache/models/product_pricelist.py,sha256=FQp09-HfJN1W4wQpS6L7xbfs01joamJvGvH7lMbZQbw,7087
 odoo/addons/pricelist_cache/models/product_pricelist_cache.py,sha256=ehzMWY9uY_MN7AiPUbZe-8LevGuPWF-D497E1wmWr9g,10508
 odoo/addons/pricelist_cache/models/product_pricelist_item.py,sha256=JBx4MJU4K0jBtmRCyJCvDsaTql9oOzsCNEepvDyz7sQ,2155
 odoo/addons/pricelist_cache/models/product_product.py,sha256=TgQD00jlG1-lBhZGRh7rP0sIOgkdupQjCtanjVjk5aA,3164
 odoo/addons/pricelist_cache/models/res_partner.py,sha256=fumrrpIkyDQd8vVdNWh-GBr7QxMMQ6DJMH920kKE0aA,2402
 odoo/addons/pricelist_cache/readme/CONTRIBUTORS.rst,sha256=TlzsjN2AoY0u-U3yoKwhBg0GKjM4i72IsJAUSTt7ayY,304
 odoo/addons/pricelist_cache/readme/CREDITS.rst,sha256=-JppA6kiiAVqptoc7ytAB6vOqf_0W5uJrZLh70XGE3w,50
 odoo/addons/pricelist_cache/readme/DESCRIPTION.rst,sha256=Lxwsdm5L1mPV8DWCAOpT_0YbqNJC353CoKE_S0MKQSc,563
@@ -29,11 +29,11 @@
 odoo/addons/pricelist_cache/tests/test_pricelist_cache.py,sha256=v5Z_JnUQnr23SD3QN56ZJBq7Cuk8Q0i-FJCdxzYHK7U,20577
 odoo/addons/pricelist_cache/views/product_pricelist.xml,sha256=eG0sjcIVg4npP2uUyuzq1FLYnT3eeaTt7H2UGDw42SE,835
 odoo/addons/pricelist_cache/views/product_pricelist_cache.xml,sha256=SwJ107flYyqV3UEI6tCidlAEQ0-wSiJzeLjLprsKGis,913
 odoo/addons/pricelist_cache/views/res_partner.xml,sha256=E1dN-fXzwdOxeF84QYHXC-OaYxpb2gCGGv46dVGAYBc,961
 odoo/addons/pricelist_cache/wizards/__init__.py,sha256=jGtJxsKpBvwTuYASFT2RWCrrwBTsa8UrEwCQzQMl4Ok,37
 odoo/addons/pricelist_cache/wizards/pricelist_cache_wizard.py,sha256=Fz7t5EiFf9IwcZs0KxqVPI-I5pnIOwz7jkyHtdsUBFg,2210
 odoo/addons/pricelist_cache/wizards/pricelist_cache_wizard.xml,sha256=GKHvzwjir62531fCJrZG2dlZjOYyNudhB3n-2jCjOnE,2083
-odoo14_addon_pricelist_cache-14.0.1.2.0.dist-info/METADATA,sha256=Gh3WdZTdScHdp4QT2_UKNNjQ51DJVd7_OXWQXIhcTfs,4179
-odoo14_addon_pricelist_cache-14.0.1.2.0.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-odoo14_addon_pricelist_cache-14.0.1.2.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_pricelist_cache-14.0.1.2.0.dist-info/RECORD,,
+odoo14_addon_pricelist_cache-14.0.1.3.0.dist-info/METADATA,sha256=7sYiwFlylFkACPLU5HrBmA9MEP0NjLCTCxkj24NVAYM,4179
+odoo14_addon_pricelist_cache-14.0.1.3.0.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo14_addon_pricelist_cache-14.0.1.3.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_pricelist_cache-14.0.1.3.0.dist-info/RECORD,,
```

